{"version":3,"sources":["./src/app/modules/dashboard/dashboard-pages.routing.module.ts","./src/app/modules/dashboard/dashboard-pages.module.ts"],"names":[],"mappings":"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","file":"dashboard-pages-module.js","sourcesContent":["///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Injectable, NgModule } from '@angular/core';\nimport { ActivatedRouteSnapshot, Resolve, RouterModule, Routes } from '@angular/router';\n\nimport { Authority } from '@shared/models/authority.enum';\nimport { DashboardPageComponent } from '@home/components/dashboard-page/dashboard-page.component';\nimport { Dashboard } from '@app/shared/models/dashboard.models';\nimport { DashboardService } from '@core/http/dashboard.service';\nimport { DashboardUtilsService } from '@core/services/dashboard-utils.service';\nimport { DashboardResolver } from '@app/modules/home/pages/dashboard/dashboard-routing.module';\nimport { UtilsService } from '@core/services/utils.service';\nimport { Widget } from '@app/shared/models/widget.models';\nimport { MODULES_MAP } from '../../shared/models/constants';\nimport { modulesMap } from '../common/modules-map';\n\n@Injectable()\nexport class WidgetEditorDashboardResolver implements Resolve<Dashboard> {\n\n  constructor(private dashboardService: DashboardService,\n              private dashboardUtils: DashboardUtilsService,\n              private utils: UtilsService) {\n  }\n\n  resolve(route: ActivatedRouteSnapshot): Dashboard {\n    const editWidgetInfo = this.utils.editWidgetInfo;\n    const widget: Widget = {\n      isSystemType: true,\n      bundleAlias: 'customWidgetBundle',\n      typeAlias: 'customWidget',\n      type: editWidgetInfo.type,\n      title: 'My widget',\n      image: null,\n      description: null,\n      sizeX: editWidgetInfo.sizeX * 2,\n      sizeY: editWidgetInfo.sizeY * 2,\n      row: 2,\n      col: 4,\n      config: JSON.parse(editWidgetInfo.defaultConfig)\n    };\n    widget.config.title = widget.config.title || editWidgetInfo.widgetName;\n    return this.dashboardUtils.createSingleWidgetDashboard(widget);\n  }\n}\n\nconst routes: Routes = [\n  {\n    path: 'dashboard/:dashboardId',\n    component: DashboardPageComponent,\n    data: {\n      breadcrumb: {\n        skip: true\n      },\n      auth: [Authority.TENANT_ADMIN, Authority.CUSTOMER_USER],\n      title: 'dashboard.dashboard',\n      widgetEditMode: false,\n      singlePageMode: true\n    },\n    resolve: {\n      dashboard: DashboardResolver\n    }\n  },\n  {\n    path: 'widget-editor',\n    component: DashboardPageComponent,\n    data: {\n      breadcrumb: {\n        skip: true\n      },\n      auth: [Authority.SYS_ADMIN, Authority.TENANT_ADMIN],\n      title: 'widget.editor',\n      widgetEditMode: true,\n      singlePageMode: true\n    },\n    resolve: {\n      dashboard: WidgetEditorDashboardResolver\n    }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n  providers: [\n    WidgetEditorDashboardResolver,\n    DashboardResolver,\n    {\n      provide: MODULES_MAP,\n      useValue: modulesMap\n    }\n  ]\n})\nexport class DashboardPagesRoutingModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from '@shared/shared.module';\nimport { HomeComponentsModule } from '@modules/home/components/home-components.module';\nimport { HomeDialogsModule } from '@app/modules/home/dialogs/home-dialogs.module';\nimport { DashboardPagesRoutingModule } from './dashboard-pages.routing.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule,\n    HomeComponentsModule,\n    HomeDialogsModule,\n    DashboardPagesRoutingModule\n  ]\n})\nexport class DashboardPagesModule { }\n"],"sourceRoot":"webpack:///"}