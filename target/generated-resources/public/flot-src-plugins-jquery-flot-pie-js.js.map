{"version":3,"sources":["./node_modules/flot/src/plugins/jquery.flot.pie.js"],"names":["$","REDRAW_ATTEMPTS","REDRAW_SHRINK","init","plot","canvas","target","options","maxRadius","centerLeft","centerTop","processed","ctx","highlights","hooks","processOptions","push","series","pie","show","grid","label","legend","radius","tilt","bindEvents","eventHolder","getOptions","hoverable","unbind","mousemove","onMouseMove","clickable","click","onClick","processDatapoints","data","datapoints","drawOverlay","octx","draw","newCtx","getCanvas","parent","setData","combine","getData","total","combined","numCombined","color","newdata","i","value","length","isArray","isNaN","parseFloat","isFinite","threshold","extend","angle","Math","PI","percent","canvasWidth","getPlaceholder","width","canvasHeight","height","legendWidth","children","filter","min","offset","top","left","position","match","slices","attempts","clear","drawShadow","drawPie","console","warn","setSeries","insertLegend","clearRect","remove","shadowLeft","shadow","shadowTop","edge","alpha","save","translate","globalAlpha","fillStyle","scale","beginPath","arc","fill","restore","startAngle","currentAngle","drawSlice","stroke","lineWidth","drawDonutHole","drawLabels","strokeStyle","lineJoin","abs","moveTo","closePath","drawLabel","slice","index","lf","labelFormatter","text","plf","formatter","halfAngle","x","round","cos","y","sin","html","append","labelTop","labelLeft","css","background","opacity","c","pos","insertBefore","layer","innerRadius","globalCompositeOperation","isPointInPoly","poly","pt","l","j","findNearbySlice","mouseX","mouseY","s","isPointInPath","datapoint","dataIndex","seriesIndex","p1X","p1Y","p2X","p2Y","p3X","p3Y","p4X","p4Y","p5X","p5Y","arrPoly","arrPoint","e","triggerClickHoverEvent","eventname","canvasX","parseInt","pageX","canvasY","pageY","item","autoHighlight","h","auto","unhighlight","highlight","trigger","indexOfHighlight","triggerRedrawOverlay","splice","drawHighlight","plugins","name","version","jQuery"],"mappings":"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","file":"flot-src-plugins-jquery-flot-pie-js.js","sourcesContent":["/* Flot plugin for rendering pie charts.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nThe plugin assumes that each series has a single data value, and that each\nvalue is a positive integer or zero.  Negative numbers don't make sense for a\npie chart, and have unpredictable results.  The values do NOT need to be\npassed in as percentages; the plugin will calculate the total and per-slice\npercentages internally.\n\n* Created by Brian Medendorp\n\n* Updated with contributions from btburnett3, Anthony Aragues and Xavi Ivars\n\nThe plugin supports these options:\n\n    series: {\n        pie: {\n            show: true/false\n            radius: 0-1 for percentage of fullsize, or a specified pixel length, or 'auto'\n            innerRadius: 0-1 for percentage of fullsize or a specified pixel length, for creating a donut effect\n            startAngle: 0-2 factor of PI used for starting angle (in radians) i.e 3/2 starts at the top, 0 and 2 have the same result\n            tilt: 0-1 for percentage to tilt the pie, where 1 is no tilt, and 0 is completely flat (nothing will show)\n            offset: {\n                top: integer value to move the pie up or down\n                left: integer value to move the pie left or right, or 'auto'\n            },\n            stroke: {\n                color: any hexidecimal color value (other formats may or may not work, so best to stick with something like '#FFF')\n                width: integer pixel width of the stroke\n            },\n            label: {\n                show: true/false, or 'auto'\n                formatter:  a user-defined function that modifies the text/style of the label text\n                radius: 0-1 for percentage of fullsize, or a specified pixel length\n                background: {\n                    color: any hexidecimal color value (other formats may or may not work, so best to stick with something like '#000')\n                    opacity: 0-1\n                },\n                threshold: 0-1 for the percentage value at which to hide labels (if they're too small)\n            },\n            combine: {\n                threshold: 0-1 for the percentage value at which to combine slices (if they're too small)\n                color: any hexidecimal color value (other formats may or may not work, so best to stick with something like '#CCC'), if null, the plugin will automatically use the color of the first slice to be combined\n                label: any text value of what the combined slice should be labeled\n            }\n            highlight: {\n                opacity: 0-1\n            }\n        }\n    }\n\nMore detail and specific examples can be found in the included HTML file.\n\n*/\n\n(function($) {\n\n    // Maximum redraw attempts when fitting labels within the plot\n\n    var REDRAW_ATTEMPTS = 10,\n\n        // Factor by which to shrink the pie when fitting labels within the plot\n\n        REDRAW_SHRINK = 0.95;\n\n    function init(plot) {\n\n        var canvas = null,\n            target = null,\n            options = null,\n            maxRadius = null,\n            centerLeft = null,\n            centerTop = null,\n            processed = false,\n            ctx = null,\n\n            // interactive variables\n\n            highlights = [];\n\n        // add hook to determine if pie plugin in enabled, and then perform necessary operations\n\n        plot.hooks.processOptions.push(function(plot, options) {\n            if (options.series.pie.show) {\n\n                options.grid.show = false;\n\n                // set labels.show\n\n                if (options.series.pie.label.show === \"auto\") {\n                    if (options.legend.show) {\n                        options.series.pie.label.show = false;\n                    } else {\n                        options.series.pie.label.show = true;\n                    }\n                }\n\n                // set radius\n\n                if (options.series.pie.radius === \"auto\") {\n                    if (options.series.pie.label.show) {\n                        options.series.pie.radius = 3 / 4;\n                    } else {\n                        options.series.pie.radius = 1;\n                    }\n                }\n\n                // ensure sane tilt\n\n                if (options.series.pie.tilt > 1) {\n                    options.series.pie.tilt = 1;\n                } else if (options.series.pie.tilt < 0) {\n                    options.series.pie.tilt = 0;\n                }\n            }\n        });\n\n        plot.hooks.bindEvents.push(function(plot, eventHolder) {\n            var options = plot.getOptions();\n            if (options.series.pie.show) {\n                if (options.grid.hoverable) {\n                    eventHolder.unbind(\"mousemove\").mousemove(onMouseMove);\n                }\n                if (options.grid.clickable) {\n                    eventHolder.unbind(\"click\").click(onClick);\n                }\n            }\n        });\n\n        plot.hooks.processDatapoints.push(function(plot, series, data, datapoints) {\n            var options = plot.getOptions();\n            if (options.series.pie.show) {\n                processDatapoints(plot, series, data, datapoints);\n            }\n        });\n\n        plot.hooks.drawOverlay.push(function(plot, octx) {\n            var options = plot.getOptions();\n            if (options.series.pie.show) {\n                drawOverlay(plot, octx);\n            }\n        });\n\n        plot.hooks.draw.push(function(plot, newCtx) {\n            var options = plot.getOptions();\n            if (options.series.pie.show) {\n                draw(plot, newCtx);\n            }\n        });\n\n        function processDatapoints(plot) {\n            if (!processed)    {\n                processed = true;\n                canvas = plot.getCanvas();\n                target = $(canvas).parent();\n                options = plot.getOptions();\n                plot.setData(combine(plot.getData()));\n            }\n        }\n\n        function combine(data) {\n\n            var total = 0,\n                combined = 0,\n                numCombined = 0,\n                color = options.series.pie.combine.color,\n                newdata = [],\n                i, value;\n\n            // Fix up the raw data from Flot, ensuring the data is numeric\n\n            for (i = 0; i < data.length; ++i) {\n\n                value = data[i].data;\n\n                // If the data is an array, we'll assume that it's a standard\n                // Flot x-y pair, and are concerned only with the second value.\n\n                // Note how we use the original array, rather than creating a\n                // new one; this is more efficient and preserves any extra data\n                // that the user may have stored in higher indexes.\n\n                if ($.isArray(value) && value.length === 1) {\n                    value = value[0];\n                }\n\n                if ($.isArray(value)) {\n                    // Equivalent to $.isNumeric() but compatible with jQuery < 1.7\n                    if (!isNaN(parseFloat(value[1])) && isFinite(value[1])) {\n                        value[1] = +value[1];\n                    } else {\n                        value[1] = 0;\n                    }\n                } else if (!isNaN(parseFloat(value)) && isFinite(value)) {\n                    value = [1, +value];\n                } else {\n                    value = [1, 0];\n                }\n\n                data[i].data = [value];\n            }\n\n            // Sum up all the slices, so we can calculate percentages for each\n\n            for (i = 0; i < data.length; ++i) {\n                total += data[i].data[0][1];\n            }\n\n            // Count the number of slices with percentages below the combine\n            // threshold; if it turns out to be just one, we won't combine.\n\n            for (i = 0; i < data.length; ++i) {\n                value = data[i].data[0][1];\n                if (value / total <= options.series.pie.combine.threshold) {\n                    combined += value;\n                    numCombined++;\n                    if (!color) {\n                        color = data[i].color;\n                    }\n                }\n            }\n\n            for (i = 0; i < data.length; ++i) {\n                value = data[i].data[0][1];\n                if (numCombined < 2 || value / total > options.series.pie.combine.threshold) {\n                    newdata.push(\n                        // Use extend rather than replacing, so other original\n                        // data values can be used, e.g. in labelFormatter.\n                        $.extend(data[i], {\n                            data: [[1, value]],\n                            color: data[i].color,\n                            label: data[i].label,\n                            angle: value * Math.PI * 2 / total,\n                            percent: value / (total / 100)\n                        })\n                    );\n                }\n            }\n\n            if (numCombined > 1) {\n                newdata.push({\n                    data: [[1, combined]],\n                    color: color,\n                    label: options.series.pie.combine.label,\n                    angle: combined * Math.PI * 2 / total,\n                    percent: combined / (total / 100)\n                });\n            }\n\n            return newdata;\n        }\n\n        function draw(plot, newCtx) {\n\n            /* global console */\n\n            if (!target) {\n                return; // if no series were passed\n            }\n\n            var canvasWidth = plot.getPlaceholder().width(),\n                canvasHeight = plot.getPlaceholder().height(),\n                legendWidth = target.children().filter(\".legend\").children().width() || 0;\n\n            ctx = newCtx;\n\n            // WARNING: HACK! REWRITE THIS CODE AS SOON AS POSSIBLE!\n\n            // When combining smaller slices into an 'other' slice, we need to\n            // add a new series.  Since Flot gives plugins no way to modify the\n            // list of series, the pie plugin uses a hack where the first call\n            // to processDatapoints results in a call to setData with the new\n            // list of series, then subsequent processDatapoints do nothing.\n\n            // The plugin-global 'processed' flag is used to control this hack;\n            // it starts out false, and is set to true after the first call to\n            // processDatapoints.\n\n            // Unfortunately this turns future setData calls into no-ops; they\n            // call processDatapoints, the flag is true, and nothing happens.\n\n            // To fix this we'll set the flag back to false here in draw, when\n            // all series have been processed, so the next sequence of calls to\n            // processDatapoints once again starts out with a slice-combine.\n            // This is really a hack; in 0.9 we need to give plugins a proper\n            // way to modify series before any processing begins.\n\n            processed = false;\n\n            // calculate maximum radius and center point\n\n            maxRadius =  Math.min(canvasWidth, canvasHeight / options.series.pie.tilt) / 2;\n            centerTop = canvasHeight / 2 + options.series.pie.offset.top;\n            centerLeft = canvasWidth / 2;\n\n            if (options.series.pie.offset.left === \"auto\") {\n                if (options.legend.position.match(\"w\")) {\n                    centerLeft += legendWidth / 2;\n                } else {\n                    centerLeft -= legendWidth / 2;\n                }\n                if (centerLeft < maxRadius) {\n                    centerLeft = maxRadius;\n                } else if (centerLeft > canvasWidth - maxRadius) {\n                    centerLeft = canvasWidth - maxRadius;\n                }\n            } else {\n                centerLeft += options.series.pie.offset.left;\n            }\n\n            var slices = plot.getData(),\n                attempts = 0;\n\n            // Keep shrinking the pie's radius until drawPie returns true,\n            // indicating that all the labels fit, or we try too many times.\n\n            do {\n                if (attempts > 0) {\n                    maxRadius *= REDRAW_SHRINK;\n                }\n                attempts += 1;\n                clear();\n                if (options.series.pie.tilt <= 0.8) {\n                    drawShadow();\n                }\n            } while (!drawPie() && attempts < REDRAW_ATTEMPTS);\n\n            if (attempts >= REDRAW_ATTEMPTS) {\n                clear();\n                if ( typeof console === \"object\" && typeof console.warn === \"function\" ) {\n                    console.warn(\"Could not draw pie with labels contained inside canvas\");\n                }\n            }\n\n            if (plot.setSeries && plot.insertLegend) {\n                plot.setSeries(slices);\n                plot.insertLegend();\n            }\n\n            // we're actually done at this point, just defining internal functions at this point\n\n            function clear() {\n                ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n                target.children().filter(\".pieLabel, .pieLabelBackground\").remove();\n            }\n\n            function drawShadow() {\n\n                var shadowLeft = options.series.pie.shadow.left,\n                    shadowTop = options.series.pie.shadow.top,\n                    edge = 10,\n                    alpha = options.series.pie.shadow.alpha,\n                    radius = options.series.pie.radius > 1 ? options.series.pie.radius : maxRadius * options.series.pie.radius;\n\n                if (radius >= canvasWidth / 2 - shadowLeft || radius * options.series.pie.tilt >= canvasHeight / 2 - shadowTop || radius <= edge) {\n                    return;    // shadow would be outside canvas, so don't draw it\n                }\n\n                ctx.save();\n                ctx.translate(shadowLeft,shadowTop);\n                ctx.globalAlpha = alpha;\n                ctx.fillStyle = \"#000\";\n\n                // center and rotate to starting position\n\n                ctx.translate(centerLeft,centerTop);\n                ctx.scale(1, options.series.pie.tilt);\n\n                //radius -= edge;\n\n                for (var i = 1; i <= edge; i++) {\n                    ctx.beginPath();\n                    ctx.arc(0, 0, radius, 0, Math.PI * 2, false);\n                    ctx.fill();\n                    radius -= i;\n                }\n\n                ctx.restore();\n            }\n\n            function drawPie() {\n\n                var startAngle = Math.PI * options.series.pie.startAngle,\n                    radius = options.series.pie.radius > 1 ? options.series.pie.radius : maxRadius * options.series.pie.radius,\n                    i;\n\n                // center and rotate to starting position\n\n                ctx.save();\n                ctx.translate(centerLeft,centerTop);\n                ctx.scale(1, options.series.pie.tilt);\n                //ctx.rotate(startAngle); // start at top; -- This doesn't work properly in Opera\n\n                // draw slices\n\n                ctx.save();\n                var currentAngle = startAngle;\n                for (i = 0; i < slices.length; ++i) {\n                    slices[i].startAngle = currentAngle;\n                    drawSlice(slices[i].angle, slices[i].color, true);\n                }\n                ctx.restore();\n\n                // draw slice outlines\n\n                if (options.series.pie.stroke.width > 0) {\n                    ctx.save();\n                    ctx.lineWidth = options.series.pie.stroke.width;\n                    currentAngle = startAngle;\n                    for (i = 0; i < slices.length; ++i) {\n                        drawSlice(slices[i].angle, options.series.pie.stroke.color, false);\n                    }\n                    ctx.restore();\n                }\n\n                // draw donut hole\n\n                drawDonutHole(ctx);\n\n                ctx.restore();\n\n                // Draw the labels, returning true if they fit within the plot\n\n                if (options.series.pie.label.show) {\n                    return drawLabels();\n                } else {\n                    return true;\n                }\n\n                function drawSlice(angle, color, fill) {\n\n                    if (angle <= 0 || isNaN(angle)) {\n                        return;\n                    }\n\n                    if (fill) {\n                        ctx.fillStyle = color;\n                    } else {\n                        ctx.strokeStyle = color;\n                        ctx.lineJoin = \"round\";\n                    }\n\n                    ctx.beginPath();\n                    if (Math.abs(angle - Math.PI * 2) > 0.000000001) {\n                        ctx.moveTo(0, 0); // Center of the pie\n                    }\n\n                    //ctx.arc(0, 0, radius, 0, angle, false); // This doesn't work properly in Opera\n                    ctx.arc(0, 0, radius,currentAngle, currentAngle + angle / 2, false);\n                    ctx.arc(0, 0, radius,currentAngle + angle / 2, currentAngle + angle, false);\n                    ctx.closePath();\n                    //ctx.rotate(angle); // This doesn't work properly in Opera\n                    currentAngle += angle;\n\n                    if (fill) {\n                        ctx.fill();\n                    } else {\n                        ctx.stroke();\n                    }\n                }\n\n                function drawLabels() {\n\n                    var currentAngle = startAngle,\n                        radius = options.series.pie.label.radius > 1 ? options.series.pie.label.radius : maxRadius * options.series.pie.label.radius;\n\n                    for (var i = 0; i < slices.length; ++i) {\n                        if (slices[i].percent >= options.series.pie.label.threshold * 100) {\n                            if (!drawLabel(slices[i], currentAngle, i)) {\n                                return false;\n                            }\n                        }\n                        currentAngle += slices[i].angle;\n                    }\n\n                    return true;\n\n                    function drawLabel(slice, startAngle, index) {\n\n                        if (slice.data[0][1] === 0) {\n                            return true;\n                        }\n\n                        // format label text\n\n                        var lf = options.legend.labelFormatter, text, plf = options.series.pie.label.formatter;\n\n                        if (lf) {\n                            text = lf(slice.label, slice);\n                        } else {\n                            text = slice.label;\n                        }\n\n                        if (plf) {\n                            text = plf(text, slice);\n                        }\n\n                        var halfAngle = ((startAngle + slice.angle) + startAngle) / 2,\n                            x = centerLeft + Math.round(Math.cos(halfAngle) * radius),\n                            y = centerTop + Math.round(Math.sin(halfAngle) * radius) * options.series.pie.tilt,\n                            html = \"<span class='pieLabel' id='pieLabel\" + index + \"' style='position:absolute;top:\" + y + \"px;left:\" + x + \"px;'>\" + text + \"</span>\";\n\n                        target.append(html);\n\n                        var label = target.children(\"#pieLabel\" + index),\n                            labelTop = (y - label.height() / 2),\n                            labelLeft = (x - label.width() / 2);\n\n                        label.css(\"top\", labelTop);\n                        label.css(\"left\", labelLeft);\n\n                        // check to make sure that the label is not outside the canvas\n\n                        if (0 - labelTop > 0 || 0 - labelLeft > 0 || canvasHeight - (labelTop + label.height()) < 0 || canvasWidth - (labelLeft + label.width()) < 0) {\n                            return false;\n                        }\n\n                        if (options.series.pie.label.background.opacity !== 0) {\n\n                            // put in the transparent background separately to avoid blended labels and label boxes\n\n                            var c = options.series.pie.label.background.color;\n\n                            if (c == null) {\n                                c = slice.color;\n                            }\n\n                            var pos = \"top:\" + labelTop + \"px;left:\" + labelLeft + \"px;\";\n                            $(\"<div class='pieLabelBackground' style='position:absolute;width:\" + label.width() + \"px;height:\" + label.height() + \"px;\" + pos + \"background-color:\" + c + \";'></div>\")\n                                .css(\"opacity\", options.series.pie.label.background.opacity)\n                                .insertBefore(label);\n                        }\n\n                        return true;\n                    } // end individual label function\n                } // end drawLabels function\n            } // end drawPie function\n        } // end draw function\n\n        // Placed here because it needs to be accessed from multiple locations\n\n        function drawDonutHole(layer) {\n            if (options.series.pie.innerRadius > 0) {\n\n                // subtract the center\n\n                layer.save();\n                var innerRadius = options.series.pie.innerRadius > 1 ? options.series.pie.innerRadius : maxRadius * options.series.pie.innerRadius;\n                layer.globalCompositeOperation = \"destination-out\"; // this does not work with excanvas, but it will fall back to using the stroke color\n                layer.beginPath();\n                layer.fillStyle = options.series.pie.stroke.color;\n                layer.arc(0, 0, innerRadius, 0, Math.PI * 2, false);\n                layer.fill();\n                layer.closePath();\n                layer.restore();\n\n                // add inner stroke\n\n                layer.save();\n                layer.beginPath();\n                layer.strokeStyle = options.series.pie.stroke.color;\n                layer.arc(0, 0, innerRadius, 0, Math.PI * 2, false);\n                layer.stroke();\n                layer.closePath();\n                layer.restore();\n\n                // TODO: add extra shadow inside hole (with a mask) if the pie is tilted.\n            }\n        }\n\n        //-- Additional Interactive related functions --\n\n        function isPointInPoly(poly, pt) {\n            for (var c = false, i = -1, l = poly.length, j = l - 1; ++i < l; j = i) {\n                ((poly[i][1] <= pt[1] && pt[1] < poly[j][1]) ||\n                 (poly[j][1] <= pt[1] && pt[1] < poly[i][1])) &&\n                (pt[0] < (poly[j][0] - poly[i][0]) * (pt[1] - poly[i][1]) / (poly[j][1] - poly[i][1]) + poly[i][0]) &&\n                (c = !c);\n            }\n            return c;\n        }\n\n        function findNearbySlice(mouseX, mouseY) {\n\n            var slices = plot.getData(),\n                options = plot.getOptions(),\n                radius = options.series.pie.radius > 1 ? options.series.pie.radius : maxRadius * options.series.pie.radius,\n                x, y;\n\n            for (var i = 0; i < slices.length; ++i) {\n\n                var s = slices[i];\n\n                if (s.pie.show) {\n\n                    ctx.save();\n                    ctx.beginPath();\n                    ctx.moveTo(0, 0); // Center of the pie\n                    //ctx.scale(1, options.series.pie.tilt);    // this actually seems to break everything when here.\n                    ctx.arc(0, 0, radius, s.startAngle, s.startAngle + s.angle / 2, false);\n                    ctx.arc(0, 0, radius, s.startAngle + s.angle / 2, s.startAngle + s.angle, false);\n                    ctx.closePath();\n                    x = mouseX - centerLeft;\n                    y = mouseY - centerTop;\n\n                    if (ctx.isPointInPath) {\n                        if (ctx.isPointInPath(mouseX - centerLeft, mouseY - centerTop)) {\n                            ctx.restore();\n                            return {\n                                datapoint: [s.percent, s.data],\n                                dataIndex: 0,\n                                series: s,\n                                seriesIndex: i\n                            };\n                        }\n                    } else {\n\n                        // excanvas for IE doesn;t support isPointInPath, this is a workaround.\n\n                        var p1X = radius * Math.cos(s.startAngle),\n                            p1Y = radius * Math.sin(s.startAngle),\n                            p2X = radius * Math.cos(s.startAngle + s.angle / 4),\n                            p2Y = radius * Math.sin(s.startAngle + s.angle / 4),\n                            p3X = radius * Math.cos(s.startAngle + s.angle / 2),\n                            p3Y = radius * Math.sin(s.startAngle + s.angle / 2),\n                            p4X = radius * Math.cos(s.startAngle + s.angle / 1.5),\n                            p4Y = radius * Math.sin(s.startAngle + s.angle / 1.5),\n                            p5X = radius * Math.cos(s.startAngle + s.angle),\n                            p5Y = radius * Math.sin(s.startAngle + s.angle),\n                            arrPoly = [[0, 0], [p1X, p1Y], [p2X, p2Y], [p3X, p3Y], [p4X, p4Y], [p5X, p5Y]],\n                            arrPoint = [x, y];\n\n                        // TODO: perhaps do some mathmatical trickery here with the Y-coordinate to compensate for pie tilt?\n\n                        if (isPointInPoly(arrPoly, arrPoint)) {\n                            ctx.restore();\n                            return {\n                                datapoint: [s.percent, s.data],\n                                dataIndex: 0,\n                                series: s,\n                                seriesIndex: i\n                            };\n                        }\n                    }\n\n                    ctx.restore();\n                }\n            }\n\n            return null;\n        }\n\n        function onMouseMove(e) {\n            triggerClickHoverEvent(\"plothover\", e);\n        }\n\n        function onClick(e) {\n            triggerClickHoverEvent(\"plotclick\", e);\n        }\n\n        // trigger click or hover event (they send the same parameters so we share their code)\n\n        function triggerClickHoverEvent(eventname, e) {\n\n            var offset = plot.offset(),\n                canvasX = parseInt(e.pageX - offset.left, 10),\n                canvasY = parseInt(e.pageY - offset.top, 10),\n                item = findNearbySlice(canvasX, canvasY);\n\n            if (options.grid.autoHighlight) {\n\n                // clear auto-highlights\n\n                for (var i = 0; i < highlights.length; ++i) {\n                    var h = highlights[i];\n                    if (h.auto === eventname && !(item && h.series === item.series)) {\n                        unhighlight(h.series);\n                    }\n                }\n            }\n\n            // highlight the slice\n\n            if (item) {\n                highlight(item.series, eventname);\n            }\n\n            // trigger any hover bind events\n\n            var pos = { pageX: e.pageX, pageY: e.pageY };\n            target.trigger(eventname, [pos, item]);\n        }\n\n        function highlight(s, auto) {\n            //if (typeof s == \"number\") {\n            //    s = series[s];\n            //}\n\n            var i = indexOfHighlight(s);\n\n            if (i === -1) {\n                highlights.push({ series: s, auto: auto });\n                plot.triggerRedrawOverlay();\n            } else if (!auto) {\n                highlights[i].auto = false;\n            }\n        }\n\n        function unhighlight(s) {\n            if (s == null) {\n                highlights = [];\n                plot.triggerRedrawOverlay();\n            }\n\n            //if (typeof s == \"number\") {\n            //    s = series[s];\n            //}\n\n            var i = indexOfHighlight(s);\n\n            if (i !== -1) {\n                highlights.splice(i, 1);\n                plot.triggerRedrawOverlay();\n            }\n        }\n\n        function indexOfHighlight(s) {\n            for (var i = 0; i < highlights.length; ++i) {\n                var h = highlights[i];\n                if (h.series === s) {\n                    return i;\n                }\n            }\n            return -1;\n        }\n\n        function drawOverlay(plot, octx) {\n\n            var options = plot.getOptions(),\n                radius = options.series.pie.radius > 1 ? options.series.pie.radius : maxRadius * options.series.pie.radius;\n\n            octx.save();\n            octx.translate(centerLeft, centerTop);\n            octx.scale(1, options.series.pie.tilt);\n\n            for (var i = 0; i < highlights.length; ++i) {\n                drawHighlight(highlights[i].series);\n            }\n\n            drawDonutHole(octx);\n\n            octx.restore();\n\n            function drawHighlight(series) {\n\n                if (series.angle <= 0 || isNaN(series.angle)) {\n                    return;\n                }\n\n                //octx.fillStyle = parseColor(options.series.pie.highlight.color).scale(null, null, null, options.series.pie.highlight.opacity).toString();\n                octx.fillStyle = \"rgba(255, 255, 255, \" + options.series.pie.highlight.opacity + \")\"; // this is temporary until we have access to parseColor\n                octx.beginPath();\n                if (Math.abs(series.angle - Math.PI * 2) > 0.000000001) {\n                    octx.moveTo(0, 0); // Center of the pie\n                }\n                octx.arc(0, 0, radius, series.startAngle, series.startAngle + series.angle / 2, false);\n                octx.arc(0, 0, radius, series.startAngle + series.angle / 2, series.startAngle + series.angle, false);\n                octx.closePath();\n                octx.fill();\n            }\n        }\n    } // end init (plugin body)\n\n    // define pie specific options and their default values\n\n    var options = {\n        series: {\n            pie: {\n                show: false,\n                radius: \"auto\",    // actual radius of the visible pie (based on full calculated radius if <=1, or hard pixel value)\n                innerRadius: 0, /* for donut */\n                startAngle: 3 / 2,\n                tilt: 1,\n                shadow: {\n                    left: 5,    // shadow left offset\n                    top: 15,    // shadow top offset\n                    alpha: 0.02    // shadow alpha\n                },\n                offset: {\n                    top: 0,\n                    left: \"auto\"\n                },\n                stroke: {\n                    color: \"#fff\",\n                    width: 1\n                },\n                label: {\n                    show: \"auto\",\n                    formatter: function(label, slice) {\n                        return \"<div style='font-size:x-small;text-align:center;padding:2px;color:\" + slice.color + \";'>\" + label + \"<br/>\" + Math.round(slice.percent) + \"%</div>\";\n                    },    // formatter function\n                    radius: 1,    // radius at which to place the labels (based on full calculated radius if <=1, or hard pixel value)\n                    background: {\n                        color: null,\n                        opacity: 0\n                    },\n                    threshold: 0    // percentage at which to hide the label (i.e. the slice is too narrow)\n                },\n                combine: {\n                    threshold: -1,    // percentage at which to combine little slices into one larger slice\n                    color: null,    // color to give the new slice (auto-generated if null)\n                    label: \"Other\"    // label to give the new slice\n                },\n                highlight: {\n                    //color: \"#fff\",        // will add this functionality once parseColor is available\n                    opacity: 0.5\n                }\n            }\n        }\n    };\n\n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: \"pie\",\n        version: \"1.1\"\n    });\n\n})(jQuery);\n"],"sourceRoot":"webpack:///"}