{"version":3,"sources":["./node_modules/ace-builds/src-noconflict/ext-split.js","./node_modules/react-ace/lib/split.js","./node_modules/react-ace/lib/diff.js","./node_modules/lodash.isequal/index.js","./node_modules/diff-match-patch/index.js","./node_modules/react-ace/lib/ace.js","./node_modules/react-ace/lib/index.js","./node_modules/react-ace/lib/editorOptions.js","./node_modules/lodash.get/index.js"],"names":["ace","define","require","exports","module","oop","lang","EventEmitter","Editor","Renderer","VirtualRenderer","EditSession","Split","container","theme","splits","BELOW","BESIDE","$container","$theme","$splits","$editorCSS","$editors","$orientation","setSplits","$cEditor","on","editor","bind","implement","$createEditor","el","document","createElement","className","style","cssText","appendChild","_emit","push","setFontSize","$fontSize","length","removeChild","resize","getSplits","getEditor","idx","getCurrentEditor","focus","blur","setTheme","forEach","setKeyboardHandler","keybinding","callback","scope","size","$cloneSession","session","s","getDocument","getMode","undoManager","getUndoManager","setUndoManager","setTabSize","getTabSize","setUseSoftTabs","getUseSoftTabs","setOverwrite","getOverwrite","setBreakpoints","getBreakpoints","setUseWrapMode","getUseWrapMode","setUseWorker","getUseWorker","setWrapLimitRange","$wrapLimitRange","min","max","$foldData","$cloneFoldData","setSession","isUsed","some","getOrientation","setOrientation","orientation","width","clientWidth","height","clientHeight","editorWidth","i","top","left","editorHeight","call","prototype","m","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","__assign","assign","t","n","arguments","apply","defineProperty","value","editorOptions_1","getAceInstance","ace_builds_1","ext_split_1","PropTypes","React","isEqual","get","SplitComponent","_super","props","_this","editorEvents","method","debounce","isInShadow","node","parent","parentNode","toString","componentDidMount","_a","onBeforeLoad","mode","fontSize","defaultValue","cursorStart","showGutter","wrapEnabled","showPrintMargin","_b","scrollMargin","keyboardHandler","onLoad","commands","annotations","markers","edit","refEditor","renderer","attachToShadowRoot","editorProps","keys","split","env","splitEditor","setShowPrintMargin","setShowGutter","availableOptions","$options","debounceChangePeriod","onChange","index","defaultValueForEditor","valueForEditor","UndoManager","setScrollMargin","getSession","setMode","onFocus","onBlur","onInput","onCopy","onPaste","selection","onSelectionChange","onCursorChange","onScroll","setValue","undefined","newAnnotations","newMarkers","setAnnotations","handleMarkers","editorOptions","option","setOption","console","warn","handleOptions","isArray","command","exec","bindKey","addCommand","sp","componentDidUpdate","prevProps","oldProps","nextProps","setOptions","nextValue","getValue","silent","pos","toJSON","fromJSON","oldAnnotations","oldMarkers","appliedClasses","appliedClassesArray_1","trim","oldClassesArray","oldClass","indexOf","splice","join","componentWillUnmount","destroy","event","value_1","value_2","getSelection","value_3","text","y","currentMarkers","getMarkers","removeMarker","id","startRow","startCol","endRow","endCol","type","inFront","range","Range","addMarker","updateRef","item","render","name","divStyle","ref","propTypes","string","number","arrayOf","bool","oneOfType","func","minLines","maxLines","readOnly","highlightActiveLine","tabSize","object","array","enableBasicAutocompletion","enableLiveAutocompletion","defaultProps","Component","default","split_1","DiffMatchPatch","DiffComponent","state","diff","setState","dmp","lhString","rhString","diff_main","diff_cleanupSemantic","diffedLines","generateDiffedLines","codeEditorSettings","setCodeMarkers","C","DIFF_EQUAL","DIFF_DELETE","DIFF_INSERT","right","cursor","chunk","chunkType","lines","firstChar","lastChar","linesToHighlight","startLine","endLine","Error","newMarkerSet","markerObj","LARGE_ARRAY_SIZE","HASH_UNDEFINED","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","MAX_SAFE_INTEGER","argsTag","arrayTag","asyncTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","nullTag","objectTag","promiseTag","proxyTag","regexpTag","setTag","stringTag","symbolTag","undefinedTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reRegExpChar","reIsHostCtor","reIsUint","typedArrayTags","freeGlobal","global","freeSelf","self","root","Function","freeExports","nodeType","freeModule","moduleExports","freeProcess","process","nodeUtil","binding","e","nodeIsTypedArray","isTypedArray","arrayFilter","predicate","resIndex","result","arrayPush","values","offset","arraySome","baseTimes","iteratee","baseUnary","cacheHas","cache","key","has","mapToArray","map","overArg","transform","arg","setToArray","set","arrayProto","funcProto","objectProto","coreJsData","funcToString","maskSrcKey","uid","IE_PROTO","nativeObjectToString","reIsNative","RegExp","replace","Buffer","Symbol","Uint8Array","propertyIsEnumerable","symToStringTag","toStringTag","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","isBuffer","nativeKeys","DataView","getNative","Map","Promise","Set","WeakMap","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","Hash","entries","clear","entry","hashClear","__data__","hashDelete","hashGet","data","hashHas","hashSet","ListCache","listCacheClear","listCacheDelete","assocIndexOf","lastIndex","pop","listCacheGet","listCacheHas","listCacheSet","MapCache","mapCacheClear","mapCacheDelete","getMapData","mapCacheGet","mapCacheHas","mapCacheSet","SetCache","add","setCacheAdd","setCacheHas","Stack","stackClear","stackDelete","stackGet","stackHas","stackSet","pairs","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","String","isIndex","eq","baseGetAllKeys","keysFunc","symbolsFunc","baseGetTag","getRawTag","objectToString","baseIsArguments","isObjectLike","baseIsEqual","other","bitmask","customizer","stack","baseIsEqualDeep","equalFunc","objIsArr","othIsArr","objTag","getTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","equalObjects","baseIsNative","isObject","isMasked","pattern","isFunction","test","baseIsTypedArray","isLength","baseKeys","isPrototype","isPartial","arrLength","othLength","stacked","seen","arrValue","othValue","compared","othIndex","tag","byteLength","byteOffset","buffer","message","convert","objProps","getAllKeys","objLength","othProps","skipCtor","objValue","objCtor","othCtor","getSymbols","isKeyable","isOwn","unmasked","stubArray","symbol","ArrayBuffer","resolve","Ctor","ctorString","proto","isArrayLike","stubFalse","diff_match_patch","Diff_Timeout","Diff_EditCost","Match_Threshold","Match_Distance","Patch_DeleteThreshold","Patch_Margin","Match_MaxBits","Diff","op","text1","text2","opt_checklines","opt_deadline","Number","MAX_VALUE","Date","getTime","deadline","checklines","commonlength","diff_commonPrefix","commonprefix","substring","diff_commonSuffix","commonsuffix","diffs","diff_compute_","unshift","diff_cleanupMerge","longtext","shorttext","hm","diff_halfMatch_","text1_a","text1_b","text2_a","text2_b","mid_common","diffs_a","diffs_b","concat","diff_lineMode_","diff_bisect_","a","diff_linesToChars_","chars1","chars2","linearray","lineArray","diff_charsToLines_","pointer","count_delete","count_insert","text_delete","text_insert","subDiff","j","text1_length","text2_length","max_d","Math","ceil","v_offset","v_length","v1","v2","x","delta","front","k1start","k1end","k2start","k2end","k1","k1_offset","x1","y1","charAt","k2_offset","x2","diff_bisectSplit_","k2","y2","text1a","text2a","text1b","text2b","diffsb","lineHash","diff_linesToCharsMunge_","chars","lineStart","lineEnd","lineArrayLength","line","fromCharCode","charCodeAt","pointermin","pointermax","pointermid","pointerstart","floor","pointerend","diff_commonOverlap_","text_length","best","found","diff_halfMatchI_","seed","best_common","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","prefixLength","suffixLength","hm1","hm2","changes","equalities","equalitiesLength","lastEquality","length_insertions1","length_deletions1","length_insertions2","length_deletions2","diff_cleanupSemanticLossless","deletion","insertion","overlap_length1","overlap_length2","diff_cleanupSemanticScore_","one","two","char1","char2","nonAlphaNumeric1","match","nonAlphaNumericRegex_","nonAlphaNumeric2","whitespace1","whitespaceRegex_","whitespace2","lineBreak1","linebreakRegex_","lineBreak2","blankLine1","blanklineEndRegex_","blankLine2","blanklineStartRegex_","equality1","equality2","commonOffset","commonString","bestEquality1","bestEdit","bestEquality2","bestScore","score","diff_cleanupEfficiency","pre_ins","pre_del","post_ins","post_del","diff_xIndex","loc","last_chars1","last_chars2","diff_prettyHtml","html","pattern_amp","pattern_lt","pattern_gt","pattern_para","diff_text1","diff_text2","diff_levenshtein","levenshtein","insertions","deletions","diff_toDelta","encodeURI","diff_fromDelta","diffsLength","tokens","param","decodeURI","ex","parseInt","isNaN","match_main","match_bitap_","match_alphabet_","match_bitapScore_","accuracy","proximity","abs","score_threshold","best_loc","lastIndexOf","matchmask","bin_min","bin_mid","bin_max","last_rd","start","finish","rd","charMatch","patch_addContext_","patch","start2","length1","padding","prefix","suffix","start1","length2","patch_make","opt_b","opt_c","patches","patch_obj","patchDiffLength","char_count1","char_count2","prepatch_text","postpatch_text","diff_type","diff_text","patch_deepCopy","patchesCopy","patchCopy","patch_apply","nullPadding","patch_addPadding","patch_splitMax","results","expected_loc","start_loc","end_loc","index1","index2","mod","paddingLength","extraLength","patch_size","bigpatch","precontext","empty","shift","postcontext","patch_toText","patch_fromText","textline","textPointer","patchHeader","sign","coords1","coords2","ReactAce","onValidate","placeholder","navigateToFileEnd","navigateFileEnd","updatePlaceholder","getAnnotations","handleScrollMargins","margins","clazz","showPlaceholder","placeholderNode","scroller","textContent","position","zIndex","enableSnippets","ace_1","diff_1","window","acequire","fn","delay","timer","context","args","clearTimeout","setTimeout","FUNC_ERROR_TEXT","INFINITY","reIsDeepProp","reIsPlainProp","reLeadingDot","rePropName","reEscapeChar","isHostObject","symbolToString","baseGet","path","isKey","castPath","toKey","baseToString","isSymbol","stringToPath","memoize","quote","resolver","TypeError","memoized","Cache"],"mappings":"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AYjW,KAAZ,EAAmB2W,KAAnB,EAA0B;AACxB,SAAO3W,KAAK,KAAK2W,KAAV,IAAoB3W,KAAK,KAAKA,KAAV,IAAmB2W,KAAK,KAAKA,KAAxD;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAIhB,WAAW,GAAGa,eAAe,CAAC,YAAW;AAAE,SAAO3W,SAAP;AAAmB,CAAhC,EAAD,CAAf,GAAsD2W,eAAtD,GAAwE,UAASxW,KAAT,EAAgB;AACxG,SAAOyW,YAAY,CAACzW,KAAD,CAAZ,IAAuBX,cAAc,CAACZ,IAAf,CAAoBuB,KAApB,EAA2B,QAA3B,CAAvB,IACL,CAACyR,oBAAoB,CAAChT,IAArB,CAA0BuB,KAA1B,EAAiC,QAAjC,CADH;AAED,CAHD;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIiF,OAAO,GAAG9F,KAAK,CAAC8F,OAApB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAAS2V,WAAT,CAAqB5a,KAArB,EAA4B;AAC1B,SAAOA,KAAK,IAAI,IAAT,IAAiBuY,QAAQ,CAACvY,KAAK,CAAChF,MAAP,CAAzB,IAA2C,CAACod,UAAU,CAACpY,KAAD,CAA7D;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAI+R,QAAQ,GAAGD,cAAc,IAAI+I,SAAjC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASta,OAAT,CAAiBP,KAAjB,EAAwB2W,KAAxB,EAA+B;AAC7B,SAAOD,WAAW,CAAC1W,KAAD,EAAQ2W,KAAR,CAAlB;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASyB,UAAT,CAAoBpY,KAApB,EAA2B;AACzB,MAAI,CAACiY,QAAQ,CAACjY,KAAD,CAAb,EAAsB;AACpB,WAAO,KAAP;AACD,GAHwB,CAIzB;AACA;;;AACA,MAAImZ,GAAG,GAAG9C,UAAU,CAACrW,KAAD,CAApB;AACA,SAAOmZ,GAAG,IAAI7M,OAAP,IAAkB6M,GAAG,IAAI5M,MAAzB,IAAmC4M,GAAG,IAAIjN,QAA1C,IAAsDiN,GAAG,IAAItM,QAApE;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAAS0L,QAAT,CAAkBvY,KAAlB,EAAyB;AACvB,SAAO,OAAOA,KAAP,IAAgB,QAAhB,IACLA,KAAK,GAAG,CAAC,CADJ,IACSA,KAAK,GAAG,CAAR,IAAa,CADtB,IAC2BA,KAAK,IAAI+L,gBAD3C;AAED;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASkM,QAAT,CAAkBjY,KAAlB,EAAyB;AACvB,MAAI6H,IAAI,GAAG,OAAO7H,KAAlB;AACA,SAAOA,KAAK,IAAI,IAAT,KAAkB6H,IAAI,IAAI,QAAR,IAAoBA,IAAI,IAAI,UAA9C,CAAP;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAAS4O,YAAT,CAAsBzW,KAAtB,EAA6B;AAC3B,SAAOA,KAAK,IAAI,IAAT,IAAiB,OAAOA,KAAP,IAAgB,QAAxC;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAImP,YAAY,GAAGD,gBAAgB,GAAGY,SAAS,CAACZ,gBAAD,CAAZ,GAAiCoJ,gBAApE;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAAS3V,IAAT,CAAcyG,MAAd,EAAsB;AACpB,SAAOwR,WAAW,CAACxR,MAAD,CAAX,GAAsBmM,aAAa,CAACnM,MAAD,CAAnC,GAA8CoP,QAAQ,CAACpP,MAAD,CAA7D;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASiR,SAAT,GAAqB;AACnB,SAAO,EAAP;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASQ,SAAT,GAAqB;AACnB,SAAO,KAAP;AACD;;AAEDniB,MAAM,CAACD,OAAP,GAAiB8H,OAAjB,C;;;;;;;;;;;;ACvzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAIua,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAW;AAEhC;AACA;AAEA;AACA,OAAKC,YAAL,GAAoB,GAApB,CANgC,CAOhC;;AACA,OAAKC,aAAL,GAAqB,CAArB,CARgC,CAShC;;AACA,OAAKC,eAAL,GAAuB,GAAvB,CAVgC,CAWhC;AACA;AACA;;AACA,OAAKC,cAAL,GAAsB,IAAtB,CAdgC,CAehC;AACA;AACA;AACA;;AACA,OAAKC,qBAAL,GAA6B,GAA7B,CAnBgC,CAoBhC;;AACA,OAAKC,YAAL,GAAoB,CAApB,CArBgC,CAuBhC;;AACA,OAAKC,aAAL,GAAqB,EAArB;AACD,CAzBD,C,CA4BA;;AAGA;AACA;AACA;AACA;AACA;;;AACA,IAAIzQ,WAAW,GAAG,CAAC,CAAnB;AACA,IAAIC,WAAW,GAAG,CAAlB;AACA,IAAIF,UAAU,GAAG,CAAjB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAmQ,gBAAgB,CAACQ,IAAjB,GAAwB,UAASC,EAAT,EAAapU,IAAb,EAAmB;AACzC,SAAO,CAACoU,EAAD,EAAKpU,IAAL,CAAP;AACD,CAFD;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA2T,gBAAgB,CAACpc,SAAjB,CAA2B0L,SAA3B,GAAuC,UAASoR,KAAT,EAAgBC,KAAhB,EAAuBC,cAAvB,EACnCC,YADmC,EACrB;AAChB;AACA,MAAI,OAAOA,YAAP,IAAuB,WAA3B,EAAwC;AACtC,QAAI,KAAKZ,YAAL,IAAqB,CAAzB,EAA4B;AAC1BY,kBAAY,GAAGC,MAAM,CAACC,SAAtB;AACD,KAFD,MAEO;AACLF,kBAAY,GAAI,IAAIG,IAAJ,EAAD,CAAWC,OAAX,KAAuB,KAAKhB,YAAL,GAAoB,IAA1D;AACD;AACF;;AACD,MAAIiB,QAAQ,GAAGL,YAAf,CATgB,CAWhB;;AACA,MAAIH,KAAK,IAAI,IAAT,IAAiBC,KAAK,IAAI,IAA9B,EAAoC;AAClC,UAAM,IAAIjQ,KAAJ,CAAU,yBAAV,CAAN;AACD,GAde,CAgBhB;;;AACA,MAAIgQ,KAAK,IAAIC,KAAb,EAAoB;AAClB,QAAID,KAAJ,EAAW;AACT,aAAO,CAAC,IAAIV,gBAAgB,CAACQ,IAArB,CAA0B3Q,UAA1B,EAAsC6Q,KAAtC,CAAD,CAAP;AACD;;AACD,WAAO,EAAP;AACD;;AAED,MAAI,OAAOE,cAAP,IAAyB,WAA7B,EAA0C;AACxCA,kBAAc,GAAG,IAAjB;AACD;;AACD,MAAIO,UAAU,GAAGP,cAAjB,CA3BgB,CA6BhB;;AACA,MAAIQ,YAAY,GAAG,KAAKC,iBAAL,CAAuBX,KAAvB,EAA8BC,KAA9B,CAAnB;AACA,MAAIW,YAAY,GAAGZ,KAAK,CAACa,SAAN,CAAgB,CAAhB,EAAmBH,YAAnB,CAAnB;AACAV,OAAK,GAAGA,KAAK,CAACa,SAAN,CAAgBH,YAAhB,CAAR;AACAT,OAAK,GAAGA,KAAK,CAACY,SAAN,CAAgBH,YAAhB,CAAR,CAjCgB,CAmChB;;AACAA,cAAY,GAAG,KAAKI,iBAAL,CAAuBd,KAAvB,EAA8BC,KAA9B,CAAf;AACA,MAAIc,YAAY,GAAGf,KAAK,CAACa,SAAN,CAAgBb,KAAK,CAACxgB,MAAN,GAAekhB,YAA/B,CAAnB;AACAV,OAAK,GAAGA,KAAK,CAACa,SAAN,CAAgB,CAAhB,EAAmBb,KAAK,CAACxgB,MAAN,GAAekhB,YAAlC,CAAR;AACAT,OAAK,GAAGA,KAAK,CAACY,SAAN,CAAgB,CAAhB,EAAmBZ,KAAK,CAACzgB,MAAN,GAAekhB,YAAlC,CAAR,CAvCgB,CAyChB;;AACA,MAAIM,KAAK,GAAG,KAAKC,aAAL,CAAmBjB,KAAnB,EAA0BC,KAA1B,EAAiCQ,UAAjC,EAA6CD,QAA7C,CAAZ,CA1CgB,CA4ChB;;AACA,MAAII,YAAJ,EAAkB;AAChBI,SAAK,CAACE,OAAN,CAAc,IAAI5B,gBAAgB,CAACQ,IAArB,CAA0B3Q,UAA1B,EAAsCyR,YAAtC,CAAd;AACD;;AACD,MAAIG,YAAJ,EAAkB;AAChBC,SAAK,CAAC3hB,IAAN,CAAW,IAAIigB,gBAAgB,CAACQ,IAArB,CAA0B3Q,UAA1B,EAAsC4R,YAAtC,CAAX;AACD;;AACD,OAAKI,iBAAL,CAAuBH,KAAvB;AACA,SAAOA,KAAP;AACD,CAtDD;AAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA1B,gBAAgB,CAACpc,SAAjB,CAA2B+d,aAA3B,GAA2C,UAASjB,KAAT,EAAgBC,KAAhB,EAAuBQ,UAAvB,EACvCD,QADuC,EAC7B;AACZ,MAAIQ,KAAJ;;AAEA,MAAI,CAAChB,KAAL,EAAY;AACV;AACA,WAAO,CAAC,IAAIV,gBAAgB,CAACQ,IAArB,CAA0BzQ,WAA1B,EAAuC4Q,KAAvC,CAAD,CAAP;AACD;;AAED,MAAI,CAACA,KAAL,EAAY;AACV;AACA,WAAO,CAAC,IAAIX,gBAAgB,CAACQ,IAArB,CAA0B1Q,WAA1B,EAAuC4Q,KAAvC,CAAD,CAAP;AACD;;AAED,MAAIoB,QAAQ,GAAGpB,KAAK,CAACxgB,MAAN,GAAeygB,KAAK,CAACzgB,MAArB,GAA8BwgB,KAA9B,GAAsCC,KAArD;AACA,MAAIoB,SAAS,GAAGrB,KAAK,CAACxgB,MAAN,GAAeygB,KAAK,CAACzgB,MAArB,GAA8BygB,KAA9B,GAAsCD,KAAtD;AACA,MAAInd,CAAC,GAAGue,QAAQ,CAACnW,OAAT,CAAiBoW,SAAjB,CAAR;;AACA,MAAIxe,CAAC,IAAI,CAAC,CAAV,EAAa;AACX;AACAme,SAAK,GAAG,CAAC,IAAI1B,gBAAgB,CAACQ,IAArB,CAA0BzQ,WAA1B,EAAuC+R,QAAQ,CAACP,SAAT,CAAmB,CAAnB,EAAsBhe,CAAtB,CAAvC,CAAD,EACC,IAAIyc,gBAAgB,CAACQ,IAArB,CAA0B3Q,UAA1B,EAAsCkS,SAAtC,CADD,EAEC,IAAI/B,gBAAgB,CAACQ,IAArB,CAA0BzQ,WAA1B,EACI+R,QAAQ,CAACP,SAAT,CAAmBhe,CAAC,GAAGwe,SAAS,CAAC7hB,MAAjC,CADJ,CAFD,CAAR,CAFW,CAMX;;AACA,QAAIwgB,KAAK,CAACxgB,MAAN,GAAeygB,KAAK,CAACzgB,MAAzB,EAAiC;AAC/BwhB,WAAK,CAAC,CAAD,CAAL,CAAS,CAAT,IAAcA,KAAK,CAAC,CAAD,CAAL,CAAS,CAAT,IAAc5R,WAA5B;AACD;;AACD,WAAO4R,KAAP;AACD;;AAED,MAAIK,SAAS,CAAC7hB,MAAV,IAAoB,CAAxB,EAA2B;AACzB;AACA;AACA,WAAO,CAAC,IAAI8f,gBAAgB,CAACQ,IAArB,CAA0B1Q,WAA1B,EAAuC4Q,KAAvC,CAAD,EACC,IAAIV,gBAAgB,CAACQ,IAArB,CAA0BzQ,WAA1B,EAAuC4Q,KAAvC,CADD,CAAP;AAED,GAlCW,CAoCZ;;;AACA,MAAIqB,EAAE,GAAG,KAAKC,eAAL,CAAqBvB,KAArB,EAA4BC,KAA5B,CAAT;;AACA,MAAIqB,EAAJ,EAAQ;AACN;AACA,QAAIE,OAAO,GAAGF,EAAE,CAAC,CAAD,CAAhB;AACA,QAAIG,OAAO,GAAGH,EAAE,CAAC,CAAD,CAAhB;AACA,QAAII,OAAO,GAAGJ,EAAE,CAAC,CAAD,CAAhB;AACA,QAAIK,OAAO,GAAGL,EAAE,CAAC,CAAD,CAAhB;AACA,QAAIM,UAAU,GAAGN,EAAE,CAAC,CAAD,CAAnB,CANM,CAON;;AACA,QAAIO,OAAO,GAAG,KAAKjT,SAAL,CAAe4S,OAAf,EAAwBE,OAAxB,EAAiCjB,UAAjC,EAA6CD,QAA7C,CAAd;AACA,QAAIsB,OAAO,GAAG,KAAKlT,SAAL,CAAe6S,OAAf,EAAwBE,OAAxB,EAAiClB,UAAjC,EAA6CD,QAA7C,CAAd,CATM,CAUN;;AACA,WAAOqB,OAAO,CAACE,MAAR,CAAe,CAAC,IAAIzC,gBAAgB,CAACQ,IAArB,CAA0B3Q,UAA1B,EAAsCyS,UAAtC,CAAD,CAAf,EACeE,OADf,CAAP;AAED;;AAED,MAAIrB,UAAU,IAAIT,KAAK,CAACxgB,MAAN,GAAe,GAA7B,IAAoCygB,KAAK,CAACzgB,MAAN,GAAe,GAAvD,EAA4D;AAC1D,WAAO,KAAKwiB,cAAL,CAAoBhC,KAApB,EAA2BC,KAA3B,EAAkCO,QAAlC,CAAP;AACD;;AAED,SAAO,KAAKyB,YAAL,CAAkBjC,KAAlB,EAAyBC,KAAzB,EAAgCO,QAAhC,CAAP;AACD,CA3DD;AA8DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAlB,gBAAgB,CAACpc,SAAjB,CAA2B8e,cAA3B,GAA4C,UAAShC,KAAT,EAAgBC,KAAhB,EAAuBO,QAAvB,EAAiC;AAC3E;AACA,MAAI0B,CAAC,GAAG,KAAKC,kBAAL,CAAwBnC,KAAxB,EAA+BC,KAA/B,CAAR;AACAD,OAAK,GAAGkC,CAAC,CAACE,MAAV;AACAnC,OAAK,GAAGiC,CAAC,CAACG,MAAV;AACA,MAAIC,SAAS,GAAGJ,CAAC,CAACK,SAAlB;AAEA,MAAIvB,KAAK,GAAG,KAAKpS,SAAL,CAAeoR,KAAf,EAAsBC,KAAtB,EAA6B,KAA7B,EAAoCO,QAApC,CAAZ,CAP2E,CAS3E;;AACA,OAAKgC,kBAAL,CAAwBxB,KAAxB,EAA+BsB,SAA/B,EAV2E,CAW3E;;AACA,OAAKzT,oBAAL,CAA0BmS,KAA1B,EAZ2E,CAc3E;AACA;;AACAA,OAAK,CAAC3hB,IAAN,CAAW,IAAIigB,gBAAgB,CAACQ,IAArB,CAA0B3Q,UAA1B,EAAsC,EAAtC,CAAX;AACA,MAAIsT,OAAO,GAAG,CAAd;AACA,MAAIC,YAAY,GAAG,CAAnB;AACA,MAAIC,YAAY,GAAG,CAAnB;AACA,MAAIC,WAAW,GAAG,EAAlB;AACA,MAAIC,WAAW,GAAG,EAAlB;;AACA,SAAOJ,OAAO,GAAGzB,KAAK,CAACxhB,MAAvB,EAA+B;AAC7B,YAAQwhB,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,CAAR;AACE,WAAKpT,WAAL;AACEsT,oBAAY;AACZE,mBAAW,IAAI7B,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,CAAf;AACA;;AACF,WAAKrT,WAAL;AACEsT,oBAAY;AACZE,mBAAW,IAAI5B,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,CAAf;AACA;;AACF,WAAKtT,UAAL;AACE;AACA,YAAIuT,YAAY,IAAI,CAAhB,IAAqBC,YAAY,IAAI,CAAzC,EAA4C;AAC1C;AACA3B,eAAK,CAAC9V,MAAN,CAAauX,OAAO,GAAGC,YAAV,GAAyBC,YAAtC,EACaD,YAAY,GAAGC,YAD5B;AAEAF,iBAAO,GAAGA,OAAO,GAAGC,YAAV,GAAyBC,YAAnC;AACA,cAAIG,OAAO,GACP,KAAKlU,SAAL,CAAegU,WAAf,EAA4BC,WAA5B,EAAyC,KAAzC,EAAgDrC,QAAhD,CADJ;;AAEA,eAAK,IAAIuC,CAAC,GAAGD,OAAO,CAACtjB,MAAR,GAAiB,CAA9B,EAAiCujB,CAAC,IAAI,CAAtC,EAAyCA,CAAC,EAA1C,EAA8C;AAC5C/B,iBAAK,CAAC9V,MAAN,CAAauX,OAAb,EAAsB,CAAtB,EAAyBK,OAAO,CAACC,CAAD,CAAhC;AACD;;AACDN,iBAAO,GAAGA,OAAO,GAAGK,OAAO,CAACtjB,MAA5B;AACD;;AACDmjB,oBAAY,GAAG,CAAf;AACAD,oBAAY,GAAG,CAAf;AACAE,mBAAW,GAAG,EAAd;AACAC,mBAAW,GAAG,EAAd;AACA;AA3BJ;;AA6BAJ,WAAO;AACR;;AACDzB,OAAK,CAACvI,GAAN,GAtD2E,CAsD7D;;AAEd,SAAOuI,KAAP;AACD,CAzDD;AA4DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA1B,gBAAgB,CAACpc,SAAjB,CAA2B+e,YAA3B,GAA0C,UAASjC,KAAT,EAAgBC,KAAhB,EAAuBO,QAAvB,EAAiC;AACzE;AACA,MAAIwC,YAAY,GAAGhD,KAAK,CAACxgB,MAAzB;AACA,MAAIyjB,YAAY,GAAGhD,KAAK,CAACzgB,MAAzB;AACA,MAAI0jB,KAAK,GAAGC,IAAI,CAACC,IAAL,CAAU,CAACJ,YAAY,GAAGC,YAAhB,IAAgC,CAA1C,CAAZ;AACA,MAAII,QAAQ,GAAGH,KAAf;AACA,MAAII,QAAQ,GAAG,IAAIJ,KAAnB;AACA,MAAIK,EAAE,GAAG,IAAI5f,KAAJ,CAAU2f,QAAV,CAAT;AACA,MAAIE,EAAE,GAAG,IAAI7f,KAAJ,CAAU2f,QAAV,CAAT,CARyE,CASzE;AACA;;AACA,OAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,QAApB,EAA8BG,CAAC,EAA/B,EAAmC;AACjCF,MAAE,CAACE,CAAD,CAAF,GAAQ,CAAC,CAAT;AACAD,MAAE,CAACC,CAAD,CAAF,GAAQ,CAAC,CAAT;AACD;;AACDF,IAAE,CAACF,QAAQ,GAAG,CAAZ,CAAF,GAAmB,CAAnB;AACAG,IAAE,CAACH,QAAQ,GAAG,CAAZ,CAAF,GAAmB,CAAnB;AACA,MAAIK,KAAK,GAAGV,YAAY,GAAGC,YAA3B,CAjByE,CAkBzE;AACA;;AACA,MAAIU,KAAK,GAAID,KAAK,GAAG,CAAR,IAAa,CAA1B,CApByE,CAqBzE;AACA;;AACA,MAAIE,OAAO,GAAG,CAAd;AACA,MAAIC,KAAK,GAAG,CAAZ;AACA,MAAIC,OAAO,GAAG,CAAd;AACA,MAAIC,KAAK,GAAG,CAAZ;;AACA,OAAK,IAAIzgB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4f,KAApB,EAA2B5f,CAAC,EAA5B,EAAgC;AAC9B;AACA,QAAK,IAAIgd,IAAJ,EAAD,CAAaC,OAAb,KAAyBC,QAA7B,EAAuC;AACrC;AACD,KAJ6B,CAM9B;;;AACA,SAAK,IAAIwD,EAAE,GAAG,CAAC1gB,CAAD,GAAKsgB,OAAnB,EAA4BI,EAAE,IAAI1gB,CAAC,GAAGugB,KAAtC,EAA6CG,EAAE,IAAI,CAAnD,EAAsD;AACpD,UAAIC,SAAS,GAAGZ,QAAQ,GAAGW,EAA3B;AACA,UAAIE,EAAJ;;AACA,UAAIF,EAAE,IAAI,CAAC1gB,CAAP,IAAa0gB,EAAE,IAAI1gB,CAAN,IAAWigB,EAAE,CAACU,SAAS,GAAG,CAAb,CAAF,GAAoBV,EAAE,CAACU,SAAS,GAAG,CAAb,CAAlD,EAAoE;AAClEC,UAAE,GAAGX,EAAE,CAACU,SAAS,GAAG,CAAb,CAAP;AACD,OAFD,MAEO;AACLC,UAAE,GAAGX,EAAE,CAACU,SAAS,GAAG,CAAb,CAAF,GAAoB,CAAzB;AACD;;AACD,UAAIE,EAAE,GAAGD,EAAE,GAAGF,EAAd;;AACA,aAAOE,EAAE,GAAGlB,YAAL,IAAqBmB,EAAE,GAAGlB,YAA1B,IACAjD,KAAK,CAACoE,MAAN,CAAaF,EAAb,KAAoBjE,KAAK,CAACmE,MAAN,CAAaD,EAAb,CAD3B,EAC6C;AAC3CD,UAAE;AACFC,UAAE;AACH;;AACDZ,QAAE,CAACU,SAAD,CAAF,GAAgBC,EAAhB;;AACA,UAAIA,EAAE,GAAGlB,YAAT,EAAuB;AACrB;AACAa,aAAK,IAAI,CAAT;AACD,OAHD,MAGO,IAAIM,EAAE,GAAGlB,YAAT,EAAuB;AAC5B;AACAW,eAAO,IAAI,CAAX;AACD,OAHM,MAGA,IAAID,KAAJ,EAAW;AAChB,YAAIU,SAAS,GAAGhB,QAAQ,GAAGK,KAAX,GAAmBM,EAAnC;;AACA,YAAIK,SAAS,IAAI,CAAb,IAAkBA,SAAS,GAAGf,QAA9B,IAA0CE,EAAE,CAACa,SAAD,CAAF,IAAiB,CAAC,CAAhE,EAAmE;AACjE;AACA,cAAIC,EAAE,GAAGtB,YAAY,GAAGQ,EAAE,CAACa,SAAD,CAA1B;;AACA,cAAIH,EAAE,IAAII,EAAV,EAAc;AACZ;AACA,mBAAO,KAAKC,iBAAL,CAAuBvE,KAAvB,EAA8BC,KAA9B,EAAqCiE,EAArC,EAAyCC,EAAzC,EAA6C3D,QAA7C,CAAP;AACD;AACF;AACF;AACF,KAvC6B,CAyC9B;;;AACA,SAAK,IAAIgE,EAAE,GAAG,CAAClhB,CAAD,GAAKwgB,OAAnB,EAA4BU,EAAE,IAAIlhB,CAAC,GAAGygB,KAAtC,EAA6CS,EAAE,IAAI,CAAnD,EAAsD;AACpD,UAAIH,SAAS,GAAGhB,QAAQ,GAAGmB,EAA3B;AACA,UAAIF,EAAJ;;AACA,UAAIE,EAAE,IAAI,CAAClhB,CAAP,IAAakhB,EAAE,IAAIlhB,CAAN,IAAWkgB,EAAE,CAACa,SAAS,GAAG,CAAb,CAAF,GAAoBb,EAAE,CAACa,SAAS,GAAG,CAAb,CAAlD,EAAoE;AAClEC,UAAE,GAAGd,EAAE,CAACa,SAAS,GAAG,CAAb,CAAP;AACD,OAFD,MAEO;AACLC,UAAE,GAAGd,EAAE,CAACa,SAAS,GAAG,CAAb,CAAF,GAAoB,CAAzB;AACD;;AACD,UAAII,EAAE,GAAGH,EAAE,GAAGE,EAAd;;AACA,aAAOF,EAAE,GAAGtB,YAAL,IAAqByB,EAAE,GAAGxB,YAA1B,IACAjD,KAAK,CAACoE,MAAN,CAAapB,YAAY,GAAGsB,EAAf,GAAoB,CAAjC,KACArE,KAAK,CAACmE,MAAN,CAAanB,YAAY,GAAGwB,EAAf,GAAoB,CAAjC,CAFP,EAE4C;AAC1CH,UAAE;AACFG,UAAE;AACH;;AACDjB,QAAE,CAACa,SAAD,CAAF,GAAgBC,EAAhB;;AACA,UAAIA,EAAE,GAAGtB,YAAT,EAAuB;AACrB;AACAe,aAAK,IAAI,CAAT;AACD,OAHD,MAGO,IAAIU,EAAE,GAAGxB,YAAT,EAAuB;AAC5B;AACAa,eAAO,IAAI,CAAX;AACD,OAHM,MAGA,IAAI,CAACH,KAAL,EAAY;AACjB,YAAIM,SAAS,GAAGZ,QAAQ,GAAGK,KAAX,GAAmBc,EAAnC;;AACA,YAAIP,SAAS,IAAI,CAAb,IAAkBA,SAAS,GAAGX,QAA9B,IAA0CC,EAAE,CAACU,SAAD,CAAF,IAAiB,CAAC,CAAhE,EAAmE;AACjE,cAAIC,EAAE,GAAGX,EAAE,CAACU,SAAD,CAAX;AACA,cAAIE,EAAE,GAAGd,QAAQ,GAAGa,EAAX,GAAgBD,SAAzB,CAFiE,CAGjE;;AACAK,YAAE,GAAGtB,YAAY,GAAGsB,EAApB;;AACA,cAAIJ,EAAE,IAAII,EAAV,EAAc;AACZ;AACA,mBAAO,KAAKC,iBAAL,CAAuBvE,KAAvB,EAA8BC,KAA9B,EAAqCiE,EAArC,EAAyCC,EAAzC,EAA6C3D,QAA7C,CAAP;AACD;AACF;AACF;AACF;AACF,GAzGwE,CA0GzE;AACA;;;AACA,SAAO,CAAC,IAAIlB,gBAAgB,CAACQ,IAArB,CAA0B1Q,WAA1B,EAAuC4Q,KAAvC,CAAD,EACC,IAAIV,gBAAgB,CAACQ,IAArB,CAA0BzQ,WAA1B,EAAuC4Q,KAAvC,CADD,CAAP;AAED,CA9GD;AAiHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAX,gBAAgB,CAACpc,SAAjB,CAA2BqhB,iBAA3B,GAA+C,UAASvE,KAAT,EAAgBC,KAAhB,EAAuBwD,CAAvB,EAA0B7X,CAA1B,EAC3C4U,QAD2C,EACjC;AACZ,MAAIkE,MAAM,GAAG1E,KAAK,CAACa,SAAN,CAAgB,CAAhB,EAAmB4C,CAAnB,CAAb;AACA,MAAIkB,MAAM,GAAG1E,KAAK,CAACY,SAAN,CAAgB,CAAhB,EAAmBjV,CAAnB,CAAb;AACA,MAAIgZ,MAAM,GAAG5E,KAAK,CAACa,SAAN,CAAgB4C,CAAhB,CAAb;AACA,MAAIoB,MAAM,GAAG5E,KAAK,CAACY,SAAN,CAAgBjV,CAAhB,CAAb,CAJY,CAMZ;;AACA,MAAIoV,KAAK,GAAG,KAAKpS,SAAL,CAAe8V,MAAf,EAAuBC,MAAvB,EAA+B,KAA/B,EAAsCnE,QAAtC,CAAZ;AACA,MAAIsE,MAAM,GAAG,KAAKlW,SAAL,CAAegW,MAAf,EAAuBC,MAAvB,EAA+B,KAA/B,EAAsCrE,QAAtC,CAAb;AAEA,SAAOQ,KAAK,CAACe,MAAN,CAAa+C,MAAb,CAAP;AACD,CAZD;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAxF,gBAAgB,CAACpc,SAAjB,CAA2Bif,kBAA3B,GAAgD,UAASnC,KAAT,EAAgBC,KAAhB,EAAuB;AACrE,MAAIsC,SAAS,GAAG,EAAhB,CADqE,CAChD;;AACrB,MAAIwC,QAAQ,GAAG,EAAf,CAFqE,CAEhD;AAErB;AACA;;AACAxC,WAAS,CAAC,CAAD,CAAT,GAAe,EAAf;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;AACE,WAASyC,uBAAT,CAAiCrZ,IAAjC,EAAuC;AACrC,QAAIsZ,KAAK,GAAG,EAAZ,CADqC,CAErC;AACA;AACA;;AACA,QAAIC,SAAS,GAAG,CAAhB;AACA,QAAIC,OAAO,GAAG,CAAC,CAAf,CANqC,CAOrC;;AACA,QAAIC,eAAe,GAAG7C,SAAS,CAAC/iB,MAAhC;;AACA,WAAO2lB,OAAO,GAAGxZ,IAAI,CAACnM,MAAL,GAAc,CAA/B,EAAkC;AAChC2lB,aAAO,GAAGxZ,IAAI,CAACV,OAAL,CAAa,IAAb,EAAmBia,SAAnB,CAAV;;AACA,UAAIC,OAAO,IAAI,CAAC,CAAhB,EAAmB;AACjBA,eAAO,GAAGxZ,IAAI,CAACnM,MAAL,GAAc,CAAxB;AACD;;AACD,UAAI6lB,IAAI,GAAG1Z,IAAI,CAACkV,SAAL,CAAeqE,SAAf,EAA0BC,OAAO,GAAG,CAApC,CAAX;;AAEA,UAAIJ,QAAQ,CAAClhB,cAAT,GAA0BkhB,QAAQ,CAAClhB,cAAT,CAAwBwhB,IAAxB,CAA1B,GACCN,QAAQ,CAACM,IAAD,CAAR,KAAmBvc,SADxB,EACoC;AAClCmc,aAAK,IAAI1K,MAAM,CAAC+K,YAAP,CAAoBP,QAAQ,CAACM,IAAD,CAA5B,CAAT;AACD,OAHD,MAGO;AACL,YAAID,eAAe,IAAI5X,QAAvB,EAAiC;AAC/B;AACA;AACA6X,cAAI,GAAG1Z,IAAI,CAACkV,SAAL,CAAeqE,SAAf,CAAP;AACAC,iBAAO,GAAGxZ,IAAI,CAACnM,MAAf;AACD;;AACDylB,aAAK,IAAI1K,MAAM,CAAC+K,YAAP,CAAoBF,eAApB,CAAT;AACAL,gBAAQ,CAACM,IAAD,CAAR,GAAiBD,eAAjB;AACA7C,iBAAS,CAAC6C,eAAe,EAAhB,CAAT,GAA+BC,IAA/B;AACD;;AACDH,eAAS,GAAGC,OAAO,GAAG,CAAtB;AACD;;AACD,WAAOF,KAAP;AACD,GAjDoE,CAkDrE;;;AACA,MAAIzX,QAAQ,GAAG,KAAf;AACA,MAAI4U,MAAM,GAAG4C,uBAAuB,CAAChF,KAAD,CAApC;AACAxS,UAAQ,GAAG,KAAX;AACA,MAAI6U,MAAM,GAAG2C,uBAAuB,CAAC/E,KAAD,CAApC;AACA,SAAO;AAACmC,UAAM,EAAEA,MAAT;AAAiBC,UAAM,EAAEA,MAAzB;AAAiCE,aAAS,EAAEA;AAA5C,GAAP;AACD,CAxDD;AA2DA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAjD,gBAAgB,CAACpc,SAAjB,CAA2Bsf,kBAA3B,GAAgD,UAASxB,KAAT,EAAgBuB,SAAhB,EAA2B;AACzE,OAAK,IAAI1f,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGme,KAAK,CAACxhB,MAA1B,EAAkCqD,CAAC,EAAnC,EAAuC;AACrC,QAAIoiB,KAAK,GAAGjE,KAAK,CAACne,CAAD,CAAL,CAAS,CAAT,CAAZ;AACA,QAAI8I,IAAI,GAAG,EAAX;;AACA,SAAK,IAAIoX,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkC,KAAK,CAACzlB,MAA1B,EAAkCujB,CAAC,EAAnC,EAAuC;AACrCpX,UAAI,CAACoX,CAAD,CAAJ,GAAUR,SAAS,CAAC0C,KAAK,CAACM,UAAN,CAAiBxC,CAAjB,CAAD,CAAnB;AACD;;AACD/B,SAAK,CAACne,CAAD,CAAL,CAAS,CAAT,IAAc8I,IAAI,CAACR,IAAL,CAAU,EAAV,CAAd;AACD;AACF,CATD;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAmU,gBAAgB,CAACpc,SAAjB,CAA2Byd,iBAA3B,GAA+C,UAASX,KAAT,EAAgBC,KAAhB,EAAuB;AACpE;AACA,MAAI,CAACD,KAAD,IAAU,CAACC,KAAX,IAAoBD,KAAK,CAACoE,MAAN,CAAa,CAAb,KAAmBnE,KAAK,CAACmE,MAAN,CAAa,CAAb,CAA3C,EAA4D;AAC1D,WAAO,CAAP;AACD,GAJmE,CAKpE;AACA;;;AACA,MAAIoB,UAAU,GAAG,CAAjB;AACA,MAAIC,UAAU,GAAGtC,IAAI,CAACrhB,GAAL,CAASke,KAAK,CAACxgB,MAAf,EAAuBygB,KAAK,CAACzgB,MAA7B,CAAjB;AACA,MAAIkmB,UAAU,GAAGD,UAAjB;AACA,MAAIE,YAAY,GAAG,CAAnB;;AACA,SAAOH,UAAU,GAAGE,UAApB,EAAgC;AAC9B,QAAI1F,KAAK,CAACa,SAAN,CAAgB8E,YAAhB,EAA8BD,UAA9B,KACAzF,KAAK,CAACY,SAAN,CAAgB8E,YAAhB,EAA8BD,UAA9B,CADJ,EAC+C;AAC7CF,gBAAU,GAAGE,UAAb;AACAC,kBAAY,GAAGH,UAAf;AACD,KAJD,MAIO;AACLC,gBAAU,GAAGC,UAAb;AACD;;AACDA,cAAU,GAAGvC,IAAI,CAACyC,KAAL,CAAW,CAACH,UAAU,GAAGD,UAAd,IAA4B,CAA5B,GAAgCA,UAA3C,CAAb;AACD;;AACD,SAAOE,UAAP;AACD,CAtBD;AAyBA;AACA;AACA;AACA;AACA;AACA;;;AACApG,gBAAgB,CAACpc,SAAjB,CAA2B4d,iBAA3B,GAA+C,UAASd,KAAT,EAAgBC,KAAhB,EAAuB;AACpE;AACA,MAAI,CAACD,KAAD,IAAU,CAACC,KAAX,IACAD,KAAK,CAACoE,MAAN,CAAapE,KAAK,CAACxgB,MAAN,GAAe,CAA5B,KAAkCygB,KAAK,CAACmE,MAAN,CAAanE,KAAK,CAACzgB,MAAN,GAAe,CAA5B,CADtC,EACsE;AACpE,WAAO,CAAP;AACD,GALmE,CAMpE;AACA;;;AACA,MAAIgmB,UAAU,GAAG,CAAjB;AACA,MAAIC,UAAU,GAAGtC,IAAI,CAACrhB,GAAL,CAASke,KAAK,CAACxgB,MAAf,EAAuBygB,KAAK,CAACzgB,MAA7B,CAAjB;AACA,MAAIkmB,UAAU,GAAGD,UAAjB;AACA,MAAII,UAAU,GAAG,CAAjB;;AACA,SAAOL,UAAU,GAAGE,UAApB,EAAgC;AAC9B,QAAI1F,KAAK,CAACa,SAAN,CAAgBb,KAAK,CAACxgB,MAAN,GAAekmB,UAA/B,EAA2C1F,KAAK,CAACxgB,MAAN,GAAeqmB,UAA1D,KACA5F,KAAK,CAACY,SAAN,CAAgBZ,KAAK,CAACzgB,MAAN,GAAekmB,UAA/B,EAA2CzF,KAAK,CAACzgB,MAAN,GAAeqmB,UAA1D,CADJ,EAC2E;AACzEL,gBAAU,GAAGE,UAAb;AACAG,gBAAU,GAAGL,UAAb;AACD,KAJD,MAIO;AACLC,gBAAU,GAAGC,UAAb;AACD;;AACDA,cAAU,GAAGvC,IAAI,CAACyC,KAAL,CAAW,CAACH,UAAU,GAAGD,UAAd,IAA4B,CAA5B,GAAgCA,UAA3C,CAAb;AACD;;AACD,SAAOE,UAAP;AACD,CAvBD;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACApG,gBAAgB,CAACpc,SAAjB,CAA2B4iB,mBAA3B,GAAiD,UAAS9F,KAAT,EAAgBC,KAAhB,EAAuB;AACtE;AACA,MAAI+C,YAAY,GAAGhD,KAAK,CAACxgB,MAAzB;AACA,MAAIyjB,YAAY,GAAGhD,KAAK,CAACzgB,MAAzB,CAHsE,CAItE;;AACA,MAAIwjB,YAAY,IAAI,CAAhB,IAAqBC,YAAY,IAAI,CAAzC,EAA4C;AAC1C,WAAO,CAAP;AACD,GAPqE,CAQtE;;;AACA,MAAID,YAAY,GAAGC,YAAnB,EAAiC;AAC/BjD,SAAK,GAAGA,KAAK,CAACa,SAAN,CAAgBmC,YAAY,GAAGC,YAA/B,CAAR;AACD,GAFD,MAEO,IAAID,YAAY,GAAGC,YAAnB,EAAiC;AACtChD,SAAK,GAAGA,KAAK,CAACY,SAAN,CAAgB,CAAhB,EAAmBmC,YAAnB,CAAR;AACD;;AACD,MAAI+C,WAAW,GAAG5C,IAAI,CAACrhB,GAAL,CAASkhB,YAAT,EAAuBC,YAAvB,CAAlB,CAdsE,CAetE;;AACA,MAAIjD,KAAK,IAAIC,KAAb,EAAoB;AAClB,WAAO8F,WAAP;AACD,GAlBqE,CAoBtE;AACA;AACA;;;AACA,MAAIC,IAAI,GAAG,CAAX;AACA,MAAIxmB,MAAM,GAAG,CAAb;;AACA,SAAO,IAAP,EAAa;AACX,QAAImd,OAAO,GAAGqD,KAAK,CAACa,SAAN,CAAgBkF,WAAW,GAAGvmB,MAA9B,CAAd;AACA,QAAIymB,KAAK,GAAGhG,KAAK,CAAChV,OAAN,CAAc0R,OAAd,CAAZ;;AACA,QAAIsJ,KAAK,IAAI,CAAC,CAAd,EAAiB;AACf,aAAOD,IAAP;AACD;;AACDxmB,UAAM,IAAIymB,KAAV;;AACA,QAAIA,KAAK,IAAI,CAAT,IAAcjG,KAAK,CAACa,SAAN,CAAgBkF,WAAW,GAAGvmB,MAA9B,KACdygB,KAAK,CAACY,SAAN,CAAgB,CAAhB,EAAmBrhB,MAAnB,CADJ,EACgC;AAC9BwmB,UAAI,GAAGxmB,MAAP;AACAA,YAAM;AACP;AACF;AACF,CAtCD;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA8f,gBAAgB,CAACpc,SAAjB,CAA2Bqe,eAA3B,GAA6C,UAASvB,KAAT,EAAgBC,KAAhB,EAAuB;AAClE,MAAI,KAAKV,YAAL,IAAqB,CAAzB,EAA4B;AAC1B;AACA,WAAO,IAAP;AACD;;AACD,MAAI6B,QAAQ,GAAGpB,KAAK,CAACxgB,MAAN,GAAeygB,KAAK,CAACzgB,MAArB,GAA8BwgB,KAA9B,GAAsCC,KAArD;AACA,MAAIoB,SAAS,GAAGrB,KAAK,CAACxgB,MAAN,GAAeygB,KAAK,CAACzgB,MAArB,GAA8BygB,KAA9B,GAAsCD,KAAtD;;AACA,MAAIoB,QAAQ,CAAC5hB,MAAT,GAAkB,CAAlB,IAAuB6hB,SAAS,CAAC7hB,MAAV,GAAmB,CAAnB,GAAuB4hB,QAAQ,CAAC5hB,MAA3D,EAAmE;AACjE,WAAO,IAAP,CADiE,CACnD;AACf;;AACD,MAAIiP,GAAG,GAAG,IAAV,CAVkE,CAUjD;;AAEjB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACE,WAASyX,gBAAT,CAA0B9E,QAA1B,EAAoCC,SAApC,EAA+Cxe,CAA/C,EAAkD;AAChD;AACA,QAAIsjB,IAAI,GAAG/E,QAAQ,CAACP,SAAT,CAAmBhe,CAAnB,EAAsBA,CAAC,GAAGsgB,IAAI,CAACyC,KAAL,CAAWxE,QAAQ,CAAC5hB,MAAT,GAAkB,CAA7B,CAA1B,CAAX;AACA,QAAIujB,CAAC,GAAG,CAAC,CAAT;AACA,QAAIqD,WAAW,GAAG,EAAlB;AACA,QAAIC,eAAJ,EAAqBC,eAArB,EAAsCC,gBAAtC,EAAwDC,gBAAxD;;AACA,WAAO,CAACzD,CAAC,GAAG1B,SAAS,CAACpW,OAAV,CAAkBkb,IAAlB,EAAwBpD,CAAC,GAAG,CAA5B,CAAL,KAAwC,CAAC,CAAhD,EAAmD;AACjD,UAAI0D,YAAY,GAAGhY,GAAG,CAACkS,iBAAJ,CAAsBS,QAAQ,CAACP,SAAT,CAAmBhe,CAAnB,CAAtB,EACsBwe,SAAS,CAACR,SAAV,CAAoBkC,CAApB,CADtB,CAAnB;AAEA,UAAI2D,YAAY,GAAGjY,GAAG,CAACqS,iBAAJ,CAAsBM,QAAQ,CAACP,SAAT,CAAmB,CAAnB,EAAsBhe,CAAtB,CAAtB,EACsBwe,SAAS,CAACR,SAAV,CAAoB,CAApB,EAAuBkC,CAAvB,CADtB,CAAnB;;AAEA,UAAIqD,WAAW,CAAC5mB,MAAZ,GAAqBknB,YAAY,GAAGD,YAAxC,EAAsD;AACpDL,mBAAW,GAAG/E,SAAS,CAACR,SAAV,CAAoBkC,CAAC,GAAG2D,YAAxB,EAAsC3D,CAAtC,IACV1B,SAAS,CAACR,SAAV,CAAoBkC,CAApB,EAAuBA,CAAC,GAAG0D,YAA3B,CADJ;AAEAJ,uBAAe,GAAGjF,QAAQ,CAACP,SAAT,CAAmB,CAAnB,EAAsBhe,CAAC,GAAG6jB,YAA1B,CAAlB;AACAJ,uBAAe,GAAGlF,QAAQ,CAACP,SAAT,CAAmBhe,CAAC,GAAG4jB,YAAvB,CAAlB;AACAF,wBAAgB,GAAGlF,SAAS,CAACR,SAAV,CAAoB,CAApB,EAAuBkC,CAAC,GAAG2D,YAA3B,CAAnB;AACAF,wBAAgB,GAAGnF,SAAS,CAACR,SAAV,CAAoBkC,CAAC,GAAG0D,YAAxB,CAAnB;AACD;AACF;;AACD,QAAIL,WAAW,CAAC5mB,MAAZ,GAAqB,CAArB,IAA0B4hB,QAAQ,CAAC5hB,MAAvC,EAA+C;AAC7C,aAAO,CAAC6mB,eAAD,EAAkBC,eAAlB,EACCC,gBADD,EACmBC,gBADnB,EACqCJ,WADrC,CAAP;AAED,KAHD,MAGO;AACL,aAAO,IAAP;AACD;AACF,GAlDiE,CAoDlE;;;AACA,MAAIO,GAAG,GAAGT,gBAAgB,CAAC9E,QAAD,EAAWC,SAAX,EACC8B,IAAI,CAACC,IAAL,CAAUhC,QAAQ,CAAC5hB,MAAT,GAAkB,CAA5B,CADD,CAA1B,CArDkE,CAuDlE;;AACA,MAAIonB,GAAG,GAAGV,gBAAgB,CAAC9E,QAAD,EAAWC,SAAX,EACC8B,IAAI,CAACC,IAAL,CAAUhC,QAAQ,CAAC5hB,MAAT,GAAkB,CAA5B,CADD,CAA1B;AAEA,MAAI8hB,EAAJ;;AACA,MAAI,CAACqF,GAAD,IAAQ,CAACC,GAAb,EAAkB;AAChB,WAAO,IAAP;AACD,GAFD,MAEO,IAAI,CAACA,GAAL,EAAU;AACftF,MAAE,GAAGqF,GAAL;AACD,GAFM,MAEA,IAAI,CAACA,GAAL,EAAU;AACfrF,MAAE,GAAGsF,GAAL;AACD,GAFM,MAEA;AACL;AACAtF,MAAE,GAAGqF,GAAG,CAAC,CAAD,CAAH,CAAOnnB,MAAP,GAAgBonB,GAAG,CAAC,CAAD,CAAH,CAAOpnB,MAAvB,GAAgCmnB,GAAhC,GAAsCC,GAA3C;AACD,GApEiE,CAsElE;;;AACA,MAAIpF,OAAJ,EAAaC,OAAb,EAAsBC,OAAtB,EAA+BC,OAA/B;;AACA,MAAI3B,KAAK,CAACxgB,MAAN,GAAeygB,KAAK,CAACzgB,MAAzB,EAAiC;AAC/BgiB,WAAO,GAAGF,EAAE,CAAC,CAAD,CAAZ;AACAG,WAAO,GAAGH,EAAE,CAAC,CAAD,CAAZ;AACAI,WAAO,GAAGJ,EAAE,CAAC,CAAD,CAAZ;AACAK,WAAO,GAAGL,EAAE,CAAC,CAAD,CAAZ;AACD,GALD,MAKO;AACLI,WAAO,GAAGJ,EAAE,CAAC,CAAD,CAAZ;AACAK,WAAO,GAAGL,EAAE,CAAC,CAAD,CAAZ;AACAE,WAAO,GAAGF,EAAE,CAAC,CAAD,CAAZ;AACAG,WAAO,GAAGH,EAAE,CAAC,CAAD,CAAZ;AACD;;AACD,MAAIM,UAAU,GAAGN,EAAE,CAAC,CAAD,CAAnB;AACA,SAAO,CAACE,OAAD,EAAUC,OAAV,EAAmBC,OAAnB,EAA4BC,OAA5B,EAAqCC,UAArC,CAAP;AACD,CArFD;AAwFA;AACA;AACA;AACA;;;AACAtC,gBAAgB,CAACpc,SAAjB,CAA2B2L,oBAA3B,GAAkD,UAASmS,KAAT,EAAgB;AAChE,MAAI6F,OAAO,GAAG,KAAd;AACA,MAAIC,UAAU,GAAG,EAAjB,CAFgE,CAE1C;;AACtB,MAAIC,gBAAgB,GAAG,CAAvB,CAHgE,CAGrC;;AAC3B;;AACA,MAAIC,YAAY,GAAG,IAAnB,CALgE,CAMhE;;AACA,MAAIvE,OAAO,GAAG,CAAd,CAPgE,CAO9C;AAClB;;AACA,MAAIwE,kBAAkB,GAAG,CAAzB;AACA,MAAIC,iBAAiB,GAAG,CAAxB,CAVgE,CAWhE;;AACA,MAAIC,kBAAkB,GAAG,CAAzB;AACA,MAAIC,iBAAiB,GAAG,CAAxB;;AACA,SAAO3E,OAAO,GAAGzB,KAAK,CAACxhB,MAAvB,EAA+B;AAC7B,QAAIwhB,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,KAAqBtT,UAAzB,EAAqC;AAAG;AACtC2X,gBAAU,CAACC,gBAAgB,EAAjB,CAAV,GAAiCtE,OAAjC;AACAwE,wBAAkB,GAAGE,kBAArB;AACAD,uBAAiB,GAAGE,iBAApB;AACAD,wBAAkB,GAAG,CAArB;AACAC,uBAAiB,GAAG,CAApB;AACAJ,kBAAY,GAAGhG,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,CAAf;AACD,KAPD,MAOO;AAAG;AACR,UAAIzB,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,KAAqBpT,WAAzB,EAAsC;AACpC8X,0BAAkB,IAAInG,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,EAAkBjjB,MAAxC;AACD,OAFD,MAEO;AACL4nB,yBAAiB,IAAIpG,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,EAAkBjjB,MAAvC;AACD,OALI,CAML;AACA;;;AACA,UAAIwnB,YAAY,IAAKA,YAAY,CAACxnB,MAAb,IACjB2jB,IAAI,CAACphB,GAAL,CAASklB,kBAAT,EAA6BC,iBAA7B,CADA,IAECF,YAAY,CAACxnB,MAAb,IAAuB2jB,IAAI,CAACphB,GAAL,CAASolB,kBAAT,EACSC,iBADT,CAF5B,EAG0D;AACxD;AACApG,aAAK,CAAC9V,MAAN,CAAa4b,UAAU,CAACC,gBAAgB,GAAG,CAApB,CAAvB,EAA+C,CAA/C,EACa,IAAIzH,gBAAgB,CAACQ,IAArB,CAA0B1Q,WAA1B,EAAuC4X,YAAvC,CADb,EAFwD,CAIxD;;AACAhG,aAAK,CAAC8F,UAAU,CAACC,gBAAgB,GAAG,CAApB,CAAV,GAAmC,CAApC,CAAL,CAA4C,CAA5C,IAAiD1X,WAAjD,CALwD,CAMxD;;AACA0X,wBAAgB,GAPwC,CAQxD;;AACAA,wBAAgB;AAChBtE,eAAO,GAAGsE,gBAAgB,GAAG,CAAnB,GAAuBD,UAAU,CAACC,gBAAgB,GAAG,CAApB,CAAjC,GAA0D,CAAC,CAArE;AACAE,0BAAkB,GAAG,CAArB,CAXwD,CAW/B;;AACzBC,yBAAiB,GAAG,CAApB;AACAC,0BAAkB,GAAG,CAArB;AACAC,yBAAiB,GAAG,CAApB;AACAJ,oBAAY,GAAG,IAAf;AACAH,eAAO,GAAG,IAAV;AACD;AACF;;AACDpE,WAAO;AACR,GArD+D,CAuDhE;;;AACA,MAAIoE,OAAJ,EAAa;AACX,SAAK1F,iBAAL,CAAuBH,KAAvB;AACD;;AACD,OAAKqG,4BAAL,CAAkCrG,KAAlC,EA3DgE,CA6DhE;AACA;AACA;AACA;AACA;AACA;;AACAyB,SAAO,GAAG,CAAV;;AACA,SAAOA,OAAO,GAAGzB,KAAK,CAACxhB,MAAvB,EAA+B;AAC7B,QAAIwhB,KAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,KAAyBrT,WAAzB,IACA4R,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,KAAqBpT,WADzB,EACsC;AACpC,UAAIiY,QAAQ,GAAGtG,KAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,CAAf;AACA,UAAI8E,SAAS,GAAGvG,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,CAAhB;AACA,UAAI+E,eAAe,GAAG,KAAK1B,mBAAL,CAAyBwB,QAAzB,EAAmCC,SAAnC,CAAtB;AACA,UAAIE,eAAe,GAAG,KAAK3B,mBAAL,CAAyByB,SAAzB,EAAoCD,QAApC,CAAtB;;AACA,UAAIE,eAAe,IAAIC,eAAvB,EAAwC;AACtC,YAAID,eAAe,IAAIF,QAAQ,CAAC9nB,MAAT,GAAkB,CAArC,IACAgoB,eAAe,IAAID,SAAS,CAAC/nB,MAAV,GAAmB,CAD1C,EAC6C;AAC3C;AACAwhB,eAAK,CAAC9V,MAAN,CAAauX,OAAb,EAAsB,CAAtB,EAAyB,IAAInD,gBAAgB,CAACQ,IAArB,CAA0B3Q,UAA1B,EACrBoY,SAAS,CAAC1G,SAAV,CAAoB,CAApB,EAAuB2G,eAAvB,CADqB,CAAzB;AAEAxG,eAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,IACI6E,QAAQ,CAACzG,SAAT,CAAmB,CAAnB,EAAsByG,QAAQ,CAAC9nB,MAAT,GAAkBgoB,eAAxC,CADJ;AAEAxG,eAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,IAAwB8E,SAAS,CAAC1G,SAAV,CAAoB2G,eAApB,CAAxB;AACA/E,iBAAO;AACR;AACF,OAXD,MAWO;AACL,YAAIgF,eAAe,IAAIH,QAAQ,CAAC9nB,MAAT,GAAkB,CAArC,IACAioB,eAAe,IAAIF,SAAS,CAAC/nB,MAAV,GAAmB,CAD1C,EAC6C;AAC3C;AACA;AACAwhB,eAAK,CAAC9V,MAAN,CAAauX,OAAb,EAAsB,CAAtB,EAAyB,IAAInD,gBAAgB,CAACQ,IAArB,CAA0B3Q,UAA1B,EACrBmY,QAAQ,CAACzG,SAAT,CAAmB,CAAnB,EAAsB4G,eAAtB,CADqB,CAAzB;AAEAzG,eAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,IAAwBpT,WAAxB;AACA2R,eAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,IACI8E,SAAS,CAAC1G,SAAV,CAAoB,CAApB,EAAuB0G,SAAS,CAAC/nB,MAAV,GAAmBioB,eAA1C,CADJ;AAEAzG,eAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,IAAwBrT,WAAxB;AACA4R,eAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,IACI6E,QAAQ,CAACzG,SAAT,CAAmB4G,eAAnB,CADJ;AAEAhF,iBAAO;AACR;AACF;;AACDA,aAAO;AACR;;AACDA,WAAO;AACR;AACF,CA1GD;AA6GA;AACA;AACA;AACA;AACA;AACA;;;AACAnD,gBAAgB,CAACpc,SAAjB,CAA2BmkB,4BAA3B,GAA0D,UAASrG,KAAT,EAAgB;AACxE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE,WAAS0G,0BAAT,CAAoCC,GAApC,EAAyCC,GAAzC,EAA8C;AAC5C,QAAI,CAACD,GAAD,IAAQ,CAACC,GAAb,EAAkB;AAChB;AACA,aAAO,CAAP;AACD,KAJ2C,CAM5C;AACA;AACA;AACA;AACA;;;AACA,QAAIC,KAAK,GAAGF,GAAG,CAACvD,MAAJ,CAAWuD,GAAG,CAACnoB,MAAJ,GAAa,CAAxB,CAAZ;AACA,QAAIsoB,KAAK,GAAGF,GAAG,CAACxD,MAAJ,CAAW,CAAX,CAAZ;AACA,QAAI2D,gBAAgB,GAAGF,KAAK,CAACG,KAAN,CAAY1I,gBAAgB,CAAC2I,qBAA7B,CAAvB;AACA,QAAIC,gBAAgB,GAAGJ,KAAK,CAACE,KAAN,CAAY1I,gBAAgB,CAAC2I,qBAA7B,CAAvB;AACA,QAAIE,WAAW,GAAGJ,gBAAgB,IAC9BF,KAAK,CAACG,KAAN,CAAY1I,gBAAgB,CAAC8I,gBAA7B,CADJ;AAEA,QAAIC,WAAW,GAAGH,gBAAgB,IAC9BJ,KAAK,CAACE,KAAN,CAAY1I,gBAAgB,CAAC8I,gBAA7B,CADJ;AAEA,QAAIE,UAAU,GAAGH,WAAW,IACxBN,KAAK,CAACG,KAAN,CAAY1I,gBAAgB,CAACiJ,eAA7B,CADJ;AAEA,QAAIC,UAAU,GAAGH,WAAW,IACxBP,KAAK,CAACE,KAAN,CAAY1I,gBAAgB,CAACiJ,eAA7B,CADJ;AAEA,QAAIE,UAAU,GAAGH,UAAU,IACvBX,GAAG,CAACK,KAAJ,CAAU1I,gBAAgB,CAACoJ,kBAA3B,CADJ;AAEA,QAAIC,UAAU,GAAGH,UAAU,IACvBZ,GAAG,CAACI,KAAJ,CAAU1I,gBAAgB,CAACsJ,oBAA3B,CADJ;;AAGA,QAAIH,UAAU,IAAIE,UAAlB,EAA8B;AAC5B;AACA,aAAO,CAAP;AACD,KAHD,MAGO,IAAIL,UAAU,IAAIE,UAAlB,EAA8B;AACnC;AACA,aAAO,CAAP;AACD,KAHM,MAGA,IAAIT,gBAAgB,IAAI,CAACI,WAArB,IAAoCE,WAAxC,EAAqD;AAC1D;AACA,aAAO,CAAP;AACD,KAHM,MAGA,IAAIF,WAAW,IAAIE,WAAnB,EAAgC;AACrC;AACA,aAAO,CAAP;AACD,KAHM,MAGA,IAAIN,gBAAgB,IAAIG,gBAAxB,EAA0C;AAC/C;AACA,aAAO,CAAP;AACD;;AACD,WAAO,CAAP;AACD;;AAED,MAAIzF,OAAO,GAAG,CAAd,CA1DwE,CA2DxE;;AACA,SAAOA,OAAO,GAAGzB,KAAK,CAACxhB,MAAN,GAAe,CAAhC,EAAmC;AACjC,QAAIwhB,KAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,KAAyBtT,UAAzB,IACA6R,KAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,KAAyBtT,UAD7B,EACyC;AACvC;AACA,UAAI0Z,SAAS,GAAG7H,KAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,CAAhB;AACA,UAAI3b,IAAI,GAAGka,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,CAAX;AACA,UAAIqG,SAAS,GAAG9H,KAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,CAAhB,CAJuC,CAMvC;;AACA,UAAIsG,YAAY,GAAG,KAAKjI,iBAAL,CAAuB+H,SAAvB,EAAkC/hB,IAAlC,CAAnB;;AACA,UAAIiiB,YAAJ,EAAkB;AAChB,YAAIC,YAAY,GAAGliB,IAAI,CAAC+Z,SAAL,CAAe/Z,IAAI,CAACtH,MAAL,GAAcupB,YAA7B,CAAnB;AACAF,iBAAS,GAAGA,SAAS,CAAChI,SAAV,CAAoB,CAApB,EAAuBgI,SAAS,CAACrpB,MAAV,GAAmBupB,YAA1C,CAAZ;AACAjiB,YAAI,GAAGkiB,YAAY,GAAGliB,IAAI,CAAC+Z,SAAL,CAAe,CAAf,EAAkB/Z,IAAI,CAACtH,MAAL,GAAcupB,YAAhC,CAAtB;AACAD,iBAAS,GAAGE,YAAY,GAAGF,SAA3B;AACD,OAbsC,CAevC;;;AACA,UAAIG,aAAa,GAAGJ,SAApB;AACA,UAAIK,QAAQ,GAAGpiB,IAAf;AACA,UAAIqiB,aAAa,GAAGL,SAApB;AACA,UAAIM,SAAS,GAAG1B,0BAA0B,CAACmB,SAAD,EAAY/hB,IAAZ,CAA1B,GACZ4gB,0BAA0B,CAAC5gB,IAAD,EAAOgiB,SAAP,CAD9B;;AAEA,aAAOhiB,IAAI,CAACsd,MAAL,CAAY,CAAZ,MAAmB0E,SAAS,CAAC1E,MAAV,CAAiB,CAAjB,CAA1B,EAA+C;AAC7CyE,iBAAS,IAAI/hB,IAAI,CAACsd,MAAL,CAAY,CAAZ,CAAb;AACAtd,YAAI,GAAGA,IAAI,CAAC+Z,SAAL,CAAe,CAAf,IAAoBiI,SAAS,CAAC1E,MAAV,CAAiB,CAAjB,CAA3B;AACA0E,iBAAS,GAAGA,SAAS,CAACjI,SAAV,CAAoB,CAApB,CAAZ;AACA,YAAIwI,KAAK,GAAG3B,0BAA0B,CAACmB,SAAD,EAAY/hB,IAAZ,CAA1B,GACR4gB,0BAA0B,CAAC5gB,IAAD,EAAOgiB,SAAP,CAD9B,CAJ6C,CAM7C;;AACA,YAAIO,KAAK,IAAID,SAAb,EAAwB;AACtBA,mBAAS,GAAGC,KAAZ;AACAJ,uBAAa,GAAGJ,SAAhB;AACAK,kBAAQ,GAAGpiB,IAAX;AACAqiB,uBAAa,GAAGL,SAAhB;AACD;AACF;;AAED,UAAI9H,KAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,KAAyBwG,aAA7B,EAA4C;AAC1C;AACA,YAAIA,aAAJ,EAAmB;AACjBjI,eAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,IAAwBwG,aAAxB;AACD,SAFD,MAEO;AACLjI,eAAK,CAAC9V,MAAN,CAAauX,OAAO,GAAG,CAAvB,EAA0B,CAA1B;AACAA,iBAAO;AACR;;AACDzB,aAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,IAAoByG,QAApB;;AACA,YAAIC,aAAJ,EAAmB;AACjBnI,eAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,IAAwB0G,aAAxB;AACD,SAFD,MAEO;AACLnI,eAAK,CAAC9V,MAAN,CAAauX,OAAO,GAAG,CAAvB,EAA0B,CAA1B;AACAA,iBAAO;AACR;AACF;AACF;;AACDA,WAAO;AACR;AACF,CArHD,C,CAuHA;;;AACAnD,gBAAgB,CAAC2I,qBAAjB,GAAyC,cAAzC;AACA3I,gBAAgB,CAAC8I,gBAAjB,GAAoC,IAApC;AACA9I,gBAAgB,CAACiJ,eAAjB,GAAmC,QAAnC;AACAjJ,gBAAgB,CAACoJ,kBAAjB,GAAsC,UAAtC;AACApJ,gBAAgB,CAACsJ,oBAAjB,GAAwC,aAAxC;AAEA;AACA;AACA;AACA;;AACAtJ,gBAAgB,CAACpc,SAAjB,CAA2BomB,sBAA3B,GAAoD,UAAStI,KAAT,EAAgB;AAClE,MAAI6F,OAAO,GAAG,KAAd;AACA,MAAIC,UAAU,GAAG,EAAjB,CAFkE,CAE5C;;AACtB,MAAIC,gBAAgB,GAAG,CAAvB,CAHkE,CAGvC;;AAC3B;;AACA,MAAIC,YAAY,GAAG,IAAnB,CALkE,CAMlE;;AACA,MAAIvE,OAAO,GAAG,CAAd,CAPkE,CAOhD;AAClB;;AACA,MAAI8G,OAAO,GAAG,KAAd,CATkE,CAUlE;;AACA,MAAIC,OAAO,GAAG,KAAd,CAXkE,CAYlE;;AACA,MAAIC,QAAQ,GAAG,KAAf,CAbkE,CAclE;;AACA,MAAIC,QAAQ,GAAG,KAAf;;AACA,SAAOjH,OAAO,GAAGzB,KAAK,CAACxhB,MAAvB,EAA+B;AAC7B,QAAIwhB,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,KAAqBtT,UAAzB,EAAqC;AAAG;AACtC,UAAI6R,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,EAAkBjjB,MAAlB,GAA2B,KAAKggB,aAAhC,KACCiK,QAAQ,IAAIC,QADb,CAAJ,EAC4B;AAC1B;AACA5C,kBAAU,CAACC,gBAAgB,EAAjB,CAAV,GAAiCtE,OAAjC;AACA8G,eAAO,GAAGE,QAAV;AACAD,eAAO,GAAGE,QAAV;AACA1C,oBAAY,GAAGhG,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,CAAf;AACD,OAPD,MAOO;AACL;AACAsE,wBAAgB,GAAG,CAAnB;AACAC,oBAAY,GAAG,IAAf;AACD;;AACDyC,cAAQ,GAAGC,QAAQ,GAAG,KAAtB;AACD,KAdD,MAcO;AAAG;AACR,UAAI1I,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,KAAqBrT,WAAzB,EAAsC;AACpCsa,gBAAQ,GAAG,IAAX;AACD,OAFD,MAEO;AACLD,gBAAQ,GAAG,IAAX;AACD;AACD;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;;AACM,UAAIzC,YAAY,KAAMuC,OAAO,IAAIC,OAAX,IAAsBC,QAAtB,IAAkCC,QAAnC,IACE1C,YAAY,CAACxnB,MAAb,GAAsB,KAAKggB,aAAL,GAAqB,CAA5C,IACC+J,OAAO,GAAGC,OAAV,GAAoBC,QAApB,GAA+BC,QAAhC,IAA6C,CAFnD,CAAhB,EAEwE;AACtE;AACA1I,aAAK,CAAC9V,MAAN,CAAa4b,UAAU,CAACC,gBAAgB,GAAG,CAApB,CAAvB,EAA+C,CAA/C,EACa,IAAIzH,gBAAgB,CAACQ,IAArB,CAA0B1Q,WAA1B,EAAuC4X,YAAvC,CADb,EAFsE,CAItE;;AACAhG,aAAK,CAAC8F,UAAU,CAACC,gBAAgB,GAAG,CAApB,CAAV,GAAmC,CAApC,CAAL,CAA4C,CAA5C,IAAiD1X,WAAjD;AACA0X,wBAAgB,GANsD,CAMjD;;AACrBC,oBAAY,GAAG,IAAf;;AACA,YAAIuC,OAAO,IAAIC,OAAf,EAAwB;AACtB;AACAC,kBAAQ,GAAGC,QAAQ,GAAG,IAAtB;AACA3C,0BAAgB,GAAG,CAAnB;AACD,SAJD,MAIO;AACLA,0BAAgB,GADX,CACgB;;AACrBtE,iBAAO,GAAGsE,gBAAgB,GAAG,CAAnB,GACND,UAAU,CAACC,gBAAgB,GAAG,CAApB,CADJ,GAC6B,CAAC,CADxC;AAEA0C,kBAAQ,GAAGC,QAAQ,GAAG,KAAtB;AACD;;AACD7C,eAAO,GAAG,IAAV;AACD;AACF;;AACDpE,WAAO;AACR;;AAED,MAAIoE,OAAJ,EAAa;AACX,SAAK1F,iBAAL,CAAuBH,KAAvB;AACD;AACF,CA1ED;AA6EA;AACA;AACA;AACA;AACA;;;AACA1B,gBAAgB,CAACpc,SAAjB,CAA2Bie,iBAA3B,GAA+C,UAASH,KAAT,EAAgB;AAC7D;AACAA,OAAK,CAAC3hB,IAAN,CAAW,IAAIigB,gBAAgB,CAACQ,IAArB,CAA0B3Q,UAA1B,EAAsC,EAAtC,CAAX;AACA,MAAIsT,OAAO,GAAG,CAAd;AACA,MAAIC,YAAY,GAAG,CAAnB;AACA,MAAIC,YAAY,GAAG,CAAnB;AACA,MAAIC,WAAW,GAAG,EAAlB;AACA,MAAIC,WAAW,GAAG,EAAlB;AACA,MAAInC,YAAJ;;AACA,SAAO+B,OAAO,GAAGzB,KAAK,CAACxhB,MAAvB,EAA+B;AAC7B,YAAQwhB,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,CAAR;AACE,WAAKpT,WAAL;AACEsT,oBAAY;AACZE,mBAAW,IAAI7B,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,CAAf;AACAA,eAAO;AACP;;AACF,WAAKrT,WAAL;AACEsT,oBAAY;AACZE,mBAAW,IAAI5B,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,CAAf;AACAA,eAAO;AACP;;AACF,WAAKtT,UAAL;AACE;AACA,YAAIuT,YAAY,GAAGC,YAAf,GAA8B,CAAlC,EAAqC;AACnC,cAAID,YAAY,KAAK,CAAjB,IAAsBC,YAAY,KAAK,CAA3C,EAA8C;AAC5C;AACAjC,wBAAY,GAAG,KAAKC,iBAAL,CAAuBkC,WAAvB,EAAoCD,WAApC,CAAf;;AACA,gBAAIlC,YAAY,KAAK,CAArB,EAAwB;AACtB,kBAAK+B,OAAO,GAAGC,YAAV,GAAyBC,YAA1B,GAA0C,CAA1C,IACA3B,KAAK,CAACyB,OAAO,GAAGC,YAAV,GAAyBC,YAAzB,GAAwC,CAAzC,CAAL,CAAiD,CAAjD,KACAxT,UAFJ,EAEgB;AACd6R,qBAAK,CAACyB,OAAO,GAAGC,YAAV,GAAyBC,YAAzB,GAAwC,CAAzC,CAAL,CAAiD,CAAjD,KACIE,WAAW,CAAChC,SAAZ,CAAsB,CAAtB,EAAyBH,YAAzB,CADJ;AAED,eALD,MAKO;AACLM,qBAAK,CAAC9V,MAAN,CAAa,CAAb,EAAgB,CAAhB,EAAmB,IAAIoU,gBAAgB,CAACQ,IAArB,CAA0B3Q,UAA1B,EACf0T,WAAW,CAAChC,SAAZ,CAAsB,CAAtB,EAAyBH,YAAzB,CADe,CAAnB;AAEA+B,uBAAO;AACR;;AACDI,yBAAW,GAAGA,WAAW,CAAChC,SAAZ,CAAsBH,YAAtB,CAAd;AACAkC,yBAAW,GAAGA,WAAW,CAAC/B,SAAZ,CAAsBH,YAAtB,CAAd;AACD,aAhB2C,CAiB5C;;;AACAA,wBAAY,GAAG,KAAKI,iBAAL,CAAuB+B,WAAvB,EAAoCD,WAApC,CAAf;;AACA,gBAAIlC,YAAY,KAAK,CAArB,EAAwB;AACtBM,mBAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,IAAoBI,WAAW,CAAChC,SAAZ,CAAsBgC,WAAW,CAACrjB,MAAZ,GACtCkhB,YADgB,IACAM,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,CADpB;AAEAI,yBAAW,GAAGA,WAAW,CAAChC,SAAZ,CAAsB,CAAtB,EAAyBgC,WAAW,CAACrjB,MAAZ,GACnCkhB,YADU,CAAd;AAEAkC,yBAAW,GAAGA,WAAW,CAAC/B,SAAZ,CAAsB,CAAtB,EAAyB+B,WAAW,CAACpjB,MAAZ,GACnCkhB,YADU,CAAd;AAED;AACF,WA5BkC,CA6BnC;;;AACA+B,iBAAO,IAAIC,YAAY,GAAGC,YAA1B;AACA3B,eAAK,CAAC9V,MAAN,CAAauX,OAAb,EAAsBC,YAAY,GAAGC,YAArC;;AACA,cAAIC,WAAW,CAACpjB,MAAhB,EAAwB;AACtBwhB,iBAAK,CAAC9V,MAAN,CAAauX,OAAb,EAAsB,CAAtB,EACI,IAAInD,gBAAgB,CAACQ,IAArB,CAA0B1Q,WAA1B,EAAuCwT,WAAvC,CADJ;AAEAH,mBAAO;AACR;;AACD,cAAII,WAAW,CAACrjB,MAAhB,EAAwB;AACtBwhB,iBAAK,CAAC9V,MAAN,CAAauX,OAAb,EAAsB,CAAtB,EACI,IAAInD,gBAAgB,CAACQ,IAArB,CAA0BzQ,WAA1B,EAAuCwT,WAAvC,CADJ;AAEAJ,mBAAO;AACR;;AACDA,iBAAO;AACR,SA3CD,MA2CO,IAAIA,OAAO,KAAK,CAAZ,IAAiBzB,KAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,KAAyBtT,UAA9C,EAA0D;AAC/D;AACA6R,eAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,KAAyBzB,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,CAAzB;AACAzB,eAAK,CAAC9V,MAAN,CAAauX,OAAb,EAAsB,CAAtB;AACD,SAJM,MAIA;AACLA,iBAAO;AACR;;AACDE,oBAAY,GAAG,CAAf;AACAD,oBAAY,GAAG,CAAf;AACAE,mBAAW,GAAG,EAAd;AACAC,mBAAW,GAAG,EAAd;AACA;AAnEJ;AAqED;;AACD,MAAI7B,KAAK,CAACA,KAAK,CAACxhB,MAAN,GAAe,CAAhB,CAAL,CAAwB,CAAxB,MAA+B,EAAnC,EAAuC;AACrCwhB,SAAK,CAACvI,GAAN,GADqC,CACvB;AACf,GAlF4D,CAoF7D;AACA;AACA;;;AACA,MAAIoO,OAAO,GAAG,KAAd;AACApE,SAAO,GAAG,CAAV,CAxF6D,CAyF7D;;AACA,SAAOA,OAAO,GAAGzB,KAAK,CAACxhB,MAAN,GAAe,CAAhC,EAAmC;AACjC,QAAIwhB,KAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,KAAyBtT,UAAzB,IACA6R,KAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,KAAyBtT,UAD7B,EACyC;AACvC;AACA,UAAI6R,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,EAAkB5B,SAAlB,CAA4BG,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,EAAkBjjB,MAAlB,GAC5BwhB,KAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,EAAsBjjB,MADtB,KACiCwhB,KAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,CADrC,EAC4D;AAC1D;AACAzB,aAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,IAAoBzB,KAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,IAChBzB,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,EAAkB5B,SAAlB,CAA4B,CAA5B,EAA+BG,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,EAAkBjjB,MAAlB,GACHwhB,KAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,EAAsBjjB,MADlD,CADJ;AAGAwhB,aAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,IAAwBzB,KAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,IAAwBzB,KAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,CAAhD;AACAzB,aAAK,CAAC9V,MAAN,CAAauX,OAAO,GAAG,CAAvB,EAA0B,CAA1B;AACAoE,eAAO,GAAG,IAAV;AACD,OATD,MASO,IAAI7F,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,EAAkB5B,SAAlB,CAA4B,CAA5B,EAA+BG,KAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,EAAsBjjB,MAArD,KACPwhB,KAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,CADG,EACoB;AACzB;AACAzB,aAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,KAAyBzB,KAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,CAAzB;AACAzB,aAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,IACIzB,KAAK,CAACyB,OAAD,CAAL,CAAe,CAAf,EAAkB5B,SAAlB,CAA4BG,KAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,EAAsBjjB,MAAlD,IACAwhB,KAAK,CAACyB,OAAO,GAAG,CAAX,CAAL,CAAmB,CAAnB,CAFJ;AAGAzB,aAAK,CAAC9V,MAAN,CAAauX,OAAO,GAAG,CAAvB,EAA0B,CAA1B;AACAoE,eAAO,GAAG,IAAV;AACD;AACF;;AACDpE,WAAO;AACR,GAnH4D,CAoH7D;;;AACA,MAAIoE,OAAJ,EAAa;AACX,SAAK1F,iBAAL,CAAuBH,KAAvB;AACD;AACF,CAxHD;AA2HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA1B,gBAAgB,CAACpc,SAAjB,CAA2BymB,WAA3B,GAAyC,UAAS3I,KAAT,EAAgB4I,GAAhB,EAAqB;AAC5D,MAAIxH,MAAM,GAAG,CAAb;AACA,MAAIC,MAAM,GAAG,CAAb;AACA,MAAIwH,WAAW,GAAG,CAAlB;AACA,MAAIC,WAAW,GAAG,CAAlB;AACA,MAAIrG,CAAJ;;AACA,OAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGzC,KAAK,CAACxhB,MAAtB,EAA8BikB,CAAC,EAA/B,EAAmC;AACjC,QAAIzC,KAAK,CAACyC,CAAD,CAAL,CAAS,CAAT,MAAgBpU,WAApB,EAAiC;AAAG;AAClC+S,YAAM,IAAIpB,KAAK,CAACyC,CAAD,CAAL,CAAS,CAAT,EAAYjkB,MAAtB;AACD;;AACD,QAAIwhB,KAAK,CAACyC,CAAD,CAAL,CAAS,CAAT,MAAgBrU,WAApB,EAAiC;AAAG;AAClCiT,YAAM,IAAIrB,KAAK,CAACyC,CAAD,CAAL,CAAS,CAAT,EAAYjkB,MAAtB;AACD;;AACD,QAAI4iB,MAAM,GAAGwH,GAAb,EAAkB;AAAG;AACnB;AACD;;AACDC,eAAW,GAAGzH,MAAd;AACA0H,eAAW,GAAGzH,MAAd;AACD,GAlB2D,CAmB5D;;;AACA,MAAIrB,KAAK,CAACxhB,MAAN,IAAgBikB,CAAhB,IAAqBzC,KAAK,CAACyC,CAAD,CAAL,CAAS,CAAT,MAAgBrU,WAAzC,EAAsD;AACpD,WAAO0a,WAAP;AACD,GAtB2D,CAuB5D;;;AACA,SAAOA,WAAW,IAAIF,GAAG,GAAGC,WAAV,CAAlB;AACD,CAzBD;AA4BA;AACA;AACA;AACA;AACA;;;AACAvK,gBAAgB,CAACpc,SAAjB,CAA2B6mB,eAA3B,GAA6C,UAAS/I,KAAT,EAAgB;AAC3D,MAAIgJ,IAAI,GAAG,EAAX;AACA,MAAIC,WAAW,GAAG,IAAlB;AACA,MAAIC,UAAU,GAAG,IAAjB;AACA,MAAIC,UAAU,GAAG,IAAjB;AACA,MAAIC,YAAY,GAAG,KAAnB;;AACA,OAAK,IAAI3G,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGzC,KAAK,CAACxhB,MAA1B,EAAkCikB,CAAC,EAAnC,EAAuC;AACrC,QAAI1D,EAAE,GAAGiB,KAAK,CAACyC,CAAD,CAAL,CAAS,CAAT,CAAT,CADqC,CACZ;;AACzB,QAAIxL,IAAI,GAAG+I,KAAK,CAACyC,CAAD,CAAL,CAAS,CAAT,CAAX,CAFqC,CAEZ;;AACzB,QAAI9X,IAAI,GAAGsM,IAAI,CAACpC,OAAL,CAAaoU,WAAb,EAA0B,OAA1B,EAAmCpU,OAAnC,CAA2CqU,UAA3C,EAAuD,MAAvD,EACNrU,OADM,CACEsU,UADF,EACc,MADd,EACsBtU,OADtB,CAC8BuU,YAD9B,EAC4C,YAD5C,CAAX;;AAEA,YAAQrK,EAAR;AACE,WAAK1Q,WAAL;AACE2a,YAAI,CAACvG,CAAD,CAAJ,GAAU,sCAAsC9X,IAAtC,GAA6C,QAAvD;AACA;;AACF,WAAKyD,WAAL;AACE4a,YAAI,CAACvG,CAAD,CAAJ,GAAU,sCAAsC9X,IAAtC,GAA6C,QAAvD;AACA;;AACF,WAAKwD,UAAL;AACE6a,YAAI,CAACvG,CAAD,CAAJ,GAAU,WAAW9X,IAAX,GAAkB,SAA5B;AACA;AATJ;AAWD;;AACD,SAAOqe,IAAI,CAAC7e,IAAL,CAAU,EAAV,CAAP;AACD,CAxBD;AA2BA;AACA;AACA;AACA;AACA;;;AACAmU,gBAAgB,CAACpc,SAAjB,CAA2BmnB,UAA3B,GAAwC,UAASrJ,KAAT,EAAgB;AACtD,MAAIrV,IAAI,GAAG,EAAX;;AACA,OAAK,IAAI8X,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGzC,KAAK,CAACxhB,MAA1B,EAAkCikB,CAAC,EAAnC,EAAuC;AACrC,QAAIzC,KAAK,CAACyC,CAAD,CAAL,CAAS,CAAT,MAAgBpU,WAApB,EAAiC;AAC/B1D,UAAI,CAAC8X,CAAD,CAAJ,GAAUzC,KAAK,CAACyC,CAAD,CAAL,CAAS,CAAT,CAAV;AACD;AACF;;AACD,SAAO9X,IAAI,CAACR,IAAL,CAAU,EAAV,CAAP;AACD,CARD;AAWA;AACA;AACA;AACA;AACA;;;AACAmU,gBAAgB,CAACpc,SAAjB,CAA2BonB,UAA3B,GAAwC,UAAStJ,KAAT,EAAgB;AACtD,MAAIrV,IAAI,GAAG,EAAX;;AACA,OAAK,IAAI8X,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGzC,KAAK,CAACxhB,MAA1B,EAAkCikB,CAAC,EAAnC,EAAuC;AACrC,QAAIzC,KAAK,CAACyC,CAAD,CAAL,CAAS,CAAT,MAAgBrU,WAApB,EAAiC;AAC/BzD,UAAI,CAAC8X,CAAD,CAAJ,GAAUzC,KAAK,CAACyC,CAAD,CAAL,CAAS,CAAT,CAAV;AACD;AACF;;AACD,SAAO9X,IAAI,CAACR,IAAL,CAAU,EAAV,CAAP;AACD,CARD;AAWA;AACA;AACA;AACA;AACA;AACA;;;AACAmU,gBAAgB,CAACpc,SAAjB,CAA2BqnB,gBAA3B,GAA8C,UAASvJ,KAAT,EAAgB;AAC5D,MAAIwJ,WAAW,GAAG,CAAlB;AACA,MAAIC,UAAU,GAAG,CAAjB;AACA,MAAIC,SAAS,GAAG,CAAhB;;AACA,OAAK,IAAIjH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGzC,KAAK,CAACxhB,MAA1B,EAAkCikB,CAAC,EAAnC,EAAuC;AACrC,QAAI1D,EAAE,GAAGiB,KAAK,CAACyC,CAAD,CAAL,CAAS,CAAT,CAAT;AACA,QAAIxL,IAAI,GAAG+I,KAAK,CAACyC,CAAD,CAAL,CAAS,CAAT,CAAX;;AACA,YAAQ1D,EAAR;AACE,WAAK1Q,WAAL;AACEob,kBAAU,IAAIxS,IAAI,CAACzY,MAAnB;AACA;;AACF,WAAK4P,WAAL;AACEsb,iBAAS,IAAIzS,IAAI,CAACzY,MAAlB;AACA;;AACF,WAAK2P,UAAL;AACE;AACAqb,mBAAW,IAAIrH,IAAI,CAACphB,GAAL,CAAS0oB,UAAT,EAAqBC,SAArB,CAAf;AACAD,kBAAU,GAAG,CAAb;AACAC,iBAAS,GAAG,CAAZ;AACA;AAZJ;AAcD;;AACDF,aAAW,IAAIrH,IAAI,CAACphB,GAAL,CAAS0oB,UAAT,EAAqBC,SAArB,CAAf;AACA,SAAOF,WAAP;AACD,CAxBD;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAlL,gBAAgB,CAACpc,SAAjB,CAA2BynB,YAA3B,GAA0C,UAAS3J,KAAT,EAAgB;AACxD,MAAIrV,IAAI,GAAG,EAAX;;AACA,OAAK,IAAI8X,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGzC,KAAK,CAACxhB,MAA1B,EAAkCikB,CAAC,EAAnC,EAAuC;AACrC,YAAQzC,KAAK,CAACyC,CAAD,CAAL,CAAS,CAAT,CAAR;AACE,WAAKpU,WAAL;AACE1D,YAAI,CAAC8X,CAAD,CAAJ,GAAU,MAAMmH,SAAS,CAAC5J,KAAK,CAACyC,CAAD,CAAL,CAAS,CAAT,CAAD,CAAzB;AACA;;AACF,WAAKrU,WAAL;AACEzD,YAAI,CAAC8X,CAAD,CAAJ,GAAU,MAAMzC,KAAK,CAACyC,CAAD,CAAL,CAAS,CAAT,EAAYjkB,MAA5B;AACA;;AACF,WAAK2P,UAAL;AACExD,YAAI,CAAC8X,CAAD,CAAJ,GAAU,MAAMzC,KAAK,CAACyC,CAAD,CAAL,CAAS,CAAT,EAAYjkB,MAA5B;AACA;AATJ;AAWD;;AACD,SAAOmM,IAAI,CAACR,IAAL,CAAU,IAAV,EAAgB0K,OAAhB,CAAwB,MAAxB,EAAgC,GAAhC,CAAP;AACD,CAhBD;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAyJ,gBAAgB,CAACpc,SAAjB,CAA2B2nB,cAA3B,GAA4C,UAAS7K,KAAT,EAAgB0D,KAAhB,EAAuB;AACjE,MAAI1C,KAAK,GAAG,EAAZ;AACA,MAAI8J,WAAW,GAAG,CAAlB,CAFiE,CAE3C;;AACtB,MAAIrI,OAAO,GAAG,CAAd,CAHiE,CAG/C;;AAClB,MAAIsI,MAAM,GAAGrH,KAAK,CAACtc,KAAN,CAAY,KAAZ,CAAb;;AACA,OAAK,IAAIqc,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGsH,MAAM,CAACvrB,MAA3B,EAAmCikB,CAAC,EAApC,EAAwC;AACtC;AACA;AACA,QAAIuH,KAAK,GAAGD,MAAM,CAACtH,CAAD,CAAN,CAAU5C,SAAV,CAAoB,CAApB,CAAZ;;AACA,YAAQkK,MAAM,CAACtH,CAAD,CAAN,CAAUW,MAAV,CAAiB,CAAjB,CAAR;AACE,WAAK,GAAL;AACE,YAAI;AACFpD,eAAK,CAAC8J,WAAW,EAAZ,CAAL,GACI,IAAIxL,gBAAgB,CAACQ,IAArB,CAA0BzQ,WAA1B,EAAuC4b,SAAS,CAACD,KAAD,CAAhD,CADJ;AAED,SAHD,CAGE,OAAOE,EAAP,EAAW;AACX;AACA,gBAAM,IAAIlb,KAAJ,CAAU,uCAAuCgb,KAAjD,CAAN;AACD;;AACD;;AACF,WAAK,GAAL,CAVF,CAWI;;AACF,WAAK,GAAL;AACE,YAAI5mB,CAAC,GAAG+mB,QAAQ,CAACH,KAAD,EAAQ,EAAR,CAAhB;;AACA,YAAII,KAAK,CAAChnB,CAAD,CAAL,IAAYA,CAAC,GAAG,CAApB,EAAuB;AACrB,gBAAM,IAAI4L,KAAJ,CAAU,uCAAuCgb,KAAjD,CAAN;AACD;;AACD,YAAIrf,IAAI,GAAGqU,KAAK,CAACa,SAAN,CAAgB4B,OAAhB,EAAyBA,OAAO,IAAIre,CAApC,CAAX;;AACA,YAAI2mB,MAAM,CAACtH,CAAD,CAAN,CAAUW,MAAV,CAAiB,CAAjB,KAAuB,GAA3B,EAAgC;AAC9BpD,eAAK,CAAC8J,WAAW,EAAZ,CAAL,GAAuB,IAAIxL,gBAAgB,CAACQ,IAArB,CAA0B3Q,UAA1B,EAAsCxD,IAAtC,CAAvB;AACD,SAFD,MAEO;AACLqV,eAAK,CAAC8J,WAAW,EAAZ,CAAL,GAAuB,IAAIxL,gBAAgB,CAACQ,IAArB,CAA0B1Q,WAA1B,EAAuCzD,IAAvC,CAAvB;AACD;;AACD;;AACF;AACE;AACA;AACA,YAAIof,MAAM,CAACtH,CAAD,CAAV,EAAe;AACb,gBAAM,IAAIzT,KAAJ,CAAU,+CACA+a,MAAM,CAACtH,CAAD,CADhB,CAAN;AAED;;AA9BL;AAgCD;;AACD,MAAIhB,OAAO,IAAIzC,KAAK,CAACxgB,MAArB,EAA6B;AAC3B,UAAM,IAAIwQ,KAAJ,CAAU,mBAAmByS,OAAnB,GACZ,uCADY,GAC8BzC,KAAK,CAACxgB,MADpC,GAC6C,IADvD,CAAN;AAED;;AACD,SAAOwhB,KAAP;AACD,CA/CD,C,CAkDA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA1B,gBAAgB,CAACpc,SAAjB,CAA2BmoB,UAA3B,GAAwC,UAAS1f,IAAT,EAAegR,OAAf,EAAwBiN,GAAxB,EAA6B;AACnE;AACA,MAAIje,IAAI,IAAI,IAAR,IAAgBgR,OAAO,IAAI,IAA3B,IAAmCiN,GAAG,IAAI,IAA9C,EAAoD;AAClD,UAAM,IAAI5Z,KAAJ,CAAU,0BAAV,CAAN;AACD;;AAED4Z,KAAG,GAAGzG,IAAI,CAACphB,GAAL,CAAS,CAAT,EAAYohB,IAAI,CAACrhB,GAAL,CAAS8nB,GAAT,EAAcje,IAAI,CAACnM,MAAnB,CAAZ,CAAN;;AACA,MAAImM,IAAI,IAAIgR,OAAZ,EAAqB;AACnB;AACA,WAAO,CAAP;AACD,GAHD,MAGO,IAAI,CAAChR,IAAI,CAACnM,MAAV,EAAkB;AACvB;AACA,WAAO,CAAC,CAAR;AACD,GAHM,MAGA,IAAImM,IAAI,CAACkV,SAAL,CAAe+I,GAAf,EAAoBA,GAAG,GAAGjN,OAAO,CAACnd,MAAlC,KAA6Cmd,OAAjD,EAA0D;AAC/D;AACA,WAAOiN,GAAP;AACD,GAHM,MAGA;AACL;AACA,WAAO,KAAK0B,YAAL,CAAkB3f,IAAlB,EAAwBgR,OAAxB,EAAiCiN,GAAjC,CAAP;AACD;AACF,CApBD;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAtK,gBAAgB,CAACpc,SAAjB,CAA2BooB,YAA3B,GAA0C,UAAS3f,IAAT,EAAegR,OAAf,EAAwBiN,GAAxB,EAA6B;AACrE,MAAIjN,OAAO,CAACnd,MAAR,GAAiB,KAAKqgB,aAA1B,EAAyC;AACvC,UAAM,IAAI7P,KAAJ,CAAU,oCAAV,CAAN;AACD,GAHoE,CAKrE;;;AACA,MAAItP,CAAC,GAAG,KAAK6qB,eAAL,CAAqB5O,OAArB,CAAR;AAEA,MAAIlO,GAAG,GAAG,IAAV,CARqE,CAQpD;;AAEjB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;AACE,WAAS+c,iBAAT,CAA2B/X,CAA3B,EAA8BgQ,CAA9B,EAAiC;AAC/B,QAAIgI,QAAQ,GAAGhY,CAAC,GAAGkJ,OAAO,CAACnd,MAA3B;AACA,QAAIksB,SAAS,GAAGvI,IAAI,CAACwI,GAAL,CAAS/B,GAAG,GAAGnG,CAAf,CAAhB;;AACA,QAAI,CAAChV,GAAG,CAACiR,cAAT,EAAyB;AACvB;AACA,aAAOgM,SAAS,GAAG,GAAH,GAASD,QAAzB;AACD;;AACD,WAAOA,QAAQ,GAAIC,SAAS,GAAGjd,GAAG,CAACiR,cAAnC;AACD,GA1BoE,CA4BrE;;;AACA,MAAIkM,eAAe,GAAG,KAAKnM,eAA3B,CA7BqE,CA8BrE;;AACA,MAAIoM,QAAQ,GAAGlgB,IAAI,CAACV,OAAL,CAAa0R,OAAb,EAAsBiN,GAAtB,CAAf;;AACA,MAAIiC,QAAQ,IAAI,CAAC,CAAjB,EAAoB;AAClBD,mBAAe,GAAGzI,IAAI,CAACrhB,GAAL,CAAS0pB,iBAAiB,CAAC,CAAD,EAAIK,QAAJ,CAA1B,EAAyCD,eAAzC,CAAlB,CADkB,CAElB;;AACAC,YAAQ,GAAGlgB,IAAI,CAACmgB,WAAL,CAAiBnP,OAAjB,EAA0BiN,GAAG,GAAGjN,OAAO,CAACnd,MAAxC,CAAX;;AACA,QAAIqsB,QAAQ,IAAI,CAAC,CAAjB,EAAoB;AAClBD,qBAAe,GACXzI,IAAI,CAACrhB,GAAL,CAAS0pB,iBAAiB,CAAC,CAAD,EAAIK,QAAJ,CAA1B,EAAyCD,eAAzC,CADJ;AAED;AACF,GAxCoE,CA0CrE;;;AACA,MAAIG,SAAS,GAAG,KAAMpP,OAAO,CAACnd,MAAR,GAAiB,CAAvC;AACAqsB,UAAQ,GAAG,CAAC,CAAZ;AAEA,MAAIG,OAAJ,EAAaC,OAAb;AACA,MAAIC,OAAO,GAAGvP,OAAO,CAACnd,MAAR,GAAiBmM,IAAI,CAACnM,MAApC;AACA,MAAI2sB,OAAJ;;AACA,OAAK,IAAI7oB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqZ,OAAO,CAACnd,MAA5B,EAAoC8D,CAAC,EAArC,EAAyC;AACvC;AACA;AACA;AACA0oB,WAAO,GAAG,CAAV;AACAC,WAAO,GAAGC,OAAV;;AACA,WAAOF,OAAO,GAAGC,OAAjB,EAA0B;AACxB,UAAIT,iBAAiB,CAACloB,CAAD,EAAIsmB,GAAG,GAAGqC,OAAV,CAAjB,IAAuCL,eAA3C,EAA4D;AAC1DI,eAAO,GAAGC,OAAV;AACD,OAFD,MAEO;AACLC,eAAO,GAAGD,OAAV;AACD;;AACDA,aAAO,GAAG9I,IAAI,CAACyC,KAAL,CAAW,CAACsG,OAAO,GAAGF,OAAX,IAAsB,CAAtB,GAA0BA,OAArC,CAAV;AACD,KAbsC,CAcvC;;;AACAE,WAAO,GAAGD,OAAV;AACA,QAAIG,KAAK,GAAGjJ,IAAI,CAACphB,GAAL,CAAS,CAAT,EAAY6nB,GAAG,GAAGqC,OAAN,GAAgB,CAA5B,CAAZ;AACA,QAAII,MAAM,GAAGlJ,IAAI,CAACrhB,GAAL,CAAS8nB,GAAG,GAAGqC,OAAf,EAAwBtgB,IAAI,CAACnM,MAA7B,IAAuCmd,OAAO,CAACnd,MAA5D;AAEA,QAAI8sB,EAAE,GAAG3oB,KAAK,CAAC0oB,MAAM,GAAG,CAAV,CAAd;AACAC,MAAE,CAACD,MAAM,GAAG,CAAV,CAAF,GAAiB,CAAC,KAAK/oB,CAAN,IAAW,CAA5B;;AACA,SAAK,IAAIyf,CAAC,GAAGsJ,MAAb,EAAqBtJ,CAAC,IAAIqJ,KAA1B,EAAiCrJ,CAAC,EAAlC,EAAsC;AACpC;AACA;AACA,UAAIwJ,SAAS,GAAG7rB,CAAC,CAACiL,IAAI,CAACyY,MAAL,CAAYrB,CAAC,GAAG,CAAhB,CAAD,CAAjB;;AACA,UAAIzf,CAAC,KAAK,CAAV,EAAa;AAAG;AACdgpB,UAAE,CAACvJ,CAAD,CAAF,GAAQ,CAAEuJ,EAAE,CAACvJ,CAAC,GAAG,CAAL,CAAF,IAAa,CAAd,GAAmB,CAApB,IAAyBwJ,SAAjC;AACD,OAFD,MAEO;AAAG;AACRD,UAAE,CAACvJ,CAAD,CAAF,GAAS,CAAEuJ,EAAE,CAACvJ,CAAC,GAAG,CAAL,CAAF,IAAa,CAAd,GAAmB,CAApB,IAAyBwJ,SAA1B,IACE,CAACJ,OAAO,CAACpJ,CAAC,GAAG,CAAL,CAAP,GAAiBoJ,OAAO,CAACpJ,CAAD,CAAzB,KAAiC,CAAlC,GAAuC,CADxC,IAEAoJ,OAAO,CAACpJ,CAAC,GAAG,CAAL,CAFf;AAGD;;AACD,UAAIuJ,EAAE,CAACvJ,CAAD,CAAF,GAAQgJ,SAAZ,EAAuB;AACrB,YAAI1C,KAAK,GAAGmC,iBAAiB,CAACloB,CAAD,EAAIyf,CAAC,GAAG,CAAR,CAA7B,CADqB,CAErB;AACA;;AACA,YAAIsG,KAAK,IAAIuC,eAAb,EAA8B;AAC5B;AACAA,yBAAe,GAAGvC,KAAlB;AACAwC,kBAAQ,GAAG9I,CAAC,GAAG,CAAf;;AACA,cAAI8I,QAAQ,GAAGjC,GAAf,EAAoB;AAClB;AACAwC,iBAAK,GAAGjJ,IAAI,CAACphB,GAAL,CAAS,CAAT,EAAY,IAAI6nB,GAAJ,GAAUiC,QAAtB,CAAR;AACD,WAHD,MAGO;AACL;AACA;AACD;AACF;AACF;AACF,KAjDsC,CAkDvC;;;AACA,QAAIL,iBAAiB,CAACloB,CAAC,GAAG,CAAL,EAAQsmB,GAAR,CAAjB,GAAgCgC,eAApC,EAAqD;AACnD;AACD;;AACDO,WAAO,GAAGG,EAAV;AACD;;AACD,SAAOT,QAAP;AACD,CA1GD;AA6GA;AACA;AACA;AACA;AACA;AACA;;;AACAvM,gBAAgB,CAACpc,SAAjB,CAA2BqoB,eAA3B,GAA6C,UAAS5O,OAAT,EAAkB;AAC7D,MAAIjc,CAAC,GAAG,EAAR;;AACA,OAAK,IAAImC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8Z,OAAO,CAACnd,MAA5B,EAAoCqD,CAAC,EAArC,EAAyC;AACvCnC,KAAC,CAACic,OAAO,CAACyH,MAAR,CAAevhB,CAAf,CAAD,CAAD,GAAuB,CAAvB;AACD;;AACD,OAAK,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8Z,OAAO,CAACnd,MAA5B,EAAoCqD,CAAC,EAArC,EAAyC;AACvCnC,KAAC,CAACic,OAAO,CAACyH,MAAR,CAAevhB,CAAf,CAAD,CAAD,IAAwB,KAAM8Z,OAAO,CAACnd,MAAR,GAAiBqD,CAAjB,GAAqB,CAAnD;AACD;;AACD,SAAOnC,CAAP;AACD,CATD,C,CAYA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA4e,gBAAgB,CAACpc,SAAjB,CAA2BspB,iBAA3B,GAA+C,UAASC,KAAT,EAAgB9gB,IAAhB,EAAsB;AACnE,MAAIA,IAAI,CAACnM,MAAL,IAAe,CAAnB,EAAsB;AACpB;AACD;;AACD,MAAIitB,KAAK,CAACC,MAAN,KAAiB,IAArB,EAA2B;AACzB,UAAM1c,KAAK,CAAC,uBAAD,CAAX;AACD;;AACD,MAAI2M,OAAO,GAAGhR,IAAI,CAACkV,SAAL,CAAe4L,KAAK,CAACC,MAArB,EAA6BD,KAAK,CAACC,MAAN,GAAeD,KAAK,CAACE,OAAlD,CAAd;AACA,MAAIC,OAAO,GAAG,CAAd,CARmE,CAUnE;AACA;;AACA,SAAOjhB,IAAI,CAACV,OAAL,CAAa0R,OAAb,KAAyBhR,IAAI,CAACmgB,WAAL,CAAiBnP,OAAjB,CAAzB,IACAA,OAAO,CAACnd,MAAR,GAAiB,KAAKqgB,aAAL,GAAqB,KAAKD,YAA1B,GACjB,KAAKA,YAFZ,EAE0B;AACxBgN,WAAO,IAAI,KAAKhN,YAAhB;AACAjD,WAAO,GAAGhR,IAAI,CAACkV,SAAL,CAAe4L,KAAK,CAACC,MAAN,GAAeE,OAA9B,EACeH,KAAK,CAACC,MAAN,GAAeD,KAAK,CAACE,OAArB,GAA+BC,OAD9C,CAAV;AAED,GAlBkE,CAmBnE;;;AACAA,SAAO,IAAI,KAAKhN,YAAhB,CApBmE,CAsBnE;;AACA,MAAIiN,MAAM,GAAGlhB,IAAI,CAACkV,SAAL,CAAe4L,KAAK,CAACC,MAAN,GAAeE,OAA9B,EAAuCH,KAAK,CAACC,MAA7C,CAAb;;AACA,MAAIG,MAAJ,EAAY;AACVJ,SAAK,CAACzL,KAAN,CAAYE,OAAZ,CAAoB,IAAI5B,gBAAgB,CAACQ,IAArB,CAA0B3Q,UAA1B,EAAsC0d,MAAtC,CAApB;AACD,GA1BkE,CA2BnE;;;AACA,MAAIC,MAAM,GAAGnhB,IAAI,CAACkV,SAAL,CAAe4L,KAAK,CAACC,MAAN,GAAeD,KAAK,CAACE,OAApC,EACeF,KAAK,CAACC,MAAN,GAAeD,KAAK,CAACE,OAArB,GAA+BC,OAD9C,CAAb;;AAEA,MAAIE,MAAJ,EAAY;AACVL,SAAK,CAACzL,KAAN,CAAY3hB,IAAZ,CAAiB,IAAIigB,gBAAgB,CAACQ,IAArB,CAA0B3Q,UAA1B,EAAsC2d,MAAtC,CAAjB;AACD,GAhCkE,CAkCnE;;;AACAL,OAAK,CAACM,MAAN,IAAgBF,MAAM,CAACrtB,MAAvB;AACAitB,OAAK,CAACC,MAAN,IAAgBG,MAAM,CAACrtB,MAAvB,CApCmE,CAqCnE;;AACAitB,OAAK,CAACE,OAAN,IAAiBE,MAAM,CAACrtB,MAAP,GAAgBstB,MAAM,CAACttB,MAAxC;AACAitB,OAAK,CAACO,OAAN,IAAiBH,MAAM,CAACrtB,MAAP,GAAgBstB,MAAM,CAACttB,MAAxC;AACD,CAxCD;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA8f,gBAAgB,CAACpc,SAAjB,CAA2B+pB,UAA3B,GAAwC,UAAS/K,CAAT,EAAYgL,KAAZ,EAAmBC,KAAnB,EAA0B;AAChE,MAAInN,KAAJ,EAAWgB,KAAX;;AACA,MAAI,OAAOkB,CAAP,IAAY,QAAZ,IAAwB,OAAOgL,KAAP,IAAgB,QAAxC,IACA,OAAOC,KAAP,IAAgB,WADpB,EACiC;AAC/B;AACA;AACAnN,SAAK;AAAG;AAAsBkC,KAA9B;AACAlB,SAAK,GAAG,KAAKpS,SAAL,CAAeoR,KAAf;AAAsB;AAAsBkN,SAA5C,EAAoD,IAApD,CAAR;;AACA,QAAIlM,KAAK,CAACxhB,MAAN,GAAe,CAAnB,EAAsB;AACpB,WAAKqP,oBAAL,CAA0BmS,KAA1B;AACA,WAAKsI,sBAAL,CAA4BtI,KAA5B;AACD;AACF,GAVD,MAUO,IAAIkB,CAAC,IAAI,OAAOA,CAAP,IAAY,QAAjB,IAA6B,OAAOgL,KAAP,IAAgB,WAA7C,IACP,OAAOC,KAAP,IAAgB,WADb,EAC0B;AAC/B;AACA;AACAnM,SAAK;AAAG;AAA+CkB,KAAvD;AACAlC,SAAK,GAAG,KAAKqK,UAAL,CAAgBrJ,KAAhB,CAAR;AACD,GANM,MAMA,IAAI,OAAOkB,CAAP,IAAY,QAAZ,IAAwBgL,KAAxB,IAAiC,OAAOA,KAAP,IAAgB,QAAjD,IACP,OAAOC,KAAP,IAAgB,WADb,EAC0B;AAC/B;AACAnN,SAAK;AAAG;AAAsBkC,KAA9B;AACAlB,SAAK;AAAG;AAA+CkM,SAAvD;AACD,GALM,MAKA,IAAI,OAAOhL,CAAP,IAAY,QAAZ,IAAwB,OAAOgL,KAAP,IAAgB,QAAxC,IACPC,KADO,IACE,OAAOA,KAAP,IAAgB,QADtB,EACgC;AACrC;AACA;AACAnN,SAAK;AAAG;AAAsBkC,KAA9B;AACAlB,SAAK;AAAG;AAA+CmM,SAAvD;AACD,GANM,MAMA;AACL,UAAM,IAAInd,KAAJ,CAAU,oCAAV,CAAN;AACD;;AAED,MAAIgR,KAAK,CAACxhB,MAAN,KAAiB,CAArB,EAAwB;AACtB,WAAO,EAAP,CADsB,CACV;AACb;;AACD,MAAI4tB,OAAO,GAAG,EAAd;AACA,MAAIX,KAAK,GAAG,IAAInN,gBAAgB,CAAC+N,SAArB,EAAZ;AACA,MAAIC,eAAe,GAAG,CAAtB,CAtCgE,CAsCtC;;AAC1B,MAAIC,WAAW,GAAG,CAAlB,CAvCgE,CAuC1C;;AACtB,MAAIC,WAAW,GAAG,CAAlB,CAxCgE,CAwC1C;AACtB;AACA;AACA;;AACA,MAAIC,aAAa,GAAGzN,KAApB;AACA,MAAI0N,cAAc,GAAG1N,KAArB;;AACA,OAAK,IAAIyD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGzC,KAAK,CAACxhB,MAA1B,EAAkCikB,CAAC,EAAnC,EAAuC;AACrC,QAAIkK,SAAS,GAAG3M,KAAK,CAACyC,CAAD,CAAL,CAAS,CAAT,CAAhB;AACA,QAAImK,SAAS,GAAG5M,KAAK,CAACyC,CAAD,CAAL,CAAS,CAAT,CAAhB;;AAEA,QAAI,CAAC6J,eAAD,IAAoBK,SAAS,KAAKxe,UAAtC,EAAkD;AAChD;AACAsd,WAAK,CAACM,MAAN,GAAeQ,WAAf;AACAd,WAAK,CAACC,MAAN,GAAec,WAAf;AACD;;AAED,YAAQG,SAAR;AACE,WAAKte,WAAL;AACEod,aAAK,CAACzL,KAAN,CAAYsM,eAAe,EAA3B,IAAiCtM,KAAK,CAACyC,CAAD,CAAtC;AACAgJ,aAAK,CAACO,OAAN,IAAiBY,SAAS,CAACpuB,MAA3B;AACAkuB,sBAAc,GAAGA,cAAc,CAAC7M,SAAf,CAAyB,CAAzB,EAA4B2M,WAA5B,IAA2CI,SAA3C,GACAF,cAAc,CAAC7M,SAAf,CAAyB2M,WAAzB,CADjB;AAEA;;AACF,WAAKpe,WAAL;AACEqd,aAAK,CAACE,OAAN,IAAiBiB,SAAS,CAACpuB,MAA3B;AACAitB,aAAK,CAACzL,KAAN,CAAYsM,eAAe,EAA3B,IAAiCtM,KAAK,CAACyC,CAAD,CAAtC;AACAiK,sBAAc,GAAGA,cAAc,CAAC7M,SAAf,CAAyB,CAAzB,EAA4B2M,WAA5B,IACAE,cAAc,CAAC7M,SAAf,CAAyB2M,WAAW,GAChCI,SAAS,CAACpuB,MADd,CADjB;AAGA;;AACF,WAAK2P,UAAL;AACE,YAAIye,SAAS,CAACpuB,MAAV,IAAoB,IAAI,KAAKogB,YAA7B,IACA0N,eADA,IACmBtM,KAAK,CAACxhB,MAAN,IAAgBikB,CAAC,GAAG,CAD3C,EAC8C;AAC5C;AACAgJ,eAAK,CAACzL,KAAN,CAAYsM,eAAe,EAA3B,IAAiCtM,KAAK,CAACyC,CAAD,CAAtC;AACAgJ,eAAK,CAACE,OAAN,IAAiBiB,SAAS,CAACpuB,MAA3B;AACAitB,eAAK,CAACO,OAAN,IAAiBY,SAAS,CAACpuB,MAA3B;AACD,SAND,MAMO,IAAIouB,SAAS,CAACpuB,MAAV,IAAoB,IAAI,KAAKogB,YAAjC,EAA+C;AACpD;AACA,cAAI0N,eAAJ,EAAqB;AACnB,iBAAKd,iBAAL,CAAuBC,KAAvB,EAA8BgB,aAA9B;AACAL,mBAAO,CAAC/tB,IAAR,CAAaotB,KAAb;AACAA,iBAAK,GAAG,IAAInN,gBAAgB,CAAC+N,SAArB,EAAR;AACAC,2BAAe,GAAG,CAAlB,CAJmB,CAKnB;AACA;AACA;AACA;;AACAG,yBAAa,GAAGC,cAAhB;AACAH,uBAAW,GAAGC,WAAd;AACD;AACF;;AACD;AApCJ,KAVqC,CAiDrC;;;AACA,QAAIG,SAAS,KAAKte,WAAlB,EAA+B;AAC7Bke,iBAAW,IAAIK,SAAS,CAACpuB,MAAzB;AACD;;AACD,QAAImuB,SAAS,KAAKve,WAAlB,EAA+B;AAC7Boe,iBAAW,IAAII,SAAS,CAACpuB,MAAzB;AACD;AACF,GAtG+D,CAuGhE;;;AACA,MAAI8tB,eAAJ,EAAqB;AACnB,SAAKd,iBAAL,CAAuBC,KAAvB,EAA8BgB,aAA9B;AACAL,WAAO,CAAC/tB,IAAR,CAAaotB,KAAb;AACD;;AAED,SAAOW,OAAP;AACD,CA9GD;AAiHA;AACA;AACA;AACA;AACA;;;AACA9N,gBAAgB,CAACpc,SAAjB,CAA2B2qB,cAA3B,GAA4C,UAAST,OAAT,EAAkB;AAC5D;AACA,MAAIU,WAAW,GAAG,EAAlB;;AACA,OAAK,IAAIrK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2J,OAAO,CAAC5tB,MAA5B,EAAoCikB,CAAC,EAArC,EAAyC;AACvC,QAAIgJ,KAAK,GAAGW,OAAO,CAAC3J,CAAD,CAAnB;AACA,QAAIsK,SAAS,GAAG,IAAIzO,gBAAgB,CAAC+N,SAArB,EAAhB;AACAU,aAAS,CAAC/M,KAAV,GAAkB,EAAlB;;AACA,SAAK,IAAIpV,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6gB,KAAK,CAACzL,KAAN,CAAYxhB,MAAhC,EAAwCoM,CAAC,EAAzC,EAA6C;AAC3CmiB,eAAS,CAAC/M,KAAV,CAAgBpV,CAAhB,IACI,IAAI0T,gBAAgB,CAACQ,IAArB,CAA0B2M,KAAK,CAACzL,KAAN,CAAYpV,CAAZ,EAAe,CAAf,CAA1B,EAA6C6gB,KAAK,CAACzL,KAAN,CAAYpV,CAAZ,EAAe,CAAf,CAA7C,CADJ;AAED;;AACDmiB,aAAS,CAAChB,MAAV,GAAmBN,KAAK,CAACM,MAAzB;AACAgB,aAAS,CAACrB,MAAV,GAAmBD,KAAK,CAACC,MAAzB;AACAqB,aAAS,CAACpB,OAAV,GAAoBF,KAAK,CAACE,OAA1B;AACAoB,aAAS,CAACf,OAAV,GAAoBP,KAAK,CAACO,OAA1B;AACAc,eAAW,CAACrK,CAAD,CAAX,GAAiBsK,SAAjB;AACD;;AACD,SAAOD,WAAP;AACD,CAlBD;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAxO,gBAAgB,CAACpc,SAAjB,CAA2B8qB,WAA3B,GAAyC,UAASZ,OAAT,EAAkBzhB,IAAlB,EAAwB;AAC/D,MAAIyhB,OAAO,CAAC5tB,MAAR,IAAkB,CAAtB,EAAyB;AACvB,WAAO,CAACmM,IAAD,EAAO,EAAP,CAAP;AACD,GAH8D,CAK/D;;;AACAyhB,SAAO,GAAG,KAAKS,cAAL,CAAoBT,OAApB,CAAV;AAEA,MAAIa,WAAW,GAAG,KAAKC,gBAAL,CAAsBd,OAAtB,CAAlB;AACAzhB,MAAI,GAAGsiB,WAAW,GAAGtiB,IAAd,GAAqBsiB,WAA5B;AAEA,OAAKE,cAAL,CAAoBf,OAApB,EAX+D,CAY/D;AACA;AACA;AACA;;AACA,MAAI1J,KAAK,GAAG,CAAZ;AACA,MAAI0K,OAAO,GAAG,EAAd;;AACA,OAAK,IAAI3K,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2J,OAAO,CAAC5tB,MAA5B,EAAoCikB,CAAC,EAArC,EAAyC;AACvC,QAAI4K,YAAY,GAAGjB,OAAO,CAAC3J,CAAD,CAAP,CAAWiJ,MAAX,GAAoBhJ,KAAvC;AACA,QAAI1D,KAAK,GAAG,KAAKqK,UAAL,CAAgB+C,OAAO,CAAC3J,CAAD,CAAP,CAAWzC,KAA3B,CAAZ;AACA,QAAIsN,SAAJ;AACA,QAAIC,OAAO,GAAG,CAAC,CAAf;;AACA,QAAIvO,KAAK,CAACxgB,MAAN,GAAe,KAAKqgB,aAAxB,EAAuC;AACrC;AACA;AACAyO,eAAS,GAAG,KAAKjD,UAAL,CAAgB1f,IAAhB,EAAsBqU,KAAK,CAACa,SAAN,CAAgB,CAAhB,EAAmB,KAAKhB,aAAxB,CAAtB,EACgBwO,YADhB,CAAZ;;AAEA,UAAIC,SAAS,IAAI,CAAC,CAAlB,EAAqB;AACnBC,eAAO,GAAG,KAAKlD,UAAL,CAAgB1f,IAAhB,EACNqU,KAAK,CAACa,SAAN,CAAgBb,KAAK,CAACxgB,MAAN,GAAe,KAAKqgB,aAApC,CADM,EAENwO,YAAY,GAAGrO,KAAK,CAACxgB,MAArB,GAA8B,KAAKqgB,aAF7B,CAAV;;AAGA,YAAI0O,OAAO,IAAI,CAAC,CAAZ,IAAiBD,SAAS,IAAIC,OAAlC,EAA2C;AACzC;AACAD,mBAAS,GAAG,CAAC,CAAb;AACD;AACF;AACF,KAdD,MAcO;AACLA,eAAS,GAAG,KAAKjD,UAAL,CAAgB1f,IAAhB,EAAsBqU,KAAtB,EAA6BqO,YAA7B,CAAZ;AACD;;AACD,QAAIC,SAAS,IAAI,CAAC,CAAlB,EAAqB;AACnB;AACAF,aAAO,CAAC3K,CAAD,CAAP,GAAa,KAAb,CAFmB,CAGnB;;AACAC,WAAK,IAAI0J,OAAO,CAAC3J,CAAD,CAAP,CAAWuJ,OAAX,GAAqBI,OAAO,CAAC3J,CAAD,CAAP,CAAWkJ,OAAzC;AACD,KALD,MAKO;AACL;AACAyB,aAAO,CAAC3K,CAAD,CAAP,GAAa,IAAb;AACAC,WAAK,GAAG4K,SAAS,GAAGD,YAApB;AACA,UAAIpO,KAAJ;;AACA,UAAIsO,OAAO,IAAI,CAAC,CAAhB,EAAmB;AACjBtO,aAAK,GAAGtU,IAAI,CAACkV,SAAL,CAAeyN,SAAf,EAA0BA,SAAS,GAAGtO,KAAK,CAACxgB,MAA5C,CAAR;AACD,OAFD,MAEO;AACLygB,aAAK,GAAGtU,IAAI,CAACkV,SAAL,CAAeyN,SAAf,EAA0BC,OAAO,GAAG,KAAK1O,aAAzC,CAAR;AACD;;AACD,UAAIG,KAAK,IAAIC,KAAb,EAAoB;AAClB;AACAtU,YAAI,GAAGA,IAAI,CAACkV,SAAL,CAAe,CAAf,EAAkByN,SAAlB,IACA,KAAKhE,UAAL,CAAgB8C,OAAO,CAAC3J,CAAD,CAAP,CAAWzC,KAA3B,CADA,GAEArV,IAAI,CAACkV,SAAL,CAAeyN,SAAS,GAAGtO,KAAK,CAACxgB,MAAjC,CAFP;AAGD,OALD,MAKO;AACL;AACA;AACA,YAAIwhB,KAAK,GAAG,KAAKpS,SAAL,CAAeoR,KAAf,EAAsBC,KAAtB,EAA6B,KAA7B,CAAZ;;AACA,YAAID,KAAK,CAACxgB,MAAN,GAAe,KAAKqgB,aAApB,IACA,KAAK0K,gBAAL,CAAsBvJ,KAAtB,IAA+BhB,KAAK,CAACxgB,MAArC,GACA,KAAKmgB,qBAFT,EAEgC;AAC9B;AACAyO,iBAAO,CAAC3K,CAAD,CAAP,GAAa,KAAb;AACD,SALD,MAKO;AACL,eAAK4D,4BAAL,CAAkCrG,KAAlC;AACA,cAAIwN,MAAM,GAAG,CAAb;AACA,cAAIC,MAAJ;;AACA,eAAK,IAAI7iB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwhB,OAAO,CAAC3J,CAAD,CAAP,CAAWzC,KAAX,CAAiBxhB,MAArC,EAA6CoM,CAAC,EAA9C,EAAkD;AAChD,gBAAI8iB,GAAG,GAAGtB,OAAO,CAAC3J,CAAD,CAAP,CAAWzC,KAAX,CAAiBpV,CAAjB,CAAV;;AACA,gBAAI8iB,GAAG,CAAC,CAAD,CAAH,KAAWvf,UAAf,EAA2B;AACzBsf,oBAAM,GAAG,KAAK9E,WAAL,CAAiB3I,KAAjB,EAAwBwN,MAAxB,CAAT;AACD;;AACD,gBAAIE,GAAG,CAAC,CAAD,CAAH,KAAWrf,WAAf,EAA4B;AAAG;AAC7B1D,kBAAI,GAAGA,IAAI,CAACkV,SAAL,CAAe,CAAf,EAAkByN,SAAS,GAAGG,MAA9B,IAAwCC,GAAG,CAAC,CAAD,CAA3C,GACA/iB,IAAI,CAACkV,SAAL,CAAeyN,SAAS,GAAGG,MAA3B,CADP;AAED,aAHD,MAGO,IAAIC,GAAG,CAAC,CAAD,CAAH,KAAWtf,WAAf,EAA4B;AAAG;AACpCzD,kBAAI,GAAGA,IAAI,CAACkV,SAAL,CAAe,CAAf,EAAkByN,SAAS,GAAGG,MAA9B,IACA9iB,IAAI,CAACkV,SAAL,CAAeyN,SAAS,GAAG,KAAK3E,WAAL,CAAiB3I,KAAjB,EACvBwN,MAAM,GAAGE,GAAG,CAAC,CAAD,CAAH,CAAOlvB,MADO,CAA3B,CADP;AAGD;;AACD,gBAAIkvB,GAAG,CAAC,CAAD,CAAH,KAAWtf,WAAf,EAA4B;AAC1Bof,oBAAM,IAAIE,GAAG,CAAC,CAAD,CAAH,CAAOlvB,MAAjB;AACD;AACF;AACF;AACF;AACF;AACF,GA7F8D,CA8F/D;;;AACAmM,MAAI,GAAGA,IAAI,CAACkV,SAAL,CAAeoN,WAAW,CAACzuB,MAA3B,EAAmCmM,IAAI,CAACnM,MAAL,GAAcyuB,WAAW,CAACzuB,MAA7D,CAAP;AACA,SAAO,CAACmM,IAAD,EAAOyiB,OAAP,CAAP;AACD,CAjGD;AAoGA;AACA;AACA;AACA;AACA;AACA;;;AACA9O,gBAAgB,CAACpc,SAAjB,CAA2BgrB,gBAA3B,GAA8C,UAASd,OAAT,EAAkB;AAC9D,MAAIuB,aAAa,GAAG,KAAK/O,YAAzB;AACA,MAAIqO,WAAW,GAAG,EAAlB;;AACA,OAAK,IAAIxK,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIkL,aAArB,EAAoClL,CAAC,EAArC,EAAyC;AACvCwK,eAAW,IAAI1T,MAAM,CAAC+K,YAAP,CAAoB7B,CAApB,CAAf;AACD,GAL6D,CAO9D;;;AACA,OAAK,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2J,OAAO,CAAC5tB,MAA5B,EAAoCikB,CAAC,EAArC,EAAyC;AACvC2J,WAAO,CAAC3J,CAAD,CAAP,CAAWsJ,MAAX,IAAqB4B,aAArB;AACAvB,WAAO,CAAC3J,CAAD,CAAP,CAAWiJ,MAAX,IAAqBiC,aAArB;AACD,GAX6D,CAa9D;;;AACA,MAAIlC,KAAK,GAAGW,OAAO,CAAC,CAAD,CAAnB;AACA,MAAIpM,KAAK,GAAGyL,KAAK,CAACzL,KAAlB;;AACA,MAAIA,KAAK,CAACxhB,MAAN,IAAgB,CAAhB,IAAqBwhB,KAAK,CAAC,CAAD,CAAL,CAAS,CAAT,KAAe7R,UAAxC,EAAoD;AAClD;AACA6R,SAAK,CAACE,OAAN,CAAc,IAAI5B,gBAAgB,CAACQ,IAArB,CAA0B3Q,UAA1B,EAAsC8e,WAAtC,CAAd;AACAxB,SAAK,CAACM,MAAN,IAAgB4B,aAAhB,CAHkD,CAGlB;;AAChClC,SAAK,CAACC,MAAN,IAAgBiC,aAAhB,CAJkD,CAIlB;;AAChClC,SAAK,CAACE,OAAN,IAAiBgC,aAAjB;AACAlC,SAAK,CAACO,OAAN,IAAiB2B,aAAjB;AACD,GAPD,MAOO,IAAIA,aAAa,GAAG3N,KAAK,CAAC,CAAD,CAAL,CAAS,CAAT,EAAYxhB,MAAhC,EAAwC;AAC7C;AACA,QAAIovB,WAAW,GAAGD,aAAa,GAAG3N,KAAK,CAAC,CAAD,CAAL,CAAS,CAAT,EAAYxhB,MAA9C;AACAwhB,SAAK,CAAC,CAAD,CAAL,CAAS,CAAT,IAAciN,WAAW,CAACpN,SAAZ,CAAsBG,KAAK,CAAC,CAAD,CAAL,CAAS,CAAT,EAAYxhB,MAAlC,IAA4CwhB,KAAK,CAAC,CAAD,CAAL,CAAS,CAAT,CAA1D;AACAyL,SAAK,CAACM,MAAN,IAAgB6B,WAAhB;AACAnC,SAAK,CAACC,MAAN,IAAgBkC,WAAhB;AACAnC,SAAK,CAACE,OAAN,IAAiBiC,WAAjB;AACAnC,SAAK,CAACO,OAAN,IAAiB4B,WAAjB;AACD,GA/B6D,CAiC9D;;;AACAnC,OAAK,GAAGW,OAAO,CAACA,OAAO,CAAC5tB,MAAR,GAAiB,CAAlB,CAAf;AACAwhB,OAAK,GAAGyL,KAAK,CAACzL,KAAd;;AACA,MAAIA,KAAK,CAACxhB,MAAN,IAAgB,CAAhB,IAAqBwhB,KAAK,CAACA,KAAK,CAACxhB,MAAN,GAAe,CAAhB,CAAL,CAAwB,CAAxB,KAA8B2P,UAAvD,EAAmE;AACjE;AACA6R,SAAK,CAAC3hB,IAAN,CAAW,IAAIigB,gBAAgB,CAACQ,IAArB,CAA0B3Q,UAA1B,EAAsC8e,WAAtC,CAAX;AACAxB,SAAK,CAACE,OAAN,IAAiBgC,aAAjB;AACAlC,SAAK,CAACO,OAAN,IAAiB2B,aAAjB;AACD,GALD,MAKO,IAAIA,aAAa,GAAG3N,KAAK,CAACA,KAAK,CAACxhB,MAAN,GAAe,CAAhB,CAAL,CAAwB,CAAxB,EAA2BA,MAA/C,EAAuD;AAC5D;AACA,QAAIovB,WAAW,GAAGD,aAAa,GAAG3N,KAAK,CAACA,KAAK,CAACxhB,MAAN,GAAe,CAAhB,CAAL,CAAwB,CAAxB,EAA2BA,MAA7D;AACAwhB,SAAK,CAACA,KAAK,CAACxhB,MAAN,GAAe,CAAhB,CAAL,CAAwB,CAAxB,KAA8ByuB,WAAW,CAACpN,SAAZ,CAAsB,CAAtB,EAAyB+N,WAAzB,CAA9B;AACAnC,SAAK,CAACE,OAAN,IAAiBiC,WAAjB;AACAnC,SAAK,CAACO,OAAN,IAAiB4B,WAAjB;AACD;;AAED,SAAOX,WAAP;AACD,CAlDD;AAqDA;AACA;AACA;AACA;AACA;AACA;;;AACA3O,gBAAgB,CAACpc,SAAjB,CAA2BirB,cAA3B,GAA4C,UAASf,OAAT,EAAkB;AAC5D,MAAIyB,UAAU,GAAG,KAAKhP,aAAtB;;AACA,OAAK,IAAI4D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2J,OAAO,CAAC5tB,MAA5B,EAAoCikB,CAAC,EAArC,EAAyC;AACvC,QAAI2J,OAAO,CAAC3J,CAAD,CAAP,CAAWkJ,OAAX,IAAsBkC,UAA1B,EAAsC;AACpC;AACD;;AACD,QAAIC,QAAQ,GAAG1B,OAAO,CAAC3J,CAAD,CAAtB,CAJuC,CAKvC;;AACA2J,WAAO,CAACliB,MAAR,CAAeuY,CAAC,EAAhB,EAAoB,CAApB;AACA,QAAIsJ,MAAM,GAAG+B,QAAQ,CAAC/B,MAAtB;AACA,QAAIL,MAAM,GAAGoC,QAAQ,CAACpC,MAAtB;AACA,QAAIqC,UAAU,GAAG,EAAjB;;AACA,WAAOD,QAAQ,CAAC9N,KAAT,CAAexhB,MAAf,KAA0B,CAAjC,EAAoC;AAClC;AACA,UAAIitB,KAAK,GAAG,IAAInN,gBAAgB,CAAC+N,SAArB,EAAZ;AACA,UAAI2B,KAAK,GAAG,IAAZ;AACAvC,WAAK,CAACM,MAAN,GAAeA,MAAM,GAAGgC,UAAU,CAACvvB,MAAnC;AACAitB,WAAK,CAACC,MAAN,GAAeA,MAAM,GAAGqC,UAAU,CAACvvB,MAAnC;;AACA,UAAIuvB,UAAU,KAAK,EAAnB,EAAuB;AACrBtC,aAAK,CAACE,OAAN,GAAgBF,KAAK,CAACO,OAAN,GAAgB+B,UAAU,CAACvvB,MAA3C;AACAitB,aAAK,CAACzL,KAAN,CAAY3hB,IAAZ,CAAiB,IAAIigB,gBAAgB,CAACQ,IAArB,CAA0B3Q,UAA1B,EAAsC4f,UAAtC,CAAjB;AACD;;AACD,aAAOD,QAAQ,CAAC9N,KAAT,CAAexhB,MAAf,KAA0B,CAA1B,IACAitB,KAAK,CAACE,OAAN,GAAgBkC,UAAU,GAAG,KAAKjP,YADzC,EACuD;AACrD,YAAI+N,SAAS,GAAGmB,QAAQ,CAAC9N,KAAT,CAAe,CAAf,EAAkB,CAAlB,CAAhB;AACA,YAAI4M,SAAS,GAAGkB,QAAQ,CAAC9N,KAAT,CAAe,CAAf,EAAkB,CAAlB,CAAhB;;AACA,YAAI2M,SAAS,KAAKte,WAAlB,EAA+B;AAC7B;AACAod,eAAK,CAACO,OAAN,IAAiBY,SAAS,CAACpuB,MAA3B;AACAktB,gBAAM,IAAIkB,SAAS,CAACpuB,MAApB;AACAitB,eAAK,CAACzL,KAAN,CAAY3hB,IAAZ,CAAiByvB,QAAQ,CAAC9N,KAAT,CAAeiO,KAAf,EAAjB;AACAD,eAAK,GAAG,KAAR;AACD,SAND,MAMO,IAAIrB,SAAS,KAAKve,WAAd,IAA6Bqd,KAAK,CAACzL,KAAN,CAAYxhB,MAAZ,IAAsB,CAAnD,IACAitB,KAAK,CAACzL,KAAN,CAAY,CAAZ,EAAe,CAAf,KAAqB7R,UADrB,IAEAye,SAAS,CAACpuB,MAAV,GAAmB,IAAIqvB,UAF3B,EAEuC;AAC5C;AACApC,eAAK,CAACE,OAAN,IAAiBiB,SAAS,CAACpuB,MAA3B;AACAutB,gBAAM,IAAIa,SAAS,CAACpuB,MAApB;AACAwvB,eAAK,GAAG,KAAR;AACAvC,eAAK,CAACzL,KAAN,CAAY3hB,IAAZ,CAAiB,IAAIigB,gBAAgB,CAACQ,IAArB,CAA0B6N,SAA1B,EAAqCC,SAArC,CAAjB;AACAkB,kBAAQ,CAAC9N,KAAT,CAAeiO,KAAf;AACD,SATM,MASA;AACL;AACArB,mBAAS,GAAGA,SAAS,CAAC/M,SAAV,CAAoB,CAApB,EACRgO,UAAU,GAAGpC,KAAK,CAACE,OAAnB,GAA6B,KAAK/M,YAD1B,CAAZ;AAEA6M,eAAK,CAACE,OAAN,IAAiBiB,SAAS,CAACpuB,MAA3B;AACAutB,gBAAM,IAAIa,SAAS,CAACpuB,MAApB;;AACA,cAAImuB,SAAS,KAAKxe,UAAlB,EAA8B;AAC5Bsd,iBAAK,CAACO,OAAN,IAAiBY,SAAS,CAACpuB,MAA3B;AACAktB,kBAAM,IAAIkB,SAAS,CAACpuB,MAApB;AACD,WAHD,MAGO;AACLwvB,iBAAK,GAAG,KAAR;AACD;;AACDvC,eAAK,CAACzL,KAAN,CAAY3hB,IAAZ,CAAiB,IAAIigB,gBAAgB,CAACQ,IAArB,CAA0B6N,SAA1B,EAAqCC,SAArC,CAAjB;;AACA,cAAIA,SAAS,IAAIkB,QAAQ,CAAC9N,KAAT,CAAe,CAAf,EAAkB,CAAlB,CAAjB,EAAuC;AACrC8N,oBAAQ,CAAC9N,KAAT,CAAeiO,KAAf;AACD,WAFD,MAEO;AACLH,oBAAQ,CAAC9N,KAAT,CAAe,CAAf,EAAkB,CAAlB,IACI8N,QAAQ,CAAC9N,KAAT,CAAe,CAAf,EAAkB,CAAlB,EAAqBH,SAArB,CAA+B+M,SAAS,CAACpuB,MAAzC,CADJ;AAED;AACF;AACF,OAjDiC,CAkDlC;;;AACAuvB,gBAAU,GAAG,KAAKzE,UAAL,CAAgBmC,KAAK,CAACzL,KAAtB,CAAb;AACA+N,gBAAU,GACNA,UAAU,CAAClO,SAAX,CAAqBkO,UAAU,CAACvvB,MAAX,GAAoB,KAAKogB,YAA9C,CADJ,CApDkC,CAsDlC;;AACA,UAAIsP,WAAW,GAAG,KAAK7E,UAAL,CAAgByE,QAAQ,CAAC9N,KAAzB,EACKH,SADL,CACe,CADf,EACkB,KAAKjB,YADvB,CAAlB;;AAEA,UAAIsP,WAAW,KAAK,EAApB,EAAwB;AACtBzC,aAAK,CAACE,OAAN,IAAiBuC,WAAW,CAAC1vB,MAA7B;AACAitB,aAAK,CAACO,OAAN,IAAiBkC,WAAW,CAAC1vB,MAA7B;;AACA,YAAIitB,KAAK,CAACzL,KAAN,CAAYxhB,MAAZ,KAAuB,CAAvB,IACAitB,KAAK,CAACzL,KAAN,CAAYyL,KAAK,CAACzL,KAAN,CAAYxhB,MAAZ,GAAqB,CAAjC,EAAoC,CAApC,MAA2C2P,UAD/C,EAC2D;AACzDsd,eAAK,CAACzL,KAAN,CAAYyL,KAAK,CAACzL,KAAN,CAAYxhB,MAAZ,GAAqB,CAAjC,EAAoC,CAApC,KAA0C0vB,WAA1C;AACD,SAHD,MAGO;AACLzC,eAAK,CAACzL,KAAN,CAAY3hB,IAAZ,CAAiB,IAAIigB,gBAAgB,CAACQ,IAArB,CAA0B3Q,UAA1B,EAAsC+f,WAAtC,CAAjB;AACD;AACF;;AACD,UAAI,CAACF,KAAL,EAAY;AACV5B,eAAO,CAACliB,MAAR,CAAe,EAAEuY,CAAjB,EAAoB,CAApB,EAAuBgJ,KAAvB;AACD;AACF;AACF;AACF,CApFD;AAuFA;AACA;AACA;AACA;AACA;;;AACAnN,gBAAgB,CAACpc,SAAjB,CAA2BisB,YAA3B,GAA0C,UAAS/B,OAAT,EAAkB;AAC1D,MAAIzhB,IAAI,GAAG,EAAX;;AACA,OAAK,IAAI8X,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2J,OAAO,CAAC5tB,MAA5B,EAAoCikB,CAAC,EAArC,EAAyC;AACvC9X,QAAI,CAAC8X,CAAD,CAAJ,GAAU2J,OAAO,CAAC3J,CAAD,CAAjB;AACD;;AACD,SAAO9X,IAAI,CAACR,IAAL,CAAU,EAAV,CAAP;AACD,CAND;AASA;AACA;AACA;AACA;AACA;AACA;;;AACAmU,gBAAgB,CAACpc,SAAjB,CAA2BksB,cAA3B,GAA4C,UAASC,QAAT,EAAmB;AAC7D,MAAIjC,OAAO,GAAG,EAAd;;AACA,MAAI,CAACiC,QAAL,EAAe;AACb,WAAOjC,OAAP;AACD;;AACD,MAAIzhB,IAAI,GAAG0jB,QAAQ,CAACjoB,KAAT,CAAe,IAAf,CAAX;AACA,MAAIkoB,WAAW,GAAG,CAAlB;AACA,MAAIC,WAAW,GAAG,sCAAlB;;AACA,SAAOD,WAAW,GAAG3jB,IAAI,CAACnM,MAA1B,EAAkC;AAChC,QAAI2D,CAAC,GAAGwI,IAAI,CAAC2jB,WAAD,CAAJ,CAAkBtH,KAAlB,CAAwBuH,WAAxB,CAAR;;AACA,QAAI,CAACpsB,CAAL,EAAQ;AACN,YAAM,IAAI6M,KAAJ,CAAU,2BAA2BrE,IAAI,CAAC2jB,WAAD,CAAzC,CAAN;AACD;;AACD,QAAI7C,KAAK,GAAG,IAAInN,gBAAgB,CAAC+N,SAArB,EAAZ;AACAD,WAAO,CAAC/tB,IAAR,CAAaotB,KAAb;AACAA,SAAK,CAACM,MAAN,GAAe5B,QAAQ,CAAChoB,CAAC,CAAC,CAAD,CAAF,EAAO,EAAP,CAAvB;;AACA,QAAIA,CAAC,CAAC,CAAD,CAAD,KAAS,EAAb,EAAiB;AACfspB,WAAK,CAACM,MAAN;AACAN,WAAK,CAACE,OAAN,GAAgB,CAAhB;AACD,KAHD,MAGO,IAAIxpB,CAAC,CAAC,CAAD,CAAD,IAAQ,GAAZ,EAAiB;AACtBspB,WAAK,CAACE,OAAN,GAAgB,CAAhB;AACD,KAFM,MAEA;AACLF,WAAK,CAACM,MAAN;AACAN,WAAK,CAACE,OAAN,GAAgBxB,QAAQ,CAAChoB,CAAC,CAAC,CAAD,CAAF,EAAO,EAAP,CAAxB;AACD;;AAEDspB,SAAK,CAACC,MAAN,GAAevB,QAAQ,CAAChoB,CAAC,CAAC,CAAD,CAAF,EAAO,EAAP,CAAvB;;AACA,QAAIA,CAAC,CAAC,CAAD,CAAD,KAAS,EAAb,EAAiB;AACfspB,WAAK,CAACC,MAAN;AACAD,WAAK,CAACO,OAAN,GAAgB,CAAhB;AACD,KAHD,MAGO,IAAI7pB,CAAC,CAAC,CAAD,CAAD,IAAQ,GAAZ,EAAiB;AACtBspB,WAAK,CAACO,OAAN,GAAgB,CAAhB;AACD,KAFM,MAEA;AACLP,WAAK,CAACC,MAAN;AACAD,WAAK,CAACO,OAAN,GAAgB7B,QAAQ,CAAChoB,CAAC,CAAC,CAAD,CAAF,EAAO,EAAP,CAAxB;AACD;;AACDmsB,eAAW;;AAEX,WAAOA,WAAW,GAAG3jB,IAAI,CAACnM,MAA1B,EAAkC;AAChC,UAAIgwB,IAAI,GAAG7jB,IAAI,CAAC2jB,WAAD,CAAJ,CAAkBlL,MAAlB,CAAyB,CAAzB,CAAX;;AACA,UAAI;AACF,YAAIiB,IAAI,GAAG4F,SAAS,CAACtf,IAAI,CAAC2jB,WAAD,CAAJ,CAAkBzO,SAAlB,CAA4B,CAA5B,CAAD,CAApB;AACD,OAFD,CAEE,OAAOqK,EAAP,EAAW;AACX;AACA,cAAM,IAAIlb,KAAJ,CAAU,uCAAuCqV,IAAjD,CAAN;AACD;;AACD,UAAImK,IAAI,IAAI,GAAZ,EAAiB;AACf;AACA/C,aAAK,CAACzL,KAAN,CAAY3hB,IAAZ,CAAiB,IAAIigB,gBAAgB,CAACQ,IAArB,CAA0B1Q,WAA1B,EAAuCiW,IAAvC,CAAjB;AACD,OAHD,MAGO,IAAImK,IAAI,IAAI,GAAZ,EAAiB;AACtB;AACA/C,aAAK,CAACzL,KAAN,CAAY3hB,IAAZ,CAAiB,IAAIigB,gBAAgB,CAACQ,IAArB,CAA0BzQ,WAA1B,EAAuCgW,IAAvC,CAAjB;AACD,OAHM,MAGA,IAAImK,IAAI,IAAI,GAAZ,EAAiB;AACtB;AACA/C,aAAK,CAACzL,KAAN,CAAY3hB,IAAZ,CAAiB,IAAIigB,gBAAgB,CAACQ,IAArB,CAA0B3Q,UAA1B,EAAsCkW,IAAtC,CAAjB;AACD,OAHM,MAGA,IAAImK,IAAI,IAAI,GAAZ,EAAiB;AACtB;AACA;AACD,OAHM,MAGA,IAAIA,IAAI,KAAK,EAAb,EAAiB,CACtB;AACD,OAFM,MAEA;AACL;AACA,cAAM,IAAIxf,KAAJ,CAAU,yBAAyBwf,IAAzB,GAAgC,QAAhC,GAA2CnK,IAArD,CAAN;AACD;;AACDiK,iBAAW;AACZ;AACF;;AACD,SAAOlC,OAAP;AACD,CApED;AAuEA;AACA;AACA;AACA;;;AACA9N,gBAAgB,CAAC+N,SAAjB,GAA6B,YAAW;AACtC;AACA,OAAKrM,KAAL,GAAa,EAAb;AACA;;AACA,OAAK+L,MAAL,GAAc,IAAd;AACA;;AACA,OAAKL,MAAL,GAAc,IAAd;AACA;;AACA,OAAKC,OAAL,GAAe,CAAf;AACA;;AACA,OAAKK,OAAL,GAAe,CAAf;AACD,CAXD;AAcA;AACA;AACA;AACA;AACA;AACA;;;AACA1N,gBAAgB,CAAC+N,SAAjB,CAA2BnqB,SAA3B,CAAqC0C,QAArC,GAAgD,YAAW;AACzD,MAAI6pB,OAAJ,EAAaC,OAAb;;AACA,MAAI,KAAK/C,OAAL,KAAiB,CAArB,EAAwB;AACtB8C,WAAO,GAAG,KAAK1C,MAAL,GAAc,IAAxB;AACD,GAFD,MAEO,IAAI,KAAKJ,OAAL,IAAgB,CAApB,EAAuB;AAC5B8C,WAAO,GAAG,KAAK1C,MAAL,GAAc,CAAxB;AACD,GAFM,MAEA;AACL0C,WAAO,GAAI,KAAK1C,MAAL,GAAc,CAAf,GAAoB,GAApB,GAA0B,KAAKJ,OAAzC;AACD;;AACD,MAAI,KAAKK,OAAL,KAAiB,CAArB,EAAwB;AACtB0C,WAAO,GAAG,KAAKhD,MAAL,GAAc,IAAxB;AACD,GAFD,MAEO,IAAI,KAAKM,OAAL,IAAgB,CAApB,EAAuB;AAC5B0C,WAAO,GAAG,KAAKhD,MAAL,GAAc,CAAxB;AACD,GAFM,MAEA;AACLgD,WAAO,GAAI,KAAKhD,MAAL,GAAc,CAAf,GAAoB,GAApB,GAA0B,KAAKM,OAAzC;AACD;;AACD,MAAIrhB,IAAI,GAAG,CAAC,SAAS8jB,OAAT,GAAmB,IAAnB,GAA0BC,OAA1B,GAAoC,OAArC,CAAX;AACA,MAAI3P,EAAJ,CAjByD,CAkBzD;;AACA,OAAK,IAAI0D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKzC,KAAL,CAAWxhB,MAA/B,EAAuCikB,CAAC,EAAxC,EAA4C;AAC1C,YAAQ,KAAKzC,KAAL,CAAWyC,CAAX,EAAc,CAAd,CAAR;AACE,WAAKpU,WAAL;AACE0Q,UAAE,GAAG,GAAL;AACA;;AACF,WAAK3Q,WAAL;AACE2Q,UAAE,GAAG,GAAL;AACA;;AACF,WAAK5Q,UAAL;AACE4Q,UAAE,GAAG,GAAL;AACA;AATJ;;AAWApU,QAAI,CAAC8X,CAAC,GAAG,CAAL,CAAJ,GAAc1D,EAAE,GAAG6K,SAAS,CAAC,KAAK5J,KAAL,CAAWyC,CAAX,EAAc,CAAd,CAAD,CAAd,GAAmC,IAAjD;AACD;;AACD,SAAO9X,IAAI,CAACR,IAAL,CAAU,EAAV,EAAc0K,OAAd,CAAsB,MAAtB,EAA8B,GAA9B,CAAP;AACD,CAlCD,C,CAqCA;;;AACA3Y,MAAM,CAACD,OAAP,GAAiBqiB,gBAAjB;AACApiB,MAAM,CAACD,OAAP,CAAe,kBAAf,IAAqCqiB,gBAArC;AACApiB,MAAM,CAACD,OAAP,CAAe,aAAf,IAAgCmS,WAAhC;AACAlS,MAAM,CAACD,OAAP,CAAe,aAAf,IAAgCoS,WAAhC;AACAnS,MAAM,CAACD,OAAP,CAAe,YAAf,IAA+BkS,UAA/B,C;;;;;;;;;;;;ACzqEa;;AACb,IAAI/L,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA6B,YAAY;AACrD,MAAIC,cAAa,GAAG,uBAAUC,CAAV,EAAaC,CAAb,EAAgB;AAChCF,kBAAa,GAAGG,MAAM,CAACC,cAAP,IACX;AAAEC,eAAS,EAAE;AAAb,iBAA6BC,KAA7B,IAAsC,UAAUL,CAAV,EAAaC,CAAb,EAAgB;AAAED,OAAC,CAACI,SAAF,GAAcH,CAAd;AAAkB,KAD/D,IAEZ,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AAAE,WAAK,IAAIK,CAAT,IAAcL,CAAd;AAAiB,YAAIA,CAAC,CAACM,cAAF,CAAiBD,CAAjB,CAAJ,EAAyBN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AAA1C;AAAwD,KAF9E;;AAGA,WAAOP,cAAa,CAACC,CAAD,EAAIC,CAAJ,CAApB;AACH,GALD;;AAMA,SAAO,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AACnBF,kBAAa,CAACC,CAAD,EAAIC,CAAJ,CAAb;;AACA,aAASO,EAAT,GAAc;AAAE,WAAKC,WAAL,GAAmBT,CAAnB;AAAuB;;AACvCA,KAAC,CAACJ,SAAF,GAAcK,CAAC,KAAK,IAAN,GAAaC,MAAM,CAACQ,MAAP,CAAcT,CAAd,CAAb,IAAiCO,EAAE,CAACZ,SAAH,GAAeK,CAAC,CAACL,SAAjB,EAA4B,IAAIY,EAAJ,EAA7D,CAAd;AACH,GAJD;AAKH,CAZ2C,EAA5C;;AAaA,IAAIG,QAAQ,GAAI,QAAQ,KAAKA,QAAd,IAA2B,YAAY;AAClDA,UAAQ,GAAGT,MAAM,CAACU,MAAP,IAAiB,UAASC,CAAT,EAAY;AACpC,SAAK,IAAIzD,CAAJ,EAAOmC,CAAC,GAAG,CAAX,EAAcuB,CAAC,GAAGC,SAAS,CAAC7E,MAAjC,EAAyCqD,CAAC,GAAGuB,CAA7C,EAAgDvB,CAAC,EAAjD,EAAqD;AACjDnC,OAAC,GAAG2D,SAAS,CAACxB,CAAD,CAAb;;AACA,WAAK,IAAIe,CAAT,IAAclD,CAAd;AAAiB,YAAI8C,MAAM,CAACN,SAAP,CAAiBW,cAAjB,CAAgCZ,IAAhC,CAAqCvC,CAArC,EAAwCkD,CAAxC,CAAJ,EACbO,CAAC,CAACP,CAAD,CAAD,GAAOlD,CAAC,CAACkD,CAAD,CAAR;AADJ;AAEH;;AACD,WAAOO,CAAP;AACH,GAPD;;AAQA,SAAOF,QAAQ,CAACK,KAAT,CAAe,IAAf,EAAqBD,SAArB,CAAP;AACH,CAVD;;AAWAb,MAAM,CAACe,cAAP,CAAsBtH,OAAtB,EAA+B,YAA/B,EAA6C;AAAEuH,OAAK,EAAE;AAAT,CAA7C;;AACA,IAAIK,SAAS,GAAG7H,mBAAO,CAAC,wBAAD,CAAvB;;AACA,IAAI8H,KAAK,GAAG9H,mBAAO,CAAC,mBAAD,CAAnB;;AACA,IAAI+H,OAAO,GAAG/H,mBAAO,CAAC,4BAAD,CAArB;;AACA,IAAIyH,eAAe,GAAGzH,mBAAO,CAAC,6BAAD,CAA7B;;AACA,IAAIF,GAAG,GAAG2H,eAAe,CAACC,cAAhB,EAAV;;AACA,IAAI8H,KAAK,GAAG1P,GAAG,CAACE,OAAJ,CAAY,WAAZ,EAAyBwP,KAArC;;AACA,IAAImjB,QAAQ;AAAG;AAAe,UAAUzqB,MAAV,EAAkB;AAC5C9B,WAAS,CAACusB,QAAD,EAAWzqB,MAAX,CAAT;;AACA,WAASyqB,QAAT,CAAkBxqB,KAAlB,EAAyB;AACrB,QAAIC,KAAK,GAAGF,MAAM,CAACjC,IAAP,CAAY,IAAZ,EAAkBkC,KAAlB,KAA4B,IAAxC;;AACAV,mBAAe,CAACY,YAAhB,CAA6BnF,OAA7B,CAAqC,UAAUoF,MAAV,EAAkB;AACnDF,WAAK,CAACE,MAAD,CAAL,GAAgBF,KAAK,CAACE,MAAD,CAAL,CAAc5G,IAAd,CAAmB0G,KAAnB,CAAhB;AACH,KAFD;AAGAA,SAAK,CAACG,QAAN,GAAiBd,eAAe,CAACc,QAAjC;AACA,WAAOH,KAAP;AACH;;AACDuqB,UAAQ,CAACzsB,SAAT,CAAmBsC,UAAnB,GAAgC,UAAUC,IAAV,EAAgB;AAC5C,QAAIC,MAAM,GAAGD,IAAI,IAAIA,IAAI,CAACE,UAA1B;;AACA,WAAOD,MAAP,EAAe;AACX,UAAIA,MAAM,CAACE,QAAP,OAAsB,qBAA1B,EAAiD;AAC7C,eAAO,IAAP;AACH;;AACDF,YAAM,GAAGA,MAAM,CAACC,UAAhB;AACH;;AACD,WAAO,KAAP;AACH,GATD;;AAUAgqB,UAAQ,CAACzsB,SAAT,CAAmB2C,iBAAnB,GAAuC,YAAY;AAC/C,QAAIT,KAAK,GAAG,IAAZ;;AACA,QAAIU,EAAE,GAAG,KAAKX,KAAd;AAAA,QAAqBnG,SAAS,GAAG8G,EAAE,CAAC9G,SAApC;AAAA,QAA+C+G,YAAY,GAAGD,EAAE,CAACC,YAAjE;AAAA,QAA+E6pB,UAAU,GAAG9pB,EAAE,CAAC8pB,UAA/F;AAAA,QAA2G5pB,IAAI,GAAGF,EAAE,CAACE,IAArH;AAAA,QAA2HjG,KAAK,GAAG+F,EAAE,CAAC/F,KAAtI;AAAA,QAA6InC,KAAK,GAAGkI,EAAE,CAAClI,KAAxJ;AAAA,QAA+JqI,QAAQ,GAAGH,EAAE,CAACG,QAA7K;AAAA,QAAuLzB,KAAK,GAAGsB,EAAE,CAACtB,KAAlM;AAAA,QAAyM0B,YAAY,GAAGJ,EAAE,CAACI,YAA3N;AAAA,QAAyOE,UAAU,GAAGN,EAAE,CAACM,UAAzP;AAAA,QAAqQC,WAAW,GAAGP,EAAE,CAACO,WAAtR;AAAA,QAAmSC,eAAe,GAAGR,EAAE,CAACQ,eAAxT;AAAA,QAAyUC,EAAE,GAAGT,EAAE,CAACU,YAAjV;AAAA,QAA+VA,YAAY,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAAhB,GAA+BA,EAA7Y;AAAA,QAAiZE,eAAe,GAAGX,EAAE,CAACW,eAAta;AAAA,QAAubC,MAAM,GAAGZ,EAAE,CAACY,MAAnc;AAAA,QAA2cC,QAAQ,GAAGb,EAAE,CAACa,QAAzd;AAAA,QAAmeC,WAAW,GAAGd,EAAE,CAACc,WAApf;AAAA,QAAigBC,OAAO,GAAGf,EAAE,CAACe,OAA9gB;AAAA,QAAuhBgpB,WAAW,GAAG/pB,EAAE,CAAC+pB,WAAxiB;AACA,SAAKpxB,MAAL,GAAc3B,GAAG,CAACgK,IAAJ,CAAS,KAAKC,SAAd,CAAd;;AACA,QAAIhB,YAAJ,EAAkB;AACdA,kBAAY,CAACjJ,GAAD,CAAZ;AACH;;AACD,QAAIoK,WAAW,GAAG1D,MAAM,CAAC2D,IAAP,CAAY,KAAKhC,KAAL,CAAW+B,WAAvB,CAAlB;;AACA,SAAK,IAAIrE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqE,WAAW,CAAC1H,MAAhC,EAAwCqD,CAAC,EAAzC,EAA6C;AACzC,WAAKpE,MAAL,CAAYyI,WAAW,CAACrE,CAAD,CAAvB,IAA8B,KAAKsC,KAAL,CAAW+B,WAAX,CAAuBA,WAAW,CAACrE,CAAD,CAAlC,CAA9B;AACH;;AACD,QAAI,KAAKsC,KAAL,CAAWwC,oBAAf,EAAqC;AACjC,WAAKC,QAAL,GAAgB,KAAKrC,QAAL,CAAc,KAAKqC,QAAnB,EAA6B,KAAKzC,KAAL,CAAWwC,oBAAxC,CAAhB;AACH;;AACD,SAAKlJ,MAAL,CAAYuI,QAAZ,CAAqBiB,eAArB,CAAqCzB,YAAY,CAAC,CAAD,CAAjD,EAAsDA,YAAY,CAAC,CAAD,CAAlE,EAAuEA,YAAY,CAAC,CAAD,CAAnF,EAAwFA,YAAY,CAAC,CAAD,CAApG;;AACA,QAAI,KAAKhB,UAAL,CAAgB,KAAKuB,SAArB,CAAJ,EAAqC;AACjC,WAAKtI,MAAL,CAAYuI,QAAZ,CAAqBC,kBAArB;AACH;;AACD,SAAKxI,MAAL,CAAYyJ,UAAZ,GAAyBC,OAAzB,CAAiC,cAAcnC,IAA/C;AACA,SAAKvH,MAAL,CAAYwB,QAAZ,CAAqB,eAAerC,KAApC;AACA,SAAKa,MAAL,CAAYa,WAAZ,CAAwB,OAAO2G,QAAP,KAAoB,QAApB,GAA+BA,QAAQ,GAAG,IAA1C,GAAiDA,QAAzE;AACA,SAAKxH,MAAL,CACKyJ,UADL,GAEKW,QAFL,CAEc,CAAC3C,YAAD,GAAgB1B,KAAK,IAAI,EAAzB,GAA8B0B,YAF5C;;AAGA,QAAI,KAAKf,KAAL,CAAW2qB,iBAAf,EAAkC;AAC9B,WAAKrxB,MAAL,CAAYsxB,eAAZ;AACH;;AACD,SAAKtxB,MAAL,CAAYuI,QAAZ,CAAqBQ,aAArB,CAAmCpB,UAAnC;AACA,SAAK3H,MAAL,CAAYyJ,UAAZ,GAAyB1G,cAAzB,CAAwC6E,WAAxC;AACA,SAAK5H,MAAL,CAAY8I,kBAAZ,CAA+BjB,eAA/B;AACA,SAAK7H,MAAL,CAAYD,EAAZ,CAAe,OAAf,EAAwB,KAAK4J,OAA7B;AACA,SAAK3J,MAAL,CAAYD,EAAZ,CAAe,MAAf,EAAuB,KAAK6J,MAA5B;AACA,SAAK5J,MAAL,CAAYD,EAAZ,CAAe,MAAf,EAAuB,KAAK+J,MAA5B;AACA,SAAK9J,MAAL,CAAYD,EAAZ,CAAe,OAAf,EAAwB,KAAKgK,OAA7B;AACA,SAAK/J,MAAL,CAAYD,EAAZ,CAAe,QAAf,EAAyB,KAAKoJ,QAA9B;AACA,SAAKnJ,MAAL,CAAYD,EAAZ,CAAe,OAAf,EAAwB,KAAK8J,OAA7B;;AACA,QAAIunB,WAAJ,EAAiB;AACb,WAAKG,iBAAL;AACH;;AACD,SAAKvxB,MAAL,CACKyJ,UADL,GAEKO,SAFL,CAEejK,EAFf,CAEkB,iBAFlB,EAEqC,KAAKkK,iBAF1C;AAGA,SAAKjK,MAAL,CAAYyJ,UAAZ,GAAyBO,SAAzB,CAAmCjK,EAAnC,CAAsC,cAAtC,EAAsD,KAAKmK,cAA3D;;AACA,QAAIinB,UAAJ,EAAgB;AACZ;AACA,WAAKnxB,MAAL,CAAYyJ,UAAZ,GAAyB1J,EAAzB,CAA4B,kBAA5B,EAAgD,YAAY;AACxD;AACA,YAAIoI,WAAW,GAAGxB,KAAK,CAAC3G,MAAN,CAAayJ,UAAb,GAA0B+nB,cAA1B,EAAlB;;AACA7qB,aAAK,CAACD,KAAN,CAAYyqB,UAAZ,CAAuBhpB,WAAvB;AACH,OAJD;AAKH;;AACD,SAAKnI,MAAL,CAAYgC,OAAZ,CAAoBjC,EAApB,CAAuB,iBAAvB,EAA0C,KAAKoK,QAA/C;AACA,SAAKnK,MAAL,CAAYyJ,UAAZ,GAAyBe,cAAzB,CAAwCrC,WAAW,IAAI,EAAvD;;AACA,QAAIC,OAAO,IAAIA,OAAO,CAACrH,MAAR,GAAiB,CAAhC,EAAmC;AAC/B,WAAK0J,aAAL,CAAmBrC,OAAnB;AACH,KAvD8C,CAwD/C;;;AACA,QAAIY,gBAAgB,GAAG,KAAKhJ,MAAL,CAAYiJ,QAAnC;AACAjD,mBAAe,CAAC0E,aAAhB,CAA8BjJ,OAA9B,CAAsC,UAAUkJ,MAAV,EAAkB;AACpD,UAAI3B,gBAAgB,CAAC5D,cAAjB,CAAgCuF,MAAhC,CAAJ,EAA6C;AACzC;AACAhE,aAAK,CAAC3G,MAAN,CAAa4K,SAAb,CAAuBD,MAAvB,EAA+BhE,KAAK,CAACD,KAAN,CAAYiE,MAAZ,CAA/B;AACH,OAHD,MAIK,IAAIhE,KAAK,CAACD,KAAN,CAAYiE,MAAZ,CAAJ,EAAyB;AAC1BE,eAAO,CAACC,IAAR,CAAa,6BAA6BH,MAA7B,GAAsC,6GAAnD;AACH;AACJ,KARD;AASA,SAAKI,aAAL,CAAmB,KAAKrE,KAAxB;;AACA,QAAIxB,KAAK,CAAC8F,OAAN,CAAc9C,QAAd,CAAJ,EAA6B;AACzBA,cAAQ,CAACzG,OAAT,CAAiB,UAAUwJ,OAAV,EAAmB;AAChC,YAAI,OAAOA,OAAO,CAACC,IAAf,KAAwB,QAA5B,EAAsC;AAClCvE,eAAK,CAAC3G,MAAN,CAAakI,QAAb,CAAsBiD,OAAtB,CAA8BF,OAAO,CAACE,OAAtC,EAA+CF,OAAO,CAACC,IAAvD;AACH,SAFD,MAGK;AACDvE,eAAK,CAAC3G,MAAN,CAAakI,QAAb,CAAsBkD,UAAtB,CAAiCH,OAAjC;AACH;AACJ,OAPD;AAQH;;AACD,QAAIjD,eAAJ,EAAqB;AACjB,WAAKhI,MAAL,CAAY0B,kBAAZ,CAA+B,kBAAkBsG,eAAjD;AACH;;AACD,QAAIzH,SAAJ,EAAe;AACX,WAAK+H,SAAL,CAAe/H,SAAf,IAA4B,MAAMA,SAAlC;AACH;;AACD,QAAI0H,MAAJ,EAAY;AACRA,YAAM,CAAC,KAAKjI,MAAN,CAAN;AACH;;AACD,SAAKA,MAAL,CAAYiB,MAAZ;;AACA,QAAIK,KAAJ,EAAW;AACP,WAAKtB,MAAL,CAAYsB,KAAZ;AACH;AACJ,GA3FD;;AA4FA4vB,UAAQ,CAACzsB,SAAT,CAAmB6G,kBAAnB,GAAwC,UAAUC,SAAV,EAAqB;AACzD,QAAIC,QAAQ,GAAGD,SAAf;AACA,QAAIE,SAAS,GAAG,KAAK/E,KAArB;;AACA,SAAK,IAAItC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4B,eAAe,CAAC0E,aAAhB,CAA8B3J,MAAlD,EAA0DqD,CAAC,EAA3D,EAA+D;AAC3D,UAAIuG,MAAM,GAAG3E,eAAe,CAAC0E,aAAhB,CAA8BtG,CAA9B,CAAb;;AACA,UAAIqH,SAAS,CAACd,MAAD,CAAT,KAAsBa,QAAQ,CAACb,MAAD,CAAlC,EAA4C;AACxC;AACA,aAAK3K,MAAL,CAAY4K,SAAZ,CAAsBD,MAAtB,EAA8Bc,SAAS,CAACd,MAAD,CAAvC;AACH;AACJ;;AACD,QAAIc,SAAS,CAAClL,SAAV,KAAwBiL,QAAQ,CAACjL,SAArC,EAAgD;AAC5C,UAAI4L,cAAc,GAAG,KAAK7D,SAAL,CAAe/H,SAApC;AACA,UAAI6L,qBAAqB,GAAGD,cAAc,CAACE,IAAf,GAAsB1D,KAAtB,CAA4B,GAA5B,CAA5B;AACA,UAAI2D,eAAe,GAAGd,QAAQ,CAACjL,SAAT,CAAmB8L,IAAnB,GAA0B1D,KAA1B,CAAgC,GAAhC,CAAtB;AACA2D,qBAAe,CAAC7K,OAAhB,CAAwB,UAAU8K,QAAV,EAAoB;AACxC,YAAInD,KAAK,GAAGgD,qBAAqB,CAACI,OAAtB,CAA8BD,QAA9B,CAAZ;AACAH,6BAAqB,CAACK,MAAtB,CAA6BrD,KAA7B,EAAoC,CAApC;AACH,OAHD;AAIA,WAAKd,SAAL,CAAe/H,SAAf,GACI,MAAMkL,SAAS,CAAClL,SAAhB,GAA4B,GAA5B,GAAkC6L,qBAAqB,CAACM,IAAtB,CAA2B,GAA3B,CADtC;AAEH,KApBwD,CAqBzD;;;AACA,QAAI,KAAK1M,MAAL,IACAyL,SAAS,CAAC1F,KAAV,IAAmB,IADnB,IAEA,KAAK/F,MAAL,CAAY4L,QAAZ,OAA2BH,SAAS,CAAC1F,KAFzC,EAEgD;AAC5C;AACA,WAAK8F,MAAL,GAAc,IAAd;AACA,UAAIC,GAAG,GAAG,KAAK9L,MAAL,CAAYgC,OAAZ,CAAoBgI,SAApB,CAA8B+B,MAA9B,EAAV;AACA,WAAK/L,MAAL,CAAYoK,QAAZ,CAAqBqB,SAAS,CAAC1F,KAA/B,EAAsC0F,SAAS,CAAC/D,WAAhD;AACA,WAAK1H,MAAL,CAAYgC,OAAZ,CAAoBgI,SAApB,CAA8BgC,QAA9B,CAAuCF,GAAvC;AACA,WAAKD,MAAL,GAAc,KAAd;AACH;;AACD,QAAIJ,SAAS,CAAC2lB,WAAV,KAA0B5lB,QAAQ,CAAC4lB,WAAvC,EAAoD;AAChD,WAAKG,iBAAL;AACH;;AACD,QAAI9lB,SAAS,CAAClE,IAAV,KAAmBiE,QAAQ,CAACjE,IAAhC,EAAsC;AAClC,WAAKvH,MAAL,CAAYyJ,UAAZ,GAAyBC,OAAzB,CAAiC,cAAc+B,SAAS,CAAClE,IAAzD;AACH;;AACD,QAAIkE,SAAS,CAACtM,KAAV,KAAoBqM,QAAQ,CAACrM,KAAjC,EAAwC;AACpC,WAAKa,MAAL,CAAYwB,QAAZ,CAAqB,eAAeiK,SAAS,CAACtM,KAA9C;AACH;;AACD,QAAIsM,SAAS,CAACzD,eAAV,KAA8BwD,QAAQ,CAACxD,eAA3C,EAA4D;AACxD,UAAIyD,SAAS,CAACzD,eAAd,EAA+B;AAC3B,aAAKhI,MAAL,CAAY0B,kBAAZ,CAA+B,kBAAkB+J,SAAS,CAACzD,eAA3D;AACH,OAFD,MAGK;AACD,aAAKhI,MAAL,CAAY0B,kBAAZ,CAA+B,IAA/B;AACH;AACJ;;AACD,QAAI+J,SAAS,CAACjE,QAAV,KAAuBgE,QAAQ,CAAChE,QAApC,EAA8C;AAC1C,WAAKxH,MAAL,CAAYa,WAAZ,CAAwB,OAAO4K,SAAS,CAACjE,QAAjB,KAA8B,QAA9B,GAClBiE,SAAS,CAACjE,QAAV,GAAqB,IADH,GAElBiE,SAAS,CAACjE,QAFhB;AAGH;;AACD,QAAIiE,SAAS,CAAC7D,WAAV,KAA0B4D,QAAQ,CAAC5D,WAAvC,EAAoD;AAChD,WAAK5H,MAAL,CAAYyJ,UAAZ,GAAyB1G,cAAzB,CAAwC0I,SAAS,CAAC7D,WAAlD;AACH;;AACD,QAAI6D,SAAS,CAAC5D,eAAV,KAA8B2D,QAAQ,CAAC3D,eAA3C,EAA4D;AACxD,WAAK7H,MAAL,CAAY8I,kBAAZ,CAA+B2C,SAAS,CAAC5D,eAAzC;AACH;;AACD,QAAI4D,SAAS,CAAC9D,UAAV,KAAyB6D,QAAQ,CAAC7D,UAAtC,EAAkD;AAC9C,WAAK3H,MAAL,CAAYuI,QAAZ,CAAqBQ,aAArB,CAAmC0C,SAAS,CAAC9D,UAA7C;AACH;;AACD,QAAI,CAACrB,OAAO,CAACmF,SAAS,CAACC,UAAX,EAAuBF,QAAQ,CAACE,UAAhC,CAAZ,EAAyD;AACrD,WAAKX,aAAL,CAAmBU,SAAnB;AACH;;AACD,QAAI,CAACnF,OAAO,CAACmF,SAAS,CAACtD,WAAX,EAAwBqD,QAAQ,CAACrD,WAAjC,CAAZ,EAA2D;AACvD,WAAKnI,MAAL,CAAYyJ,UAAZ,GAAyBe,cAAzB,CAAwCiB,SAAS,CAACtD,WAAV,IAAyB,EAAjE;AACH;;AACD,QAAI,CAAC7B,OAAO,CAACmF,SAAS,CAACrD,OAAX,EAAoBoD,QAAQ,CAACpD,OAA7B,CAAR,IACAlD,KAAK,CAAC8F,OAAN,CAAcS,SAAS,CAACrD,OAAxB,CADJ,EACsC;AAClC,WAAKqC,aAAL,CAAmBgB,SAAS,CAACrD,OAA7B;AACH,KAxEwD,CAyEzD;;;AACA,QAAI,CAAC9B,OAAO,CAACmF,SAAS,CAAC1D,YAAX,EAAyByD,QAAQ,CAACzD,YAAlC,CAAZ,EAA6D;AACzD,WAAK0pB,mBAAL,CAAyBhmB,SAAS,CAAC1D,YAAnC;AACH;;AACD,QAAIwD,SAAS,CAACtH,MAAV,KAAqB,KAAKyC,KAAL,CAAWzC,MAAhC,IACAsH,SAAS,CAACxH,KAAV,KAAoB,KAAK2C,KAAL,CAAW3C,KADnC,EAC0C;AACtC,WAAK/D,MAAL,CAAYiB,MAAZ;AACH;;AACD,QAAI,KAAKyF,KAAL,CAAWpF,KAAX,IAAoB,CAACiK,SAAS,CAACjK,KAAnC,EAA0C;AACtC,WAAKtB,MAAL,CAAYsB,KAAZ;AACH;AACJ,GApFD;;AAqFA4vB,UAAQ,CAACzsB,SAAT,CAAmBgtB,mBAAnB,GAAyC,UAAUC,OAAV,EAAmB;AACxD,QAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;AAAEA,aAAO,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAAV;AAAyB;;AACnD,SAAK1xB,MAAL,CAAYuI,QAAZ,CAAqBiB,eAArB,CAAqCkoB,OAAO,CAAC,CAAD,CAA5C,EAAiDA,OAAO,CAAC,CAAD,CAAxD,EAA6DA,OAAO,CAAC,CAAD,CAApE,EAAyEA,OAAO,CAAC,CAAD,CAAhF;AACH,GAHD;;AAIAR,UAAQ,CAACzsB,SAAT,CAAmBkI,oBAAnB,GAA0C,YAAY;AAClD,SAAK3M,MAAL,CAAY4M,OAAZ;AACA,SAAK5M,MAAL,GAAc,IAAd;AACH,GAHD;;AAIAkxB,UAAQ,CAACzsB,SAAT,CAAmB0E,QAAnB,GAA8B,UAAU0D,KAAV,EAAiB;AAC3C,QAAI,KAAKnG,KAAL,CAAWyC,QAAX,IAAuB,CAAC,KAAK0C,MAAjC,EAAyC;AACrC,UAAI9F,KAAK,GAAG,KAAK/F,MAAL,CAAY4L,QAAZ,EAAZ;AACA,WAAKlF,KAAL,CAAWyC,QAAX,CAAoBpD,KAApB,EAA2B8G,KAA3B;AACH;AACJ,GALD;;AAMAqkB,UAAQ,CAACzsB,SAAT,CAAmBwF,iBAAnB,GAAuC,UAAU4C,KAAV,EAAiB;AACpD,QAAI,KAAKnG,KAAL,CAAWuD,iBAAf,EAAkC;AAC9B,UAAIlE,KAAK,GAAG,KAAK/F,MAAL,CAAYgN,YAAZ,EAAZ;AACA,WAAKtG,KAAL,CAAWuD,iBAAX,CAA6BlE,KAA7B,EAAoC8G,KAApC;AACH;AACJ,GALD;;AAMAqkB,UAAQ,CAACzsB,SAAT,CAAmByF,cAAnB,GAAoC,UAAU2C,KAAV,EAAiB;AACjD,QAAI,KAAKnG,KAAL,CAAWwD,cAAf,EAA+B;AAC3B,UAAInE,KAAK,GAAG,KAAK/F,MAAL,CAAYgN,YAAZ,EAAZ;AACA,WAAKtG,KAAL,CAAWwD,cAAX,CAA0BnE,KAA1B,EAAiC8G,KAAjC;AACH;AACJ,GALD;;AAMAqkB,UAAQ,CAACzsB,SAAT,CAAmBoF,OAAnB,GAA6B,UAAUgD,KAAV,EAAiB;AAC1C,QAAI,KAAKnG,KAAL,CAAWmD,OAAf,EAAwB;AACpB,WAAKnD,KAAL,CAAWmD,OAAX,CAAmBgD,KAAnB;AACH;;AACD,QAAI,KAAKnG,KAAL,CAAW0qB,WAAf,EAA4B;AACxB,WAAKG,iBAAL;AACH;AACJ,GAPD;;AAQAL,UAAQ,CAACzsB,SAAT,CAAmBkF,OAAnB,GAA6B,UAAUkD,KAAV,EAAiB;AAC1C,QAAI,KAAKnG,KAAL,CAAWiD,OAAf,EAAwB;AACpB,WAAKjD,KAAL,CAAWiD,OAAX,CAAmBkD,KAAnB,EAA0B,KAAK7M,MAA/B;AACH;AACJ,GAJD;;AAKAkxB,UAAQ,CAACzsB,SAAT,CAAmBmF,MAAnB,GAA4B,UAAUiD,KAAV,EAAiB;AACzC,QAAI,KAAKnG,KAAL,CAAWkD,MAAf,EAAuB;AACnB,WAAKlD,KAAL,CAAWkD,MAAX,CAAkBiD,KAAlB,EAAyB,KAAK7M,MAA9B;AACH;AACJ,GAJD;;AAKAkxB,UAAQ,CAACzsB,SAAT,CAAmBqF,MAAnB,GAA4B,UAAUzC,EAAV,EAAc;AACtC,QAAI6F,IAAI,GAAG7F,EAAE,CAAC6F,IAAd;;AACA,QAAI,KAAKxG,KAAL,CAAWoD,MAAf,EAAuB;AACnB,WAAKpD,KAAL,CAAWoD,MAAX,CAAkBoD,IAAlB;AACH;AACJ,GALD;;AAMAgkB,UAAQ,CAACzsB,SAAT,CAAmBsF,OAAnB,GAA6B,UAAU1C,EAAV,EAAc;AACvC,QAAI6F,IAAI,GAAG7F,EAAE,CAAC6F,IAAd;;AACA,QAAI,KAAKxG,KAAL,CAAWqD,OAAf,EAAwB;AACpB,WAAKrD,KAAL,CAAWqD,OAAX,CAAmBmD,IAAnB;AACH;AACJ,GALD;;AAMAgkB,UAAQ,CAACzsB,SAAT,CAAmB0F,QAAnB,GAA8B,YAAY;AACtC,QAAI,KAAKzD,KAAL,CAAWyD,QAAf,EAAyB;AACrB,WAAKzD,KAAL,CAAWyD,QAAX,CAAoB,KAAKnK,MAAzB;AACH;AACJ,GAJD;;AAKAkxB,UAAQ,CAACzsB,SAAT,CAAmBsG,aAAnB,GAAmC,UAAUrE,KAAV,EAAiB;AAChD,QAAIgF,UAAU,GAAG3G,MAAM,CAAC2D,IAAP,CAAYhC,KAAK,CAACgF,UAAlB,CAAjB;;AACA,SAAK,IAAIyB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGzB,UAAU,CAAC3K,MAA/B,EAAuCoM,CAAC,EAAxC,EAA4C;AACxC;AACA,WAAKnN,MAAL,CAAY4K,SAAZ,CAAsBc,UAAU,CAACyB,CAAD,CAAhC,EAAqCzG,KAAK,CAACgF,UAAN,CAAiBA,UAAU,CAACyB,CAAD,CAA3B,CAArC;AACH;AACJ,GAND;;AAOA+jB,UAAQ,CAACzsB,SAAT,CAAmBgG,aAAnB,GAAmC,UAAUrC,OAAV,EAAmB;AAClD,QAAIzB,KAAK,GAAG,IAAZ,CADkD,CAElD;;;AACA,QAAIyG,cAAc,GAAG,KAAKpN,MAAL,CAAYyJ,UAAZ,GAAyB4D,UAAzB,CAAoC,IAApC,CAArB;;AACA,SAAK,IAAIjJ,CAAT,IAAcgJ,cAAd,EAA8B;AAC1B,UAAIA,cAAc,CAAChI,cAAf,CAA8BhB,CAA9B,CAAJ,EAAsC;AAClC,aAAKpE,MAAL,CAAYyJ,UAAZ,GAAyB6D,YAAzB,CAAsCF,cAAc,CAAChJ,CAAD,CAAd,CAAkBmJ,EAAxD;AACH;AACJ,KARiD,CASlD;;;AACAH,kBAAc,GAAG,KAAKpN,MAAL,CAAYyJ,UAAZ,GAAyB4D,UAAzB,CAAoC,KAApC,CAAjB;;AACA,SAAK,IAAIjJ,CAAT,IAAcgJ,cAAd,EAA8B;AAC1B,UAAIA,cAAc,CAAChI,cAAf,CAA8BhB,CAA9B,KACAgJ,cAAc,CAAChJ,CAAD,CAAd,CAAkButB,KAAlB,KAA4B,iBAD5B,IAEAvkB,cAAc,CAAChJ,CAAD,CAAd,CAAkButB,KAAlB,KAA4B,mBAFhC,EAEqD;AACjD,aAAK3xB,MAAL,CAAYyJ,UAAZ,GAAyB6D,YAAzB,CAAsCF,cAAc,CAAChJ,CAAD,CAAd,CAAkBmJ,EAAxD;AACH;AACJ,KAjBiD,CAkBlD;;;AACAnF,WAAO,CAAC3G,OAAR,CAAgB,UAAU4F,EAAV,EAAc;AAC1B,UAAImG,QAAQ,GAAGnG,EAAE,CAACmG,QAAlB;AAAA,UAA4BC,QAAQ,GAAGpG,EAAE,CAACoG,QAA1C;AAAA,UAAoDC,MAAM,GAAGrG,EAAE,CAACqG,MAAhE;AAAA,UAAwEC,MAAM,GAAGtG,EAAE,CAACsG,MAApF;AAAA,UAA4FpN,SAAS,GAAG8G,EAAE,CAAC9G,SAA3G;AAAA,UAAsHqN,IAAI,GAAGvG,EAAE,CAACuG,IAAhI;AAAA,UAAsI9F,EAAE,GAAGT,EAAE,CAACwG,OAA9I;AAAA,UAAuJA,OAAO,GAAG/F,EAAE,KAAK,KAAK,CAAZ,GAAgB,KAAhB,GAAwBA,EAAzL;AACA,UAAIgG,KAAK,GAAG,IAAIC,KAAJ,CAAUP,QAAV,EAAoBC,QAApB,EAA8BC,MAA9B,EAAsCC,MAAtC,CAAZ;;AACAhH,WAAK,CAAC3G,MAAN,CAAayJ,UAAb,GAA0BuE,SAA1B,CAAoCF,KAApC,EAA2CvN,SAA3C,EAAsDqN,IAAtD,EAA4DC,OAA5D;AACH,KAJD;AAKH,GAxBD;;AAyBAqjB,UAAQ,CAACzsB,SAAT,CAAmB8sB,iBAAnB,GAAuC,YAAY;AAC/C;AACA,QAAIvxB,MAAM,GAAG,KAAKA,MAAlB;AACA,QAAIoxB,WAAW,GAAG,KAAK1qB,KAAL,CAAW0qB,WAA7B;AACA,QAAIQ,eAAe,GAAG,CAAC5xB,MAAM,CAACgC,OAAP,CAAe4J,QAAf,GAA0B7K,MAAjD;AACA,QAAIiG,IAAI,GAAGhH,MAAM,CAACuI,QAAP,CAAgBspB,eAA3B;;AACA,QAAI,CAACD,eAAD,IAAoB5qB,IAAxB,EAA8B;AAC1BhH,YAAM,CAACuI,QAAP,CAAgBupB,QAAhB,CAAyB9wB,WAAzB,CAAqChB,MAAM,CAACuI,QAAP,CAAgBspB,eAArD;AACA7xB,YAAM,CAACuI,QAAP,CAAgBspB,eAAhB,GAAkC,IAAlC;AACH,KAHD,MAIK,IAAID,eAAe,IAAI,CAAC5qB,IAAxB,EAA8B;AAC/BA,UAAI,GAAGhH,MAAM,CAACuI,QAAP,CAAgBspB,eAAhB,GAAkCxxB,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAzC;AACA0G,UAAI,CAAC+qB,WAAL,GAAmBX,WAAW,IAAI,EAAlC;AACApqB,UAAI,CAACzG,SAAL,GAAiB,6BAAjB;AACAyG,UAAI,CAACxG,KAAL,CAAW2tB,OAAX,GAAqB,OAArB;AACAnnB,UAAI,CAACxG,KAAL,CAAWwxB,QAAX,GAAsB,UAAtB;AACAhrB,UAAI,CAACxG,KAAL,CAAWyxB,MAAX,GAAoB,GAApB;AACAjyB,YAAM,CAACuI,QAAP,CAAgBupB,QAAhB,CAAyBpxB,WAAzB,CAAqCsG,IAArC;AACH,KARI,MASA,IAAI4qB,eAAe,IAAI5qB,IAAvB,EAA6B;AAC9BA,UAAI,CAAC+qB,WAAL,GAAmBX,WAAnB;AACH;AACJ,GAtBD;;AAuBAF,UAAQ,CAACzsB,SAAT,CAAmBwJ,SAAnB,GAA+B,UAAUC,IAAV,EAAgB;AAC3C,SAAK5F,SAAL,GAAiB4F,IAAjB;AACH,GAFD;;AAGAgjB,UAAQ,CAACzsB,SAAT,CAAmB0J,MAAnB,GAA4B,YAAY;AACpC,QAAI9G,EAAE,GAAG,KAAKX,KAAd;AAAA,QAAqB0H,IAAI,GAAG/G,EAAE,CAAC+G,IAA/B;AAAA,QAAqCrK,KAAK,GAAGsD,EAAE,CAACtD,KAAhD;AAAA,QAAuDE,MAAM,GAAGoD,EAAE,CAACpD,MAAnE;AAAA,QAA2EzD,KAAK,GAAG6G,EAAE,CAAC7G,KAAtF;;AACA,QAAI6N,QAAQ,GAAG7I,QAAQ,CAAC;AAAEzB,WAAK,EAAEA,KAAT;AAAgBE,YAAM,EAAEA;AAAxB,KAAD,EAAmCzD,KAAnC,CAAvB;;AACA,WAAO6F,KAAK,CAAC/F,aAAN,CAAoB,KAApB,EAA2B;AAAEgO,SAAG,EAAE,KAAKL,SAAZ;AAAuBV,QAAE,EAAEa,IAA3B;AAAiC5N,WAAK,EAAE6N;AAAxC,KAA3B,CAAP;AACH,GAJD;;AAKA6iB,UAAQ,CAAC3iB,SAAT,GAAqB;AACjBhH,QAAI,EAAEnB,SAAS,CAACoI,MADC;AAEjBlN,SAAK,EAAE8E,SAAS,CAACuI,IAFA;AAGjBxP,SAAK,EAAEiH,SAAS,CAACoI,MAHA;AAIjBJ,QAAI,EAAEhI,SAAS,CAACoI,MAJC;AAKjBjO,aAAS,EAAE6F,SAAS,CAACoI,MALJ;AAMjBvK,UAAM,EAAEmC,SAAS,CAACoI,MAND;AAOjBzK,SAAK,EAAEqC,SAAS,CAACoI,MAPA;AAQjBhH,YAAQ,EAAEpB,SAAS,CAACwI,SAAV,CAAoB,CAACxI,SAAS,CAACqI,MAAX,EAAmBrI,SAAS,CAACoI,MAA7B,CAApB,CARO;AASjB7G,cAAU,EAAEvB,SAAS,CAACuI,IATL;AAUjBxF,YAAQ,EAAE/C,SAAS,CAACyI,IAVH;AAWjB/E,UAAM,EAAE1D,SAAS,CAACyI,IAXD;AAYjB9E,WAAO,EAAE3D,SAAS,CAACyI,IAZF;AAajBlF,WAAO,EAAEvD,SAAS,CAACyI,IAbF;AAcjBhF,WAAO,EAAEzD,SAAS,CAACyI,IAdF;AAejBjF,UAAM,EAAExD,SAAS,CAACyI,IAfD;AAgBjB1E,YAAQ,EAAE/D,SAAS,CAACyI,IAhBH;AAiBjB9I,SAAK,EAAEK,SAAS,CAACoI,MAjBA;AAkBjB/G,gBAAY,EAAErB,SAAS,CAACoI,MAlBP;AAmBjBvG,UAAM,EAAE7B,SAAS,CAACyI,IAnBD;AAoBjB5E,qBAAiB,EAAE7D,SAAS,CAACyI,IApBZ;AAqBjB3E,kBAAc,EAAE9D,SAAS,CAACyI,IArBT;AAsBjBvH,gBAAY,EAAElB,SAAS,CAACyI,IAtBP;AAuBjBsiB,cAAU,EAAE/qB,SAAS,CAACyI,IAvBL;AAwBjBC,YAAQ,EAAE1I,SAAS,CAACqI,MAxBH;AAyBjBM,YAAQ,EAAE3I,SAAS,CAACqI,MAzBH;AA0BjBO,YAAQ,EAAE5I,SAAS,CAACuI,IA1BH;AA2BjBM,uBAAmB,EAAE7I,SAAS,CAACuI,IA3Bd;AA4BjBO,WAAO,EAAE9I,SAAS,CAACqI,MA5BF;AA6BjB5G,mBAAe,EAAEzB,SAAS,CAACuI,IA7BV;AA8BjBjH,eAAW,EAAEtB,SAAS,CAACqI,MA9BN;AA+BjBvF,wBAAoB,EAAE9C,SAAS,CAACqI,MA/Bf;AAgCjBhG,eAAW,EAAErC,SAAS,CAAC+I,MAhCN;AAiCjBzD,cAAU,EAAEtF,SAAS,CAAC+I,MAjCL;AAkCjB3O,SAAK,EAAE4F,SAAS,CAAC+I,MAlCA;AAmCjBpH,gBAAY,EAAE3B,SAAS,CAACgJ,KAnCP;AAoCjBjH,eAAW,EAAE/B,SAAS,CAACgJ,KApCN;AAqCjBhH,WAAO,EAAEhC,SAAS,CAACgJ,KArCF;AAsCjBpH,mBAAe,EAAE5B,SAAS,CAACoI,MAtCV;AAuCjB5G,eAAW,EAAExB,SAAS,CAACuI,IAvCN;AAwCjBujB,kBAAc,EAAE9rB,SAAS,CAACuI,IAxCT;AAyCjBU,6BAAyB,EAAEjJ,SAAS,CAACwI,SAAV,CAAoB,CAC3CxI,SAAS,CAACuI,IADiC,EAE3CvI,SAAS,CAACgJ,KAFiC,CAApB,CAzCV;AA6CjBE,4BAAwB,EAAElJ,SAAS,CAACwI,SAAV,CAAoB,CAC1CxI,SAAS,CAACuI,IADgC,EAE1CvI,SAAS,CAACgJ,KAFgC,CAApB,CA7CT;AAiDjBiiB,qBAAiB,EAAEjrB,SAAS,CAACuI,IAjDZ;AAkDjBzG,YAAQ,EAAE9B,SAAS,CAACgJ,KAlDH;AAmDjBgiB,eAAW,EAAEhrB,SAAS,CAACoI;AAnDN,GAArB;AAqDA0iB,UAAQ,CAAC3hB,YAAT,GAAwB;AACpBnB,QAAI,EAAE,YADc;AAEpB9M,SAAK,EAAE,KAFa;AAGpBiG,QAAI,EAAE,EAHc;AAIpBpI,SAAK,EAAE,EAJa;AAKpB8E,UAAM,EAAE,OALY;AAMpBF,SAAK,EAAE,OANa;AAOpByD,YAAQ,EAAE,EAPU;AAQpB0qB,kBAAc,EAAE,KARI;AASpBvqB,cAAU,EAAE,IATQ;AAUpBwB,YAAQ,EAAE,IAVU;AAWpBY,WAAO,EAAE,IAXW;AAYpB9B,UAAM,EAAE,IAZY;AAapBkC,YAAQ,EAAE,IAbU;AAcpB2E,YAAQ,EAAE,IAdU;AAepBC,YAAQ,EAAE,IAfU;AAgBpBC,YAAQ,EAAE,KAhBU;AAiBpBC,uBAAmB,EAAE,IAjBD;AAkBpBpH,mBAAe,EAAE,IAlBG;AAmBpBqH,WAAO,EAAE,CAnBW;AAoBpBxH,eAAW,EAAE,CApBO;AAqBpBe,eAAW,EAAE,EArBO;AAsBpBjI,SAAK,EAAE,EAtBa;AAuBpBuH,gBAAY,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAvBM;AAwBpB2D,cAAU,EAAE,EAxBQ;AAyBpB9D,eAAW,EAAE,KAzBO;AA0BpByH,6BAAyB,EAAE,KA1BP;AA2BpBC,4BAAwB,EAAE,KA3BN;AA4BpB8hB,eAAW,EAAE,IA5BO;AA6BpBC,qBAAiB,EAAE;AA7BC,GAAxB;AA+BA,SAAOH,QAAP;AACH,CAtZ6B,CAsZ5B7qB,KAAK,CAACmJ,SAtZsB,CAA9B;;AAuZAhR,OAAO,CAACiR,OAAR,GAAkByhB,QAAlB,C,CACA,+B;;;;;;;;;;;;ACxba;;AACbnsB,MAAM,CAACe,cAAP,CAAsBtH,OAAtB,EAA+B,YAA/B,EAA6C;AAAEuH,OAAK,EAAE;AAAT,CAA7C;;AACA,IAAIosB,KAAK,GAAG5zB,mBAAO,CAAC,mBAAD,CAAnB;;AACA,IAAI6zB,MAAM,GAAG7zB,mBAAO,CAAC,oBAAD,CAApB;;AACAC,OAAO,CAACsR,IAAR,GAAesiB,MAAM,CAAC3iB,OAAtB;;AACA,IAAIC,OAAO,GAAGnR,mBAAO,CAAC,qBAAD,CAArB;;AACAC,OAAO,CAACmK,KAAR,GAAgB+G,OAAO,CAACD,OAAxB;AACAjR,OAAO,CAACiR,OAAR,GAAkB0iB,KAAK,CAAC1iB,OAAxB,C,CACA,iC;;;;;;;;;;;;ACRa;;AACb1K,MAAM,CAACe,cAAP,CAAsBtH,OAAtB,EAA+B,YAA/B,EAA6C;AAAEuH,OAAK,EAAE;AAAT,CAA7C;AACA,IAAI2E,aAAa,GAAG,CAChB,UADgB,EAEhB,UAFgB,EAGhB,UAHgB,EAIhB,qBAJgB,EAKhB,SALgB,EAMhB,2BANgB,EAOhB,0BAPgB,EAQhB,gBARgB,CAApB;AAUAlM,OAAO,CAACkM,aAAR,GAAwBA,aAAxB;AACA,IAAI9D,YAAY,GAAG,CACf,UADe,EAEf,SAFe,EAGf,SAHe,EAIf,QAJe,EAKf,QALe,EAMf,SANe,EAOf,mBAPe,EAQf,gBARe,EASf,UATe,EAUf,eAVe,EAWf,WAXe,CAAnB;AAaApI,OAAO,CAACoI,YAAR,GAAuBA,YAAvB;;AACA,IAAIX,cAAc,GAAG,SAAjBA,cAAiB,GAAY;AAC7B,MAAI5H,GAAJ;;AACA,MAAI,OAAOg0B,MAAP,KAAkB,WAAtB,EAAmC;AAC/B;AACA;AACAle,UAAM,CAACke,MAAP,GAAgB,EAAhB;AACAh0B,OAAG,GAAGE,mBAAO,CAAC,wBAAD,CAAb,CAJ+B,CAK/B;AACA;;AACA,WAAO4V,MAAM,CAACke,MAAd;AACH,GARD,MASK,IAAIA,MAAM,CAACh0B,GAAX,EAAgB;AACjB;AACAA,OAAG,GAAGg0B,MAAM,CAACh0B,GAAb;AACAA,OAAG,CAACi0B,QAAJ,GAAeD,MAAM,CAACh0B,GAAP,CAAWE,OAAX,IAAsB8zB,MAAM,CAACh0B,GAAP,CAAWi0B,QAAhD;AACH,GAJI,MAKA;AACDj0B,OAAG,GAAGE,mBAAO,CAAC,wBAAD,CAAb;AACH;;AACD,SAAOF,GAAP;AACH,CApBD;;AAqBAG,OAAO,CAACyH,cAAR,GAAyBA,cAAzB;;AACA,IAAIa,QAAQ,GAAG,SAAXA,QAAW,CAAUyrB,EAAV,EAAcC,KAAd,EAAqB;AAChC,MAAIC,KAAK,GAAG,IAAZ,CADgC,CAEhC;;AACA,SAAO,YAAY;AACf,QAAIC,OAAO,GAAG,IAAd;AACA,QAAIC,IAAI,GAAG/sB,SAAX;AACAgtB,gBAAY,CAACH,KAAD,CAAZ;AACAA,SAAK,GAAGI,UAAU,CAAC,YAAY;AAC3BN,QAAE,CAAC1sB,KAAH,CAAS6sB,OAAT,EAAkBC,IAAlB;AACH,KAFiB,EAEfH,KAFe,CAAlB;AAGH,GAPD;AAQH,CAXD;;AAYAh0B,OAAO,CAACsI,QAAR,GAAmBA,QAAnB,C,CACA,yC;;;;;;;;;;;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAIgsB,eAAe,GAAG,qBAAtB;AAEA;;AACA,IAAInhB,cAAc,GAAG,2BAArB;AAEA;;AACA,IAAIohB,QAAQ,GAAG,IAAI,CAAnB;AAEA;;AACA,IAAI1gB,OAAO,GAAG,mBAAd;AAAA,IACIC,MAAM,GAAG,4BADb;AAAA,IAEIU,SAAS,GAAG,iBAFhB;AAIA;;AACA,IAAIggB,YAAY,GAAG,kDAAnB;AAAA,IACIC,aAAa,GAAG,OADpB;AAAA,IAEIC,YAAY,GAAG,KAFnB;AAAA,IAGIC,UAAU,GAAG,kGAHjB;AAKA;AACA;AACA;AACA;;AACA,IAAIrf,YAAY,GAAG,qBAAnB;AAEA;;AACA,IAAIsf,YAAY,GAAG,UAAnB;AAEA;;AACA,IAAIrf,YAAY,GAAG,6BAAnB;AAEA;;AACA,IAAIG,UAAU,GAAG,OAAOC,MAAP,IAAiB,QAAjB,IAA6BA,MAA7B,IAAuCA,MAAM,CAACpP,MAAP,KAAkBA,MAAzD,IAAmEoP,MAApF;AAEA;;AACA,IAAIC,QAAQ,GAAG,OAAOC,IAAP,IAAe,QAAf,IAA2BA,IAA3B,IAAmCA,IAAI,CAACtP,MAAL,KAAgBA,MAAnD,IAA6DsP,IAA5E;AAEA;;AACA,IAAIC,IAAI,GAAGJ,UAAU,IAAIE,QAAd,IAA0BG,QAAQ,CAAC,aAAD,CAAR,EAArC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAAS3I,QAAT,CAAkBuD,MAAlB,EAA0B6G,GAA1B,EAA+B;AAC7B,SAAO7G,MAAM,IAAI,IAAV,GAAiB9E,SAAjB,GAA6B8E,MAAM,CAAC6G,GAAD,CAA1C;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASqd,YAAT,CAAsBttB,KAAtB,EAA6B;AAC3B;AACA;AACA,MAAIuP,MAAM,GAAG,KAAb;;AACA,MAAIvP,KAAK,IAAI,IAAT,IAAiB,OAAOA,KAAK,CAACoB,QAAb,IAAyB,UAA9C,EAA0D;AACxD,QAAI;AACFmO,YAAM,GAAG,CAAC,EAAEvP,KAAK,GAAG,EAAV,CAAV;AACD,KAFD,CAEE,OAAOiP,CAAP,EAAU,CAAE;AACf;;AACD,SAAOM,MAAP;AACD;AAED;;;AACA,IAAImB,UAAU,GAAGvR,KAAK,CAACT,SAAvB;AAAA,IACIiS,SAAS,GAAGnC,QAAQ,CAAC9P,SADzB;AAAA,IAEIkS,WAAW,GAAG5R,MAAM,CAACN,SAFzB;AAIA;;AACA,IAAImS,UAAU,GAAGtC,IAAI,CAAC,oBAAD,CAArB;AAEA;;AACA,IAAIwC,UAAU,GAAI,YAAW;AAC3B,MAAIC,GAAG,GAAG,SAAS7L,IAAT,CAAc0L,UAAU,IAAIA,UAAU,CAAClO,IAAzB,IAAiCkO,UAAU,CAAClO,IAAX,CAAgBsO,QAAjD,IAA6D,EAA3E,CAAV;AACA,SAAOD,GAAG,GAAI,mBAAmBA,GAAvB,GAA8B,EAAxC;AACD,CAHiB,EAAlB;AAKA;;;AACA,IAAIF,YAAY,GAAGH,SAAS,CAACvP,QAA7B;AAEA;;AACA,IAAI/B,cAAc,GAAGuR,WAAW,CAACvR,cAAjC;AAEA;AACA;AACA;AACA;AACA;;AACA,IAAIkX,cAAc,GAAG3F,WAAW,CAACxP,QAAjC;AAEA;;AACA,IAAI+P,UAAU,GAAGC,MAAM,CAAC,MACtBN,YAAY,CAACrS,IAAb,CAAkBY,cAAlB,EAAkCgS,OAAlC,CAA0CtD,YAA1C,EAAwD,MAAxD,EACCsD,OADD,CACS,wDADT,EACmE,OADnE,CADsB,GAEwD,GAFzD,CAAvB;AAKA;;AACA,IAAIE,MAAM,GAAGhD,IAAI,CAACgD,MAAlB;AAAA,IACI7K,MAAM,GAAGgK,UAAU,CAAChK,MADxB;AAGA;;AACA,IAAIyL,GAAG,GAAGD,SAAS,CAAC3D,IAAD,EAAO,KAAP,CAAnB;AAAA,IACIgE,YAAY,GAAGL,SAAS,CAAClT,MAAD,EAAS,QAAT,CAD5B;AAGA;;AACA,IAAI8T,WAAW,GAAGvB,MAAM,GAAGA,MAAM,CAAC7S,SAAV,GAAsB4F,SAA9C;AAAA,IACIipB,cAAc,GAAGza,WAAW,GAAGA,WAAW,CAAC1R,QAAf,GAA0BkD,SAD1D;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAAS2O,IAAT,CAAcC,OAAd,EAAuB;AACrB,MAAI7P,KAAK,GAAG,CAAC,CAAb;AAAA,MACIrI,MAAM,GAAGkY,OAAO,GAAGA,OAAO,CAAClY,MAAX,GAAoB,CADxC;AAGA,OAAKmY,KAAL;;AACA,SAAO,EAAE9P,KAAF,GAAUrI,MAAjB,EAAyB;AACvB,QAAIoY,KAAK,GAAGF,OAAO,CAAC7P,KAAD,CAAnB;AACA,SAAKoN,GAAL,CAAS2C,KAAK,CAAC,CAAD,CAAd,EAAmBA,KAAK,CAAC,CAAD,CAAxB;AACD;AACF;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASC,SAAT,GAAqB;AACnB,OAAKC,QAAL,GAAgBf,YAAY,GAAGA,YAAY,CAAC,IAAD,CAAf,GAAwB,EAApD;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASgB,UAAT,CAAoBtD,GAApB,EAAyB;AACvB,SAAO,KAAKC,GAAL,CAASD,GAAT,KAAiB,OAAO,KAAKqD,QAAL,CAAcrD,GAAd,CAA/B;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASuD,OAAT,CAAiBvD,GAAjB,EAAsB;AACpB,MAAIwD,IAAI,GAAG,KAAKH,QAAhB;;AACA,MAAIf,YAAJ,EAAkB;AAChB,QAAIhD,MAAM,GAAGkE,IAAI,CAACxD,GAAD,CAAjB;AACA,WAAOV,MAAM,KAAK3D,cAAX,GAA4BtH,SAA5B,GAAwCiL,MAA/C;AACD;;AACD,SAAOlQ,cAAc,CAACZ,IAAf,CAAoBgV,IAApB,EAA0BxD,GAA1B,IAAiCwD,IAAI,CAACxD,GAAD,CAArC,GAA6C3L,SAApD;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASoP,OAAT,CAAiBzD,GAAjB,EAAsB;AACpB,MAAIwD,IAAI,GAAG,KAAKH,QAAhB;AACA,SAAOf,YAAY,GAAGkB,IAAI,CAACxD,GAAD,CAAJ,KAAc3L,SAAjB,GAA6BjF,cAAc,CAACZ,IAAf,CAAoBgV,IAApB,EAA0BxD,GAA1B,CAAhD;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAAS0D,OAAT,CAAiB1D,GAAjB,EAAsBjQ,KAAtB,EAA6B;AAC3B,MAAIyT,IAAI,GAAG,KAAKH,QAAhB;AACAG,MAAI,CAACxD,GAAD,CAAJ,GAAasC,YAAY,IAAIvS,KAAK,KAAKsE,SAA3B,GAAwCsH,cAAxC,GAAyD5L,KAArE;AACA,SAAO,IAAP;AACD,C,CAED;;;AACAiT,IAAI,CAACvU,SAAL,CAAeyU,KAAf,GAAuBE,SAAvB;AACAJ,IAAI,CAACvU,SAAL,CAAe,QAAf,IAA2B6U,UAA3B;AACAN,IAAI,CAACvU,SAAL,CAAe8B,GAAf,GAAqBgT,OAArB;AACAP,IAAI,CAACvU,SAAL,CAAewR,GAAf,GAAqBwD,OAArB;AACAT,IAAI,CAACvU,SAAL,CAAe+R,GAAf,GAAqBkD,OAArB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASC,SAAT,CAAmBV,OAAnB,EAA4B;AAC1B,MAAI7P,KAAK,GAAG,CAAC,CAAb;AAAA,MACIrI,MAAM,GAAGkY,OAAO,GAAGA,OAAO,CAAClY,MAAX,GAAoB,CADxC;AAGA,OAAKmY,KAAL;;AACA,SAAO,EAAE9P,KAAF,GAAUrI,MAAjB,EAAyB;AACvB,QAAIoY,KAAK,GAAGF,OAAO,CAAC7P,KAAD,CAAnB;AACA,SAAKoN,GAAL,CAAS2C,KAAK,CAAC,CAAD,CAAd,EAAmBA,KAAK,CAAC,CAAD,CAAxB;AACD;AACF;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASS,cAAT,GAA0B;AACxB,OAAKP,QAAL,GAAgB,EAAhB;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASQ,eAAT,CAAyB7D,GAAzB,EAA8B;AAC5B,MAAIwD,IAAI,GAAG,KAAKH,QAAhB;AAAA,MACIjQ,KAAK,GAAG0Q,YAAY,CAACN,IAAD,EAAOxD,GAAP,CADxB;;AAGA,MAAI5M,KAAK,GAAG,CAAZ,EAAe;AACb,WAAO,KAAP;AACD;;AACD,MAAI2Q,SAAS,GAAGP,IAAI,CAACzY,MAAL,GAAc,CAA9B;;AACA,MAAIqI,KAAK,IAAI2Q,SAAb,EAAwB;AACtBP,QAAI,CAACQ,GAAL;AACD,GAFD,MAEO;AACLvN,UAAM,CAACjI,IAAP,CAAYgV,IAAZ,EAAkBpQ,KAAlB,EAAyB,CAAzB;AACD;;AACD,SAAO,IAAP;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAAS6Q,YAAT,CAAsBjE,GAAtB,EAA2B;AACzB,MAAIwD,IAAI,GAAG,KAAKH,QAAhB;AAAA,MACIjQ,KAAK,GAAG0Q,YAAY,CAACN,IAAD,EAAOxD,GAAP,CADxB;AAGA,SAAO5M,KAAK,GAAG,CAAR,GAAYiB,SAAZ,GAAwBmP,IAAI,CAACpQ,KAAD,CAAJ,CAAY,CAAZ,CAA/B;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAAS8Q,YAAT,CAAsBlE,GAAtB,EAA2B;AACzB,SAAO8D,YAAY,CAAC,KAAKT,QAAN,EAAgBrD,GAAhB,CAAZ,GAAmC,CAAC,CAA3C;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASmE,YAAT,CAAsBnE,GAAtB,EAA2BjQ,KAA3B,EAAkC;AAChC,MAAIyT,IAAI,GAAG,KAAKH,QAAhB;AAAA,MACIjQ,KAAK,GAAG0Q,YAAY,CAACN,IAAD,EAAOxD,GAAP,CADxB;;AAGA,MAAI5M,KAAK,GAAG,CAAZ,EAAe;AACboQ,QAAI,CAAC5Y,IAAL,CAAU,CAACoV,GAAD,EAAMjQ,KAAN,CAAV;AACD,GAFD,MAEO;AACLyT,QAAI,CAACpQ,KAAD,CAAJ,CAAY,CAAZ,IAAiBrD,KAAjB;AACD;;AACD,SAAO,IAAP;AACD,C,CAED;;;AACA4T,SAAS,CAAClV,SAAV,CAAoByU,KAApB,GAA4BU,cAA5B;AACAD,SAAS,CAAClV,SAAV,CAAoB,QAApB,IAAgCoV,eAAhC;AACAF,SAAS,CAAClV,SAAV,CAAoB8B,GAApB,GAA0B0T,YAA1B;AACAN,SAAS,CAAClV,SAAV,CAAoBwR,GAApB,GAA0BiE,YAA1B;AACAP,SAAS,CAAClV,SAAV,CAAoB+R,GAApB,GAA0B2D,YAA1B;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASC,QAAT,CAAkBnB,OAAlB,EAA2B;AACzB,MAAI7P,KAAK,GAAG,CAAC,CAAb;AAAA,MACIrI,MAAM,GAAGkY,OAAO,GAAGA,OAAO,CAAClY,MAAX,GAAoB,CADxC;AAGA,OAAKmY,KAAL;;AACA,SAAO,EAAE9P,KAAF,GAAUrI,MAAjB,EAAyB;AACvB,QAAIoY,KAAK,GAAGF,OAAO,CAAC7P,KAAD,CAAnB;AACA,SAAKoN,GAAL,CAAS2C,KAAK,CAAC,CAAD,CAAd,EAAmBA,KAAK,CAAC,CAAD,CAAxB;AACD;AACF;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASkB,aAAT,GAAyB;AACvB,OAAKhB,QAAL,GAAgB;AACd,YAAQ,IAAIL,IAAJ,EADM;AAEd,WAAO,KAAKd,GAAG,IAAIyB,SAAZ,GAFO;AAGd,cAAU,IAAIX,IAAJ;AAHI,GAAhB;AAKD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASsB,cAAT,CAAwBtE,GAAxB,EAA6B;AAC3B,SAAOuE,UAAU,CAAC,IAAD,EAAOvE,GAAP,CAAV,CAAsB,QAAtB,EAAgCA,GAAhC,CAAP;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASwE,WAAT,CAAqBxE,GAArB,EAA0B;AACxB,SAAOuE,UAAU,CAAC,IAAD,EAAOvE,GAAP,CAAV,CAAsBzP,GAAtB,CAA0ByP,GAA1B,CAAP;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASyE,WAAT,CAAqBzE,GAArB,EAA0B;AACxB,SAAOuE,UAAU,CAAC,IAAD,EAAOvE,GAAP,CAAV,CAAsBC,GAAtB,CAA0BD,GAA1B,CAAP;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAAS0E,WAAT,CAAqB1E,GAArB,EAA0BjQ,KAA1B,EAAiC;AAC/BwU,YAAU,CAAC,IAAD,EAAOvE,GAAP,CAAV,CAAsBQ,GAAtB,CAA0BR,GAA1B,EAA+BjQ,KAA/B;AACA,SAAO,IAAP;AACD,C,CAED;;;AACAqU,QAAQ,CAAC3V,SAAT,CAAmByU,KAAnB,GAA2BmB,aAA3B;AACAD,QAAQ,CAAC3V,SAAT,CAAmB,QAAnB,IAA+B6V,cAA/B;AACAF,QAAQ,CAAC3V,SAAT,CAAmB8B,GAAnB,GAAyBiU,WAAzB;AACAJ,QAAQ,CAAC3V,SAAT,CAAmBwR,GAAnB,GAAyBwE,WAAzB;AACAL,QAAQ,CAAC3V,SAAT,CAAmB+R,GAAnB,GAAyBkE,WAAzB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASZ,YAAT,CAAsB1K,KAAtB,EAA6B4G,GAA7B,EAAkC;AAChC,MAAIjV,MAAM,GAAGqO,KAAK,CAACrO,MAAnB;;AACA,SAAOA,MAAM,EAAb,EAAiB;AACf,QAAIib,EAAE,CAAC5M,KAAK,CAACrO,MAAD,CAAL,CAAc,CAAd,CAAD,EAAmBiV,GAAnB,CAAN,EAA+B;AAC7B,aAAOjV,MAAP;AACD;AACF;;AACD,SAAO,CAAC,CAAR;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASwyB,OAAT,CAAiBpkB,MAAjB,EAAyBqkB,IAAzB,EAA+B;AAC7BA,MAAI,GAAGC,KAAK,CAACD,IAAD,EAAOrkB,MAAP,CAAL,GAAsB,CAACqkB,IAAD,CAAtB,GAA+BE,QAAQ,CAACF,IAAD,CAA9C;AAEA,MAAIpqB,KAAK,GAAG,CAAZ;AAAA,MACIrI,MAAM,GAAGyyB,IAAI,CAACzyB,MADlB;;AAGA,SAAOoO,MAAM,IAAI,IAAV,IAAkB/F,KAAK,GAAGrI,MAAjC,EAAyC;AACvCoO,UAAM,GAAGA,MAAM,CAACwkB,KAAK,CAACH,IAAI,CAACpqB,KAAK,EAAN,CAAL,CAAN,CAAf;AACD;;AACD,SAAQA,KAAK,IAAIA,KAAK,IAAIrI,MAAnB,GAA6BoO,MAA7B,GAAsC9E,SAA7C;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAAS0T,YAAT,CAAsBhY,KAAtB,EAA6B;AAC3B,MAAI,CAACiY,QAAQ,CAACjY,KAAD,CAAT,IAAoBkY,QAAQ,CAAClY,KAAD,CAAhC,EAAyC;AACvC,WAAO,KAAP;AACD;;AACD,MAAImY,OAAO,GAAIC,UAAU,CAACpY,KAAD,CAAV,IAAqBstB,YAAY,CAACttB,KAAD,CAAlC,GAA6CmR,UAA7C,GAA0DnD,YAAxE;AACA,SAAOmK,OAAO,CAACE,IAAR,CAAa5F,QAAQ,CAACzS,KAAD,CAArB,CAAP;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAAS6tB,YAAT,CAAsB7tB,KAAtB,EAA6B;AAC3B;AACA,MAAI,OAAOA,KAAP,IAAgB,QAApB,EAA8B;AAC5B,WAAOA,KAAP;AACD;;AACD,MAAI8tB,QAAQ,CAAC9tB,KAAD,CAAZ,EAAqB;AACnB,WAAOutB,cAAc,GAAGA,cAAc,CAAC9uB,IAAf,CAAoBuB,KAApB,CAAH,GAAgC,EAArD;AACD;;AACD,MAAIuP,MAAM,GAAIvP,KAAK,GAAG,EAAtB;AACA,SAAQuP,MAAM,IAAI,GAAV,IAAkB,IAAIvP,KAAL,IAAe,CAACgtB,QAAlC,GAA8C,IAA9C,GAAqDzd,MAA5D;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASoe,QAAT,CAAkB3tB,KAAlB,EAAyB;AACvB,SAAOiF,OAAO,CAACjF,KAAD,CAAP,GAAiBA,KAAjB,GAAyB+tB,YAAY,CAAC/tB,KAAD,CAA5C;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASwU,UAAT,CAAoBpE,GAApB,EAAyBH,GAAzB,EAA8B;AAC5B,MAAIwD,IAAI,GAAGrD,GAAG,CAACkD,QAAf;AACA,SAAO4G,SAAS,CAACjK,GAAD,CAAT,GACHwD,IAAI,CAAC,OAAOxD,GAAP,IAAc,QAAd,GAAyB,QAAzB,GAAoC,MAArC,CADD,GAEHwD,IAAI,CAACrD,GAFT;AAGD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAAS8B,SAAT,CAAmB9I,MAAnB,EAA2B6G,GAA3B,EAAgC;AAC9B,MAAIjQ,KAAK,GAAG6F,QAAQ,CAACuD,MAAD,EAAS6G,GAAT,CAApB;AACA,SAAO+H,YAAY,CAAChY,KAAD,CAAZ,GAAsBA,KAAtB,GAA8BsE,SAArC;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASopB,KAAT,CAAe1tB,KAAf,EAAsBoJ,MAAtB,EAA8B;AAC5B,MAAInE,OAAO,CAACjF,KAAD,CAAX,EAAoB;AAClB,WAAO,KAAP;AACD;;AACD,MAAI6H,IAAI,GAAG,OAAO7H,KAAlB;;AACA,MAAI6H,IAAI,IAAI,QAAR,IAAoBA,IAAI,IAAI,QAA5B,IAAwCA,IAAI,IAAI,SAAhD,IACA7H,KAAK,IAAI,IADT,IACiB8tB,QAAQ,CAAC9tB,KAAD,CAD7B,EACsC;AACpC,WAAO,IAAP;AACD;;AACD,SAAOktB,aAAa,CAAC7U,IAAd,CAAmBrY,KAAnB,KAA6B,CAACitB,YAAY,CAAC5U,IAAb,CAAkBrY,KAAlB,CAA9B,IACJoJ,MAAM,IAAI,IAAV,IAAkBpJ,KAAK,IAAIhB,MAAM,CAACoK,MAAD,CADpC;AAED;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAAS8Q,SAAT,CAAmBla,KAAnB,EAA0B;AACxB,MAAI6H,IAAI,GAAG,OAAO7H,KAAlB;AACA,SAAQ6H,IAAI,IAAI,QAAR,IAAoBA,IAAI,IAAI,QAA5B,IAAwCA,IAAI,IAAI,QAAhD,IAA4DA,IAAI,IAAI,SAArE,GACF7H,KAAK,KAAK,WADR,GAEFA,KAAK,KAAK,IAFf;AAGD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASkY,QAAT,CAAkBpP,IAAlB,EAAwB;AACtB,SAAO,CAAC,CAACiI,UAAF,IAAiBA,UAAU,IAAIjI,IAAtC;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAIilB,YAAY,GAAGC,OAAO,CAAC,UAASvlB,MAAT,EAAiB;AAC1CA,QAAM,GAAGrH,QAAQ,CAACqH,MAAD,CAAjB;AAEA,MAAI8G,MAAM,GAAG,EAAb;;AACA,MAAI4d,YAAY,CAAC9U,IAAb,CAAkB5P,MAAlB,CAAJ,EAA+B;AAC7B8G,UAAM,CAAC1U,IAAP,CAAY,EAAZ;AACD;;AACD4N,QAAM,CAAC4I,OAAP,CAAe+b,UAAf,EAA2B,UAAS5J,KAAT,EAAgB9a,MAAhB,EAAwBulB,KAAxB,EAA+BxlB,MAA/B,EAAuC;AAChE8G,UAAM,CAAC1U,IAAP,CAAYozB,KAAK,GAAGxlB,MAAM,CAAC4I,OAAP,CAAegc,YAAf,EAA6B,IAA7B,CAAH,GAAyC3kB,MAAM,IAAI8a,KAApE;AACD,GAFD;AAGA,SAAOjU,MAAP;AACD,CAXyB,CAA1B;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASqe,KAAT,CAAe5tB,KAAf,EAAsB;AACpB,MAAI,OAAOA,KAAP,IAAgB,QAAhB,IAA4B8tB,QAAQ,CAAC9tB,KAAD,CAAxC,EAAiD;AAC/C,WAAOA,KAAP;AACD;;AACD,MAAIuP,MAAM,GAAIvP,KAAK,GAAG,EAAtB;AACA,SAAQuP,MAAM,IAAI,GAAV,IAAkB,IAAIvP,KAAL,IAAe,CAACgtB,QAAlC,GAA8C,IAA9C,GAAqDzd,MAA5D;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASkD,QAAT,CAAkB3J,IAAlB,EAAwB;AACtB,MAAIA,IAAI,IAAI,IAAZ,EAAkB;AAChB,QAAI;AACF,aAAOgI,YAAY,CAACrS,IAAb,CAAkBqK,IAAlB,CAAP;AACD,KAFD,CAEE,OAAOmG,CAAP,EAAU,CAAE;;AACd,QAAI;AACF,aAAQnG,IAAI,GAAG,EAAf;AACD,KAFD,CAEE,OAAOmG,CAAP,EAAU,CAAE;AACf;;AACD,SAAO,EAAP;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAAS+e,OAAT,CAAiBllB,IAAjB,EAAuBolB,QAAvB,EAAiC;AAC/B,MAAI,OAAOplB,IAAP,IAAe,UAAf,IAA8BolB,QAAQ,IAAI,OAAOA,QAAP,IAAmB,UAAjE,EAA8E;AAC5E,UAAM,IAAIC,SAAJ,CAAcpB,eAAd,CAAN;AACD;;AACD,MAAIqB,QAAQ,GAAG,SAAXA,QAAW,GAAW;AACxB,QAAIxB,IAAI,GAAG/sB,SAAX;AAAA,QACIoQ,GAAG,GAAGie,QAAQ,GAAGA,QAAQ,CAACpuB,KAAT,CAAe,IAAf,EAAqB8sB,IAArB,CAAH,GAAgCA,IAAI,CAAC,CAAD,CADtD;AAAA,QAEI5c,KAAK,GAAGoe,QAAQ,CAACpe,KAFrB;;AAIA,QAAIA,KAAK,CAACE,GAAN,CAAUD,GAAV,CAAJ,EAAoB;AAClB,aAAOD,KAAK,CAACxP,GAAN,CAAUyP,GAAV,CAAP;AACD;;AACD,QAAIV,MAAM,GAAGzG,IAAI,CAAChJ,KAAL,CAAW,IAAX,EAAiB8sB,IAAjB,CAAb;AACAwB,YAAQ,CAACpe,KAAT,GAAiBA,KAAK,CAACS,GAAN,CAAUR,GAAV,EAAeV,MAAf,CAAjB;AACA,WAAOA,MAAP;AACD,GAXD;;AAYA6e,UAAQ,CAACpe,KAAT,GAAiB,KAAKge,OAAO,CAACK,KAAR,IAAiBha,QAAtB,GAAjB;AACA,SAAO+Z,QAAP;AACD,C,CAED;;;AACAJ,OAAO,CAACK,KAAR,GAAgBha,QAAhB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAAS4B,EAAT,CAAYjW,KAAZ,EAAmB2W,KAAnB,EAA0B;AACxB,SAAO3W,KAAK,KAAK2W,KAAV,IAAoB3W,KAAK,KAAKA,KAAV,IAAmB2W,KAAK,KAAKA,KAAxD;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAI1R,OAAO,GAAG9F,KAAK,CAAC8F,OAApB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASmT,UAAT,CAAoBpY,KAApB,EAA2B;AACzB;AACA;AACA,MAAImZ,GAAG,GAAGlB,QAAQ,CAACjY,KAAD,CAAR,GAAkBuW,cAAc,CAAC9X,IAAf,CAAoBuB,KAApB,CAAlB,GAA+C,EAAzD;AACA,SAAOmZ,GAAG,IAAI7M,OAAP,IAAkB6M,GAAG,IAAI5M,MAAhC;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAAS0L,QAAT,CAAkBjY,KAAlB,EAAyB;AACvB,MAAI6H,IAAI,GAAG,OAAO7H,KAAlB;AACA,SAAO,CAAC,CAACA,KAAF,KAAY6H,IAAI,IAAI,QAAR,IAAoBA,IAAI,IAAI,UAAxC,CAAP;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAAS4O,YAAT,CAAsBzW,KAAtB,EAA6B;AAC3B,SAAO,CAAC,CAACA,KAAF,IAAW,OAAOA,KAAP,IAAgB,QAAlC;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAAS8tB,QAAT,CAAkB9tB,KAAlB,EAAyB;AACvB,SAAO,OAAOA,KAAP,IAAgB,QAAhB,IACJyW,YAAY,CAACzW,KAAD,CAAZ,IAAuBuW,cAAc,CAAC9X,IAAf,CAAoBuB,KAApB,KAA8BiN,SADxD;AAED;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAAS7L,QAAT,CAAkBpB,KAAlB,EAAyB;AACvB,SAAOA,KAAK,IAAI,IAAT,GAAgB,EAAhB,GAAqB6tB,YAAY,CAAC7tB,KAAD,CAAxC;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASQ,GAAT,CAAa4I,MAAb,EAAqBqkB,IAArB,EAA2B/rB,YAA3B,EAAyC;AACvC,MAAI6N,MAAM,GAAGnG,MAAM,IAAI,IAAV,GAAiB9E,SAAjB,GAA6BkpB,OAAO,CAACpkB,MAAD,EAASqkB,IAAT,CAAjD;AACA,SAAOle,MAAM,KAAKjL,SAAX,GAAuB5C,YAAvB,GAAsC6N,MAA7C;AACD;;AAED7W,MAAM,CAACD,OAAP,GAAiB+H,GAAjB,C","file":"react-ace.js","sourcesContent":["ace.define(\"ace/split\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/editor\",\"ace/virtual_renderer\",\"ace/edit_session\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\nvar Editor = require(\"./editor\").Editor;\nvar Renderer = require(\"./virtual_renderer\").VirtualRenderer;\nvar EditSession = require(\"./edit_session\").EditSession;\n\n\nvar Split = function(container, theme, splits) {\n    this.BELOW = 1;\n    this.BESIDE = 0;\n\n    this.$container = container;\n    this.$theme = theme;\n    this.$splits = 0;\n    this.$editorCSS = \"\";\n    this.$editors = [];\n    this.$orientation = this.BESIDE;\n\n    this.setSplits(splits || 1);\n    this.$cEditor = this.$editors[0];\n\n\n    this.on(\"focus\", function(editor) {\n        this.$cEditor = editor;\n    }.bind(this));\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.$createEditor = function() {\n        var el = document.createElement(\"div\");\n        el.className = this.$editorCSS;\n        el.style.cssText = \"position: absolute; top:0px; bottom:0px\";\n        this.$container.appendChild(el);\n        var editor = new Editor(new Renderer(el, this.$theme));\n\n        editor.on(\"focus\", function() {\n            this._emit(\"focus\", editor);\n        }.bind(this));\n\n        this.$editors.push(editor);\n        editor.setFontSize(this.$fontSize);\n        return editor;\n    };\n\n    this.setSplits = function(splits) {\n        var editor;\n        if (splits < 1) {\n            throw \"The number of splits have to be > 0!\";\n        }\n\n        if (splits == this.$splits) {\n            return;\n        } else if (splits > this.$splits) {\n            while (this.$splits < this.$editors.length && this.$splits < splits) {\n                editor = this.$editors[this.$splits];\n                this.$container.appendChild(editor.container);\n                editor.setFontSize(this.$fontSize);\n                this.$splits ++;\n            }\n            while (this.$splits < splits) {\n                this.$createEditor();\n                this.$splits ++;\n            }\n        } else {\n            while (this.$splits > splits) {\n                editor = this.$editors[this.$splits - 1];\n                this.$container.removeChild(editor.container);\n                this.$splits --;\n            }\n        }\n        this.resize();\n    };\n    this.getSplits = function() {\n        return this.$splits;\n    };\n    this.getEditor = function(idx) {\n        return this.$editors[idx];\n    };\n    this.getCurrentEditor = function() {\n        return this.$cEditor;\n    };\n    this.focus = function() {\n        this.$cEditor.focus();\n    };\n    this.blur = function() {\n        this.$cEditor.blur();\n    };\n    this.setTheme = function(theme) {\n        this.$editors.forEach(function(editor) {\n            editor.setTheme(theme);\n        });\n    };\n    this.setKeyboardHandler = function(keybinding) {\n        this.$editors.forEach(function(editor) {\n            editor.setKeyboardHandler(keybinding);\n        });\n    };\n    this.forEach = function(callback, scope) {\n        this.$editors.forEach(callback, scope);\n    };\n\n\n    this.$fontSize = \"\";\n    this.setFontSize = function(size) {\n        this.$fontSize = size;\n        this.forEach(function(editor) {\n           editor.setFontSize(size);\n        });\n    };\n\n    this.$cloneSession = function(session) {\n        var s = new EditSession(session.getDocument(), session.getMode());\n\n        var undoManager = session.getUndoManager();\n        s.setUndoManager(undoManager);\n        s.setTabSize(session.getTabSize());\n        s.setUseSoftTabs(session.getUseSoftTabs());\n        s.setOverwrite(session.getOverwrite());\n        s.setBreakpoints(session.getBreakpoints());\n        s.setUseWrapMode(session.getUseWrapMode());\n        s.setUseWorker(session.getUseWorker());\n        s.setWrapLimitRange(session.$wrapLimitRange.min,\n                            session.$wrapLimitRange.max);\n        s.$foldData = session.$cloneFoldData();\n\n        return s;\n    };\n    this.setSession = function(session, idx) {\n        var editor;\n        if (idx == null) {\n            editor = this.$cEditor;\n        } else {\n            editor = this.$editors[idx];\n        }\n        var isUsed = this.$editors.some(function(editor) {\n           return editor.session === session;\n        });\n\n        if (isUsed) {\n            session = this.$cloneSession(session);\n        }\n        editor.setSession(session);\n        return session;\n    };\n    this.getOrientation = function() {\n        return this.$orientation;\n    };\n    this.setOrientation = function(orientation) {\n        if (this.$orientation == orientation) {\n            return;\n        }\n        this.$orientation = orientation;\n        this.resize();\n    };\n    this.resize = function() {\n        var width = this.$container.clientWidth;\n        var height = this.$container.clientHeight;\n        var editor;\n\n        if (this.$orientation == this.BESIDE) {\n            var editorWidth = width / this.$splits;\n            for (var i = 0; i < this.$splits; i++) {\n                editor = this.$editors[i];\n                editor.container.style.width = editorWidth + \"px\";\n                editor.container.style.top = \"0px\";\n                editor.container.style.left = i * editorWidth + \"px\";\n                editor.container.style.height = height + \"px\";\n                editor.resize();\n            }\n        } else {\n            var editorHeight = height / this.$splits;\n            for (var i = 0; i < this.$splits; i++) {\n                editor = this.$editors[i];\n                editor.container.style.width = width + \"px\";\n                editor.container.style.top = i * editorHeight + \"px\";\n                editor.container.style.left = \"0px\";\n                editor.container.style.height = editorHeight + \"px\";\n                editor.resize();\n            }\n        }\n    };\n\n}).call(Split.prototype);\n\nexports.Split = Split;\n});\n\nace.define(\"ace/ext/split\",[\"require\",\"exports\",\"module\",\"ace/split\"], function(require, exports, module) {\n\"use strict\";\nmodule.exports = require(\"../split\");\n\n});                (function() {\n                    ace.require([\"ace/ext/split\"], function(m) {\n                        if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                            module.exports = m;\n                        }\n                    });\n                })();\n            ","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar editorOptions_1 = require(\"./editorOptions\");\nvar ace = editorOptions_1.getAceInstance();\nvar ace_builds_1 = require(\"ace-builds\");\nvar ext_split_1 = require(\"ace-builds/src-noconflict/ext-split\");\nvar PropTypes = require(\"prop-types\");\nvar React = require(\"react\");\nvar isEqual = require(\"lodash.isequal\");\nvar get = require(\"lodash.get\");\nvar SplitComponent = /** @class */ (function (_super) {\n    __extends(SplitComponent, _super);\n    function SplitComponent(props) {\n        var _this = _super.call(this, props) || this;\n        editorOptions_1.editorEvents.forEach(function (method) {\n            _this[method] = _this[method].bind(_this);\n        });\n        _this.debounce = editorOptions_1.debounce;\n        return _this;\n    }\n    SplitComponent.prototype.isInShadow = function (node) {\n        var parent = node && node.parentNode;\n        while (parent) {\n            if (parent.toString() === \"[object ShadowRoot]\") {\n                return true;\n            }\n            parent = parent.parentNode;\n        }\n        return false;\n    };\n    SplitComponent.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a = this.props, className = _a.className, onBeforeLoad = _a.onBeforeLoad, mode = _a.mode, focus = _a.focus, theme = _a.theme, fontSize = _a.fontSize, value = _a.value, defaultValue = _a.defaultValue, cursorStart = _a.cursorStart, showGutter = _a.showGutter, wrapEnabled = _a.wrapEnabled, showPrintMargin = _a.showPrintMargin, _b = _a.scrollMargin, scrollMargin = _b === void 0 ? [0, 0, 0, 0] : _b, keyboardHandler = _a.keyboardHandler, onLoad = _a.onLoad, commands = _a.commands, annotations = _a.annotations, markers = _a.markers, splits = _a.splits;\n        this.editor = ace.edit(this.refEditor);\n        if (this.isInShadow(this.refEditor)) {\n            this.editor.renderer.attachToShadowRoot();\n        }\n        this.editor.setTheme(\"ace/theme/\" + theme);\n        if (onBeforeLoad) {\n            onBeforeLoad(ace);\n        }\n        var editorProps = Object.keys(this.props.editorProps);\n        var split = new ext_split_1.Split(this.editor.container, \"ace/theme/\" + theme, splits);\n        this.editor.env.split = split;\n        this.splitEditor = split.getEditor(0);\n        this.split = split;\n        // in a split scenario we don't want a print margin for the entire application\n        this.editor.setShowPrintMargin(false);\n        this.editor.renderer.setShowGutter(false);\n        // get a list of possible options to avoid 'misspelled option errors'\n        var availableOptions = this.splitEditor.$options;\n        if (this.props.debounceChangePeriod) {\n            this.onChange = this.debounce(this.onChange, this.props.debounceChangePeriod);\n        }\n        split.forEach(function (editor, index) {\n            for (var i = 0; i < editorProps.length; i++) {\n                editor[editorProps[i]] = _this.props.editorProps[editorProps[i]];\n            }\n            var defaultValueForEditor = get(defaultValue, index);\n            var valueForEditor = get(value, index, \"\");\n            editor.session.setUndoManager(new ace.UndoManager());\n            editor.setTheme(\"ace/theme/\" + theme);\n            editor.renderer.setScrollMargin(scrollMargin[0], scrollMargin[1], scrollMargin[2], scrollMargin[3]);\n            editor.getSession().setMode(\"ace/mode/\" + mode);\n            editor.setFontSize(fontSize);\n            editor.renderer.setShowGutter(showGutter);\n            editor.getSession().setUseWrapMode(wrapEnabled);\n            editor.setShowPrintMargin(showPrintMargin);\n            editor.on(\"focus\", _this.onFocus);\n            editor.on(\"blur\", _this.onBlur);\n            editor.on(\"input\", _this.onInput);\n            editor.on(\"copy\", _this.onCopy);\n            editor.on(\"paste\", _this.onPaste);\n            editor.on(\"change\", _this.onChange);\n            editor\n                .getSession()\n                .selection.on(\"changeSelection\", _this.onSelectionChange);\n            editor.getSession().selection.on(\"changeCursor\", _this.onCursorChange);\n            editor.session.on(\"changeScrollTop\", _this.onScroll);\n            editor.setValue(defaultValueForEditor === undefined\n                ? valueForEditor\n                : defaultValueForEditor, cursorStart);\n            var newAnnotations = get(annotations, index, []);\n            var newMarkers = get(markers, index, []);\n            editor.getSession().setAnnotations(newAnnotations);\n            if (newMarkers && newMarkers.length > 0) {\n                _this.handleMarkers(newMarkers, editor);\n            }\n            for (var i = 0; i < editorOptions_1.editorOptions.length; i++) {\n                var option = editorOptions_1.editorOptions[i];\n                if (availableOptions.hasOwnProperty(option)) {\n                    editor.setOption(option, _this.props[option]);\n                }\n                else if (_this.props[option]) {\n                    console.warn(\"ReaceAce: editor option \" + option + \" was activated but not found. Did you need to import a related tool or did you possibly mispell the option?\");\n                }\n            }\n            _this.handleOptions(_this.props, editor);\n            if (Array.isArray(commands)) {\n                commands.forEach(function (command) {\n                    if (typeof command.exec === \"string\") {\n                        editor.commands.bindKey(command.bindKey, command.exec);\n                    }\n                    else {\n                        editor.commands.addCommand(command);\n                    }\n                });\n            }\n            if (keyboardHandler) {\n                editor.setKeyboardHandler(\"ace/keyboard/\" + keyboardHandler);\n            }\n        });\n        if (className) {\n            this.refEditor.className += \" \" + className;\n        }\n        if (focus) {\n            this.splitEditor.focus();\n        }\n        var sp = this.editor.env.split;\n        sp.setOrientation(this.props.orientation === \"below\" ? sp.BELOW : sp.BESIDE);\n        sp.resize(true);\n        if (onLoad) {\n            onLoad(sp);\n        }\n    };\n    SplitComponent.prototype.componentDidUpdate = function (prevProps) {\n        var _this = this;\n        var oldProps = prevProps;\n        var nextProps = this.props;\n        var split = this.editor.env.split;\n        if (nextProps.splits !== oldProps.splits) {\n            split.setSplits(nextProps.splits);\n        }\n        if (nextProps.orientation !== oldProps.orientation) {\n            split.setOrientation(nextProps.orientation === \"below\" ? split.BELOW : split.BESIDE);\n        }\n        split.forEach(function (editor, index) {\n            if (nextProps.mode !== oldProps.mode) {\n                editor.getSession().setMode(\"ace/mode/\" + nextProps.mode);\n            }\n            if (nextProps.keyboardHandler !== oldProps.keyboardHandler) {\n                if (nextProps.keyboardHandler) {\n                    editor.setKeyboardHandler(\"ace/keyboard/\" + nextProps.keyboardHandler);\n                }\n                else {\n                    editor.setKeyboardHandler(null);\n                }\n            }\n            if (nextProps.fontSize !== oldProps.fontSize) {\n                editor.setFontSize(nextProps.fontSize);\n            }\n            if (nextProps.wrapEnabled !== oldProps.wrapEnabled) {\n                editor.getSession().setUseWrapMode(nextProps.wrapEnabled);\n            }\n            if (nextProps.showPrintMargin !== oldProps.showPrintMargin) {\n                editor.setShowPrintMargin(nextProps.showPrintMargin);\n            }\n            if (nextProps.showGutter !== oldProps.showGutter) {\n                editor.renderer.setShowGutter(nextProps.showGutter);\n            }\n            for (var i = 0; i < editorOptions_1.editorOptions.length; i++) {\n                var option = editorOptions_1.editorOptions[i];\n                if (nextProps[option] !== oldProps[option]) {\n                    editor.setOption(option, nextProps[option]);\n                }\n            }\n            if (!isEqual(nextProps.setOptions, oldProps.setOptions)) {\n                _this.handleOptions(nextProps, editor);\n            }\n            var nextValue = get(nextProps.value, index, \"\");\n            if (editor.getValue() !== nextValue) {\n                // editor.setValue is a synchronous function call, change event is emitted before setValue return.\n                _this.silent = true;\n                var pos = editor.session.selection.toJSON();\n                editor.setValue(nextValue, nextProps.cursorStart);\n                editor.session.selection.fromJSON(pos);\n                _this.silent = false;\n            }\n            var newAnnotations = get(nextProps.annotations, index, []);\n            var oldAnnotations = get(oldProps.annotations, index, []);\n            if (!isEqual(newAnnotations, oldAnnotations)) {\n                editor.getSession().setAnnotations(newAnnotations);\n            }\n            var newMarkers = get(nextProps.markers, index, []);\n            var oldMarkers = get(oldProps.markers, index, []);\n            if (!isEqual(newMarkers, oldMarkers) && Array.isArray(newMarkers)) {\n                _this.handleMarkers(newMarkers, editor);\n            }\n        });\n        if (nextProps.className !== oldProps.className) {\n            var appliedClasses = this.refEditor.className;\n            var appliedClassesArray_1 = appliedClasses.trim().split(\" \");\n            var oldClassesArray = oldProps.className.trim().split(\" \");\n            oldClassesArray.forEach(function (oldClass) {\n                var index = appliedClassesArray_1.indexOf(oldClass);\n                appliedClassesArray_1.splice(index, 1);\n            });\n            this.refEditor.className =\n                \" \" + nextProps.className + \" \" + appliedClassesArray_1.join(\" \");\n        }\n        if (nextProps.theme !== oldProps.theme) {\n            split.setTheme(\"ace/theme/\" + nextProps.theme);\n        }\n        if (nextProps.focus && !oldProps.focus) {\n            this.splitEditor.focus();\n        }\n        if (nextProps.height !== this.props.height ||\n            nextProps.width !== this.props.width) {\n            this.editor.resize();\n        }\n    };\n    SplitComponent.prototype.componentWillUnmount = function () {\n        this.editor.destroy();\n        this.editor = null;\n    };\n    SplitComponent.prototype.onChange = function (event) {\n        if (this.props.onChange && !this.silent) {\n            var value_1 = [];\n            this.editor.env.split.forEach(function (editor) {\n                value_1.push(editor.getValue());\n            });\n            this.props.onChange(value_1, event);\n        }\n    };\n    SplitComponent.prototype.onSelectionChange = function (event) {\n        if (this.props.onSelectionChange) {\n            var value_2 = [];\n            this.editor.env.split.forEach(function (editor) {\n                value_2.push(editor.getSelection());\n            });\n            this.props.onSelectionChange(value_2, event);\n        }\n    };\n    SplitComponent.prototype.onCursorChange = function (event) {\n        if (this.props.onCursorChange) {\n            var value_3 = [];\n            this.editor.env.split.forEach(function (editor) {\n                value_3.push(editor.getSelection());\n            });\n            this.props.onCursorChange(value_3, event);\n        }\n    };\n    SplitComponent.prototype.onFocus = function (event) {\n        if (this.props.onFocus) {\n            this.props.onFocus(event);\n        }\n    };\n    SplitComponent.prototype.onInput = function (event) {\n        if (this.props.onInput) {\n            this.props.onInput(event);\n        }\n    };\n    SplitComponent.prototype.onBlur = function (event) {\n        if (this.props.onBlur) {\n            this.props.onBlur(event);\n        }\n    };\n    SplitComponent.prototype.onCopy = function (text) {\n        if (this.props.onCopy) {\n            this.props.onCopy(text);\n        }\n    };\n    SplitComponent.prototype.onPaste = function (text) {\n        if (this.props.onPaste) {\n            this.props.onPaste(text);\n        }\n    };\n    SplitComponent.prototype.onScroll = function () {\n        if (this.props.onScroll) {\n            this.props.onScroll(this.editor);\n        }\n    };\n    SplitComponent.prototype.handleOptions = function (props, editor) {\n        var setOptions = Object.keys(props.setOptions);\n        for (var y = 0; y < setOptions.length; y++) {\n            editor.setOption(setOptions[y], props.setOptions[setOptions[y]]);\n        }\n    };\n    SplitComponent.prototype.handleMarkers = function (markers, editor) {\n        // remove foreground markers\n        var currentMarkers = editor.getSession().getMarkers(true);\n        for (var i in currentMarkers) {\n            if (currentMarkers.hasOwnProperty(i)) {\n                editor.getSession().removeMarker(currentMarkers[i].id);\n            }\n        }\n        // remove background markers\n        currentMarkers = editor.getSession().getMarkers(false);\n        for (var i in currentMarkers) {\n            if (currentMarkers.hasOwnProperty(i)) {\n                editor.getSession().removeMarker(currentMarkers[i].id);\n            }\n        }\n        // add new markers\n        markers.forEach(function (_a) {\n            var startRow = _a.startRow, startCol = _a.startCol, endRow = _a.endRow, endCol = _a.endCol, className = _a.className, type = _a.type, _b = _a.inFront, inFront = _b === void 0 ? false : _b;\n            var range = new ace_builds_1.Range(startRow, startCol, endRow, endCol);\n            editor\n                .getSession()\n                .addMarker(range, className, type, inFront);\n        });\n    };\n    SplitComponent.prototype.updateRef = function (item) {\n        this.refEditor = item;\n    };\n    SplitComponent.prototype.render = function () {\n        var _a = this.props, name = _a.name, width = _a.width, height = _a.height, style = _a.style;\n        var divStyle = __assign({ width: width, height: height }, style);\n        return React.createElement(\"div\", { ref: this.updateRef, id: name, style: divStyle });\n    };\n    SplitComponent.propTypes = {\n        className: PropTypes.string,\n        debounceChangePeriod: PropTypes.number,\n        defaultValue: PropTypes.arrayOf(PropTypes.string),\n        focus: PropTypes.bool,\n        fontSize: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n        height: PropTypes.string,\n        mode: PropTypes.string,\n        name: PropTypes.string,\n        onBlur: PropTypes.func,\n        onChange: PropTypes.func,\n        onCopy: PropTypes.func,\n        onFocus: PropTypes.func,\n        onInput: PropTypes.func,\n        onLoad: PropTypes.func,\n        onPaste: PropTypes.func,\n        onScroll: PropTypes.func,\n        orientation: PropTypes.string,\n        showGutter: PropTypes.bool,\n        splits: PropTypes.number,\n        theme: PropTypes.string,\n        value: PropTypes.arrayOf(PropTypes.string),\n        width: PropTypes.string,\n        onSelectionChange: PropTypes.func,\n        onCursorChange: PropTypes.func,\n        onBeforeLoad: PropTypes.func,\n        minLines: PropTypes.number,\n        maxLines: PropTypes.number,\n        readOnly: PropTypes.bool,\n        highlightActiveLine: PropTypes.bool,\n        tabSize: PropTypes.number,\n        showPrintMargin: PropTypes.bool,\n        cursorStart: PropTypes.number,\n        editorProps: PropTypes.object,\n        setOptions: PropTypes.object,\n        style: PropTypes.object,\n        scrollMargin: PropTypes.array,\n        annotations: PropTypes.array,\n        markers: PropTypes.array,\n        keyboardHandler: PropTypes.string,\n        wrapEnabled: PropTypes.bool,\n        enableBasicAutocompletion: PropTypes.oneOfType([\n            PropTypes.bool,\n            PropTypes.array\n        ]),\n        enableLiveAutocompletion: PropTypes.oneOfType([\n            PropTypes.bool,\n            PropTypes.array\n        ]),\n        commands: PropTypes.array\n    };\n    SplitComponent.defaultProps = {\n        name: \"ace-editor\",\n        focus: false,\n        orientation: \"beside\",\n        splits: 2,\n        mode: \"\",\n        theme: \"\",\n        height: \"500px\",\n        width: \"500px\",\n        value: [],\n        fontSize: 12,\n        showGutter: true,\n        onChange: null,\n        onPaste: null,\n        onLoad: null,\n        onScroll: null,\n        minLines: null,\n        maxLines: null,\n        readOnly: false,\n        highlightActiveLine: true,\n        showPrintMargin: true,\n        tabSize: 4,\n        cursorStart: 1,\n        editorProps: {},\n        style: {},\n        scrollMargin: [0, 0, 0, 0],\n        setOptions: {},\n        wrapEnabled: false,\n        enableBasicAutocompletion: false,\n        enableLiveAutocompletion: false\n    };\n    return SplitComponent;\n}(React.Component));\nexports.default = SplitComponent;\n//# sourceMappingURL=split.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PropTypes = require(\"prop-types\");\nvar React = require(\"react\");\nvar split_1 = require(\"./split\");\nvar DiffMatchPatch = require(\"diff-match-patch\");\nvar DiffComponent = /** @class */ (function (_super) {\n    __extends(DiffComponent, _super);\n    function DiffComponent(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            value: _this.props.value\n        };\n        _this.onChange = _this.onChange.bind(_this);\n        _this.diff = _this.diff.bind(_this);\n        return _this;\n    }\n    DiffComponent.prototype.componentDidUpdate = function () {\n        var value = this.props.value;\n        if (value !== this.state.value) {\n            this.setState({ value: value });\n        }\n    };\n    DiffComponent.prototype.onChange = function (value) {\n        this.setState({\n            value: value\n        });\n        if (this.props.onChange) {\n            this.props.onChange(value);\n        }\n    };\n    DiffComponent.prototype.diff = function () {\n        var dmp = new DiffMatchPatch();\n        var lhString = this.state.value[0];\n        var rhString = this.state.value[1];\n        if (lhString.length === 0 && rhString.length === 0) {\n            return [];\n        }\n        var diff = dmp.diff_main(lhString, rhString);\n        dmp.diff_cleanupSemantic(diff);\n        var diffedLines = this.generateDiffedLines(diff);\n        var codeEditorSettings = this.setCodeMarkers(diffedLines);\n        return codeEditorSettings;\n    };\n    DiffComponent.prototype.generateDiffedLines = function (diff) {\n        var C = {\n            DIFF_EQUAL: 0,\n            DIFF_DELETE: -1,\n            DIFF_INSERT: 1\n        };\n        var diffedLines = {\n            left: [],\n            right: []\n        };\n        var cursor = {\n            left: 1,\n            right: 1\n        };\n        diff.forEach(function (chunk) {\n            var chunkType = chunk[0];\n            var text = chunk[1];\n            var lines = text.split(\"\\n\").length - 1;\n            // diff-match-patch sometimes returns empty strings at random\n            if (text.length === 0) {\n                return;\n            }\n            var firstChar = text[0];\n            var lastChar = text[text.length - 1];\n            var linesToHighlight = 0;\n            switch (chunkType) {\n                case C.DIFF_EQUAL:\n                    cursor.left += lines;\n                    cursor.right += lines;\n                    break;\n                case C.DIFF_DELETE:\n                    // If the deletion starts with a newline, push the cursor down to that line\n                    if (firstChar === \"\\n\") {\n                        cursor.left++;\n                        lines--;\n                    }\n                    linesToHighlight = lines;\n                    // If the deletion does not include a newline, highlight the same line on the right\n                    if (linesToHighlight === 0) {\n                        diffedLines.right.push({\n                            startLine: cursor.right,\n                            endLine: cursor.right\n                        });\n                    }\n                    // If the last character is a newline, we don't want to highlight that line\n                    if (lastChar === \"\\n\") {\n                        linesToHighlight -= 1;\n                    }\n                    diffedLines.left.push({\n                        startLine: cursor.left,\n                        endLine: cursor.left + linesToHighlight\n                    });\n                    cursor.left += lines;\n                    break;\n                case C.DIFF_INSERT:\n                    // If the insertion starts with a newline, push the cursor down to that line\n                    if (firstChar === \"\\n\") {\n                        cursor.right++;\n                        lines--;\n                    }\n                    linesToHighlight = lines;\n                    // If the insertion does not include a newline, highlight the same line on the left\n                    if (linesToHighlight === 0) {\n                        diffedLines.left.push({\n                            startLine: cursor.left,\n                            endLine: cursor.left\n                        });\n                    }\n                    // If the last character is a newline, we don't want to highlight that line\n                    if (lastChar === \"\\n\") {\n                        linesToHighlight -= 1;\n                    }\n                    diffedLines.right.push({\n                        startLine: cursor.right,\n                        endLine: cursor.right + linesToHighlight\n                    });\n                    cursor.right += lines;\n                    break;\n                default:\n                    throw new Error(\"Diff type was not defined.\");\n            }\n        });\n        return diffedLines;\n    };\n    // Receives a collection of line numbers and iterates through them to highlight appropriately\n    // Returns an object that tells the render() method how to display the code editors\n    DiffComponent.prototype.setCodeMarkers = function (diffedLines) {\n        if (diffedLines === void 0) { diffedLines = { left: [], right: [] }; }\n        var codeEditorSettings = [];\n        var newMarkerSet = {\n            left: [],\n            right: []\n        };\n        for (var i = 0; i < diffedLines.left.length; i++) {\n            var markerObj = {\n                startRow: diffedLines.left[i].startLine - 1,\n                endRow: diffedLines.left[i].endLine,\n                type: \"text\",\n                className: \"codeMarker\"\n            };\n            newMarkerSet.left.push(markerObj);\n        }\n        for (var i = 0; i < diffedLines.right.length; i++) {\n            var markerObj = {\n                startRow: diffedLines.right[i].startLine - 1,\n                endRow: diffedLines.right[i].endLine,\n                type: \"text\",\n                className: \"codeMarker\"\n            };\n            newMarkerSet.right.push(markerObj);\n        }\n        codeEditorSettings[0] = newMarkerSet.left;\n        codeEditorSettings[1] = newMarkerSet.right;\n        return codeEditorSettings;\n    };\n    DiffComponent.prototype.render = function () {\n        var markers = this.diff();\n        return (React.createElement(split_1.default, { name: this.props.name, className: this.props.className, focus: this.props.focus, orientation: this.props.orientation, splits: this.props.splits, mode: this.props.mode, theme: this.props.theme, height: this.props.height, width: this.props.width, fontSize: this.props.fontSize, showGutter: this.props.showGutter, onChange: this.onChange, onPaste: this.props.onPaste, onLoad: this.props.onLoad, onScroll: this.props.onScroll, minLines: this.props.minLines, maxLines: this.props.maxLines, readOnly: this.props.readOnly, highlightActiveLine: this.props.highlightActiveLine, showPrintMargin: this.props.showPrintMargin, tabSize: this.props.tabSize, cursorStart: this.props.cursorStart, editorProps: this.props.editorProps, style: this.props.style, scrollMargin: this.props.scrollMargin, setOptions: this.props.setOptions, wrapEnabled: this.props.wrapEnabled, enableBasicAutocompletion: this.props.enableBasicAutocompletion, enableLiveAutocompletion: this.props.enableLiveAutocompletion, value: this.state.value, markers: markers }));\n    };\n    DiffComponent.propTypes = {\n        cursorStart: PropTypes.number,\n        editorProps: PropTypes.object,\n        enableBasicAutocompletion: PropTypes.bool,\n        enableLiveAutocompletion: PropTypes.bool,\n        focus: PropTypes.bool,\n        fontSize: PropTypes.number,\n        height: PropTypes.string,\n        highlightActiveLine: PropTypes.bool,\n        maxLines: PropTypes.number,\n        minLines: PropTypes.number,\n        mode: PropTypes.string,\n        name: PropTypes.string,\n        className: PropTypes.string,\n        onLoad: PropTypes.func,\n        onPaste: PropTypes.func,\n        onScroll: PropTypes.func,\n        onChange: PropTypes.func,\n        orientation: PropTypes.string,\n        readOnly: PropTypes.bool,\n        scrollMargin: PropTypes.array,\n        setOptions: PropTypes.object,\n        showGutter: PropTypes.bool,\n        showPrintMargin: PropTypes.bool,\n        splits: PropTypes.number,\n        style: PropTypes.object,\n        tabSize: PropTypes.number,\n        theme: PropTypes.string,\n        value: PropTypes.array,\n        width: PropTypes.string,\n        wrapEnabled: PropTypes.bool\n    };\n    DiffComponent.defaultProps = {\n        cursorStart: 1,\n        editorProps: {},\n        enableBasicAutocompletion: false,\n        enableLiveAutocompletion: false,\n        focus: false,\n        fontSize: 12,\n        height: \"500px\",\n        highlightActiveLine: true,\n        maxLines: null,\n        minLines: null,\n        mode: \"\",\n        name: \"ace-editor\",\n        onLoad: null,\n        onScroll: null,\n        onPaste: null,\n        onChange: null,\n        orientation: \"beside\",\n        readOnly: false,\n        scrollMargin: [0, 0, 0, 0],\n        setOptions: {},\n        showGutter: true,\n        showPrintMargin: true,\n        splits: 2,\n        style: {},\n        tabSize: 4,\n        theme: \"github\",\n        value: [\"\", \"\"],\n        width: \"500px\",\n        wrapEnabled: true\n    };\n    return DiffComponent;\n}(React.Component));\nexports.default = DiffComponent;\n//# sourceMappingURL=diff.js.map","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEqual;\n","/**\n * Diff Match and Patch\n * Copyright 2018 The diff-match-patch Authors.\n * https://github.com/google/diff-match-patch\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Computes the difference between two texts to create a patch.\n * Applies the patch onto another text, allowing for errors.\n * @author fraser@google.com (Neil Fraser)\n */\n\n/**\n * Class containing the diff, match and patch methods.\n * @constructor\n */\nvar diff_match_patch = function() {\n\n  // Defaults.\n  // Redefine these in your program to override the defaults.\n\n  // Number of seconds to map a diff before giving up (0 for infinity).\n  this.Diff_Timeout = 1.0;\n  // Cost of an empty edit operation in terms of edit characters.\n  this.Diff_EditCost = 4;\n  // At what point is no match declared (0.0 = perfection, 1.0 = very loose).\n  this.Match_Threshold = 0.5;\n  // How far to search for a match (0 = exact location, 1000+ = broad match).\n  // A match this many characters away from the expected location will add\n  // 1.0 to the score (0.0 is a perfect match).\n  this.Match_Distance = 1000;\n  // When deleting a large block of text (over ~64 characters), how close do\n  // the contents have to be to match the expected contents. (0.0 = perfection,\n  // 1.0 = very loose).  Note that Match_Threshold controls how closely the\n  // end points of a delete need to match.\n  this.Patch_DeleteThreshold = 0.5;\n  // Chunk size for context length.\n  this.Patch_Margin = 4;\n\n  // The number of bits in an int.\n  this.Match_MaxBits = 32;\n};\n\n\n//  DIFF FUNCTIONS\n\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n\n/**\n * Class representing one diff tuple.\n * ~Attempts to look like a two-element array (which is what this used to be).~\n * Constructor returns an actual two-element array, to allow destructing @JackuB\n * See https://github.com/JackuB/diff-match-patch/issues/14 for details\n * @param {number} op Operation, one of: DIFF_DELETE, DIFF_INSERT, DIFF_EQUAL.\n * @param {string} text Text to be deleted, inserted, or retained.\n * @constructor\n */\ndiff_match_patch.Diff = function(op, text) {\n  return [op, text];\n};\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean=} opt_checklines Optional speedup flag. If present and false,\n *     then don't run a line-level diff first to identify the changed areas.\n *     Defaults to true, which does a faster, slightly less optimal diff.\n * @param {number=} opt_deadline Optional time when the diff should be complete\n *     by.  Used internally for recursive calls.  Users should set DiffTimeout\n *     instead.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_main = function(text1, text2, opt_checklines,\n    opt_deadline) {\n  // Set a deadline by which time the diff must be complete.\n  if (typeof opt_deadline == 'undefined') {\n    if (this.Diff_Timeout <= 0) {\n      opt_deadline = Number.MAX_VALUE;\n    } else {\n      opt_deadline = (new Date).getTime() + this.Diff_Timeout * 1000;\n    }\n  }\n  var deadline = opt_deadline;\n\n  // Check for null inputs.\n  if (text1 == null || text2 == null) {\n    throw new Error('Null input. (diff_main)');\n  }\n\n  // Check for equality (speedup).\n  if (text1 == text2) {\n    if (text1) {\n      return [new diff_match_patch.Diff(DIFF_EQUAL, text1)];\n    }\n    return [];\n  }\n\n  if (typeof opt_checklines == 'undefined') {\n    opt_checklines = true;\n  }\n  var checklines = opt_checklines;\n\n  // Trim off common prefix (speedup).\n  var commonlength = this.diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n\n  // Trim off common suffix (speedup).\n  commonlength = this.diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n\n  // Compute the diff on the middle block.\n  var diffs = this.diff_compute_(text1, text2, checklines, deadline);\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, commonprefix));\n  }\n  if (commonsuffix) {\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, commonsuffix));\n  }\n  this.diff_cleanupMerge(diffs);\n  return diffs;\n};\n\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean} checklines Speedup flag.  If false, then don't run a\n *     line-level diff first to identify the changed areas.\n *     If true, then run a faster, slightly less optimal diff.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_compute_ = function(text1, text2, checklines,\n    deadline) {\n  var diffs;\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1)];\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n  if (i != -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [new diff_match_patch.Diff(DIFF_INSERT, longtext.substring(0, i)),\n             new diff_match_patch.Diff(DIFF_EQUAL, shorttext),\n             new diff_match_patch.Diff(DIFF_INSERT,\n                 longtext.substring(i + shorttext.length))];\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n\n  if (shorttext.length == 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1),\n            new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n\n  // Check to see if the problem can be split in two.\n  var hm = this.diff_halfMatch_(text1, text2);\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4];\n    // Send both pairs off for separate processing.\n    var diffs_a = this.diff_main(text1_a, text2_a, checklines, deadline);\n    var diffs_b = this.diff_main(text1_b, text2_b, checklines, deadline);\n    // Merge the results.\n    return diffs_a.concat([new diff_match_patch.Diff(DIFF_EQUAL, mid_common)],\n                          diffs_b);\n  }\n\n  if (checklines && text1.length > 100 && text2.length > 100) {\n    return this.diff_lineMode_(text1, text2, deadline);\n  }\n\n  return this.diff_bisect_(text1, text2, deadline);\n};\n\n\n/**\n * Do a quick line-level diff on both strings, then rediff the parts for\n * greater accuracy.\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_lineMode_ = function(text1, text2, deadline) {\n  // Scan the text on a line-by-line basis first.\n  var a = this.diff_linesToChars_(text1, text2);\n  text1 = a.chars1;\n  text2 = a.chars2;\n  var linearray = a.lineArray;\n\n  var diffs = this.diff_main(text1, text2, false, deadline);\n\n  // Convert the diff back to original text.\n  this.diff_charsToLines_(diffs, linearray);\n  // Eliminate freak matches (e.g. blank lines)\n  this.diff_cleanupSemantic(diffs);\n\n  // Rediff any replacement blocks, this time character-by-character.\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete >= 1 && count_insert >= 1) {\n          // Delete the offending records and add the merged ones.\n          diffs.splice(pointer - count_delete - count_insert,\n                       count_delete + count_insert);\n          pointer = pointer - count_delete - count_insert;\n          var subDiff =\n              this.diff_main(text_delete, text_insert, false, deadline);\n          for (var j = subDiff.length - 1; j >= 0; j--) {\n            diffs.splice(pointer, 0, subDiff[j]);\n          }\n          pointer = pointer + subDiff.length;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n    pointer++;\n  }\n  diffs.pop();  // Remove the dummy entry at the end.\n\n  return diffs;\n};\n\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_bisect_ = function(text1, text2, deadline) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length);\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length;\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  var front = (delta % 2 != 0);\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n  for (var d = 0; d < max_d; d++) {\n    // Bail out if deadline is reached.\n    if ((new Date()).getTime() > deadline) {\n      break;\n    }\n\n    // Walk the front path one step.\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n      if (k1 == -d || (k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n      var y1 = x1 - k1;\n      while (x1 < text1_length && y1 < text2_length &&\n             text1.charAt(x1) == text2.charAt(y1)) {\n        x1++;\n        y1++;\n      }\n      v1[k1_offset] = x1;\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n      if (k2 == -d || (k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n      var y2 = x2 - k2;\n      while (x2 < text1_length && y2 < text2_length &&\n             text1.charAt(text1_length - x2 - 1) ==\n             text2.charAt(text2_length - y2 - 1)) {\n        x2++;\n        y2++;\n      }\n      v2[k2_offset] = x2;\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset;\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1_length - x2;\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n  }\n  // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n  return [new diff_match_patch.Diff(DIFF_DELETE, text1),\n          new diff_match_patch.Diff(DIFF_INSERT, text2)];\n};\n\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_bisectSplit_ = function(text1, text2, x, y,\n    deadline) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y);\n\n  // Compute both diffs serially.\n  var diffs = this.diff_main(text1a, text2a, false, deadline);\n  var diffsb = this.diff_main(text1b, text2b, false, deadline);\n\n  return diffs.concat(diffsb);\n};\n\n\n/**\n * Split two texts into an array of strings.  Reduce the texts to a string of\n * hashes where each Unicode character represents one line.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {{chars1: string, chars2: string, lineArray: !Array.<string>}}\n *     An object containing the encoded text1, the encoded text2 and\n *     the array of unique strings.\n *     The zeroth element of the array of unique strings is intentionally blank.\n * @private\n */\ndiff_match_patch.prototype.diff_linesToChars_ = function(text1, text2) {\n  var lineArray = [];  // e.g. lineArray[4] == 'Hello\\n'\n  var lineHash = {};   // e.g. lineHash['Hello\\n'] == 4\n\n  // '\\x00' is a valid character, but various debuggers don't like it.\n  // So we'll insert a junk entry to avoid generating a null character.\n  lineArray[0] = '';\n\n  /**\n   * Split a text into an array of strings.  Reduce the texts to a string of\n   * hashes where each Unicode character represents one line.\n   * Modifies linearray and linehash through being a closure.\n   * @param {string} text String to encode.\n   * @return {string} Encoded string.\n   * @private\n   */\n  function diff_linesToCharsMunge_(text) {\n    var chars = '';\n    // Walk the text, pulling out a substring for each line.\n    // text.split('\\n') would would temporarily double our memory footprint.\n    // Modifying text would create many large strings to garbage collect.\n    var lineStart = 0;\n    var lineEnd = -1;\n    // Keeping our own length variable is faster than looking it up.\n    var lineArrayLength = lineArray.length;\n    while (lineEnd < text.length - 1) {\n      lineEnd = text.indexOf('\\n', lineStart);\n      if (lineEnd == -1) {\n        lineEnd = text.length - 1;\n      }\n      var line = text.substring(lineStart, lineEnd + 1);\n\n      if (lineHash.hasOwnProperty ? lineHash.hasOwnProperty(line) :\n          (lineHash[line] !== undefined)) {\n        chars += String.fromCharCode(lineHash[line]);\n      } else {\n        if (lineArrayLength == maxLines) {\n          // Bail out at 65535 because\n          // String.fromCharCode(65536) == String.fromCharCode(0)\n          line = text.substring(lineStart);\n          lineEnd = text.length;\n        }\n        chars += String.fromCharCode(lineArrayLength);\n        lineHash[line] = lineArrayLength;\n        lineArray[lineArrayLength++] = line;\n      }\n      lineStart = lineEnd + 1;\n    }\n    return chars;\n  }\n  // Allocate 2/3rds of the space for text1, the rest for text2.\n  var maxLines = 40000;\n  var chars1 = diff_linesToCharsMunge_(text1);\n  maxLines = 65535;\n  var chars2 = diff_linesToCharsMunge_(text2);\n  return {chars1: chars1, chars2: chars2, lineArray: lineArray};\n};\n\n\n/**\n * Rehydrate the text in a diff from a string of line hashes to real lines of\n * text.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {!Array.<string>} lineArray Array of unique strings.\n * @private\n */\ndiff_match_patch.prototype.diff_charsToLines_ = function(diffs, lineArray) {\n  for (var i = 0; i < diffs.length; i++) {\n    var chars = diffs[i][1];\n    var text = [];\n    for (var j = 0; j < chars.length; j++) {\n      text[j] = lineArray[chars.charCodeAt(j)];\n    }\n    diffs[i][1] = text.join('');\n  }\n};\n\n\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\ndiff_match_patch.prototype.diff_commonPrefix = function(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(pointerstart, pointermid) ==\n        text2.substring(pointerstart, pointermid)) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\ndiff_match_patch.prototype.diff_commonSuffix = function(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 ||\n      text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) ==\n        text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine if the suffix of one string is the prefix of another.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of the first\n *     string and the start of the second string.\n * @private\n */\ndiff_match_patch.prototype.diff_commonOverlap_ = function(text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  // Eliminate the null case.\n  if (text1_length == 0 || text2_length == 0) {\n    return 0;\n  }\n  // Truncate the longer string.\n  if (text1_length > text2_length) {\n    text1 = text1.substring(text1_length - text2_length);\n  } else if (text1_length < text2_length) {\n    text2 = text2.substring(0, text1_length);\n  }\n  var text_length = Math.min(text1_length, text2_length);\n  // Quick check for the worst case.\n  if (text1 == text2) {\n    return text_length;\n  }\n\n  // Start by looking for a single character match\n  // and increase length until no match is found.\n  // Performance analysis: https://neil.fraser.name/news/2010/11/04/\n  var best = 0;\n  var length = 1;\n  while (true) {\n    var pattern = text1.substring(text_length - length);\n    var found = text2.indexOf(pattern);\n    if (found == -1) {\n      return best;\n    }\n    length += found;\n    if (found == 0 || text1.substring(text_length - length) ==\n        text2.substring(0, length)) {\n      best = length;\n      length++;\n    }\n  }\n};\n\n\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n * @private\n */\ndiff_match_patch.prototype.diff_halfMatch_ = function(text1, text2) {\n  if (this.Diff_Timeout <= 0) {\n    // Don't risk returning a non-optimal diff if we have unlimited time.\n    return null;\n  }\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null;  // Pointless.\n  }\n  var dmp = this;  // 'this' becomes 'window' in a closure.\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n      var prefixLength = dmp.diff_commonPrefix(longtext.substring(i),\n                                               shorttext.substring(j));\n      var suffixLength = dmp.diff_commonSuffix(longtext.substring(0, i),\n                                               shorttext.substring(0, j));\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(j - suffixLength, j) +\n            shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n    if (best_common.length * 2 >= longtext.length) {\n      return [best_longtext_a, best_longtext_b,\n              best_shorttext_a, best_shorttext_b, best_common];\n    } else {\n      return null;\n    }\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  var hm1 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 4));\n  // Check again based on the third quarter.\n  var hm2 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 2));\n  var hm;\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  }\n\n  // A half-match was found, sort out the return data.\n  var text1_a, text1_b, text2_a, text2_b;\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n\n\n/**\n * Reduce the number of edits by eliminating semantically trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupSemantic = function(diffs) {\n  var changes = false;\n  var equalities = [];  // Stack of indices where equalities are found.\n  var equalitiesLength = 0;  // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  var lastEquality = null;\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  var pointer = 0;  // Index of current position.\n  // Number of characters that changed prior to the equality.\n  var length_insertions1 = 0;\n  var length_deletions1 = 0;\n  // Number of characters that changed after the equality.\n  var length_insertions2 = 0;\n  var length_deletions2 = 0;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {  // Equality found.\n      equalities[equalitiesLength++] = pointer;\n      length_insertions1 = length_insertions2;\n      length_deletions1 = length_deletions2;\n      length_insertions2 = 0;\n      length_deletions2 = 0;\n      lastEquality = diffs[pointer][1];\n    } else {  // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_INSERT) {\n        length_insertions2 += diffs[pointer][1].length;\n      } else {\n        length_deletions2 += diffs[pointer][1].length;\n      }\n      // Eliminate an equality that is smaller or equal to the edits on both\n      // sides of it.\n      if (lastEquality && (lastEquality.length <=\n          Math.max(length_insertions1, length_deletions1)) &&\n          (lastEquality.length <= Math.max(length_insertions2,\n                                           length_deletions2))) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0,\n                     new diff_match_patch.Diff(DIFF_DELETE, lastEquality));\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        // Throw away the equality we just deleted.\n        equalitiesLength--;\n        // Throw away the previous equality (it needs to be reevaluated).\n        equalitiesLength--;\n        pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\n        length_insertions1 = 0;  // Reset the counters.\n        length_deletions1 = 0;\n        length_insertions2 = 0;\n        length_deletions2 = 0;\n        lastEquality = null;\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n\n  // Normalize the diff.\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n  this.diff_cleanupSemanticLossless(diffs);\n\n  // Find any overlaps between deletions and insertions.\n  // e.g: <del>abcxxx</del><ins>xxxdef</ins>\n  //   -> <del>abc</del>xxx<ins>def</ins>\n  // e.g: <del>xxxabc</del><ins>defxxx</ins>\n  //   -> <ins>def</ins>xxx<del>abc</del>\n  // Only extract an overlap if it is as big as the edit ahead or behind it.\n  pointer = 1;\n  while (pointer < diffs.length) {\n    if (diffs[pointer - 1][0] == DIFF_DELETE &&\n        diffs[pointer][0] == DIFF_INSERT) {\n      var deletion = diffs[pointer - 1][1];\n      var insertion = diffs[pointer][1];\n      var overlap_length1 = this.diff_commonOverlap_(deletion, insertion);\n      var overlap_length2 = this.diff_commonOverlap_(insertion, deletion);\n      if (overlap_length1 >= overlap_length2) {\n        if (overlap_length1 >= deletion.length / 2 ||\n            overlap_length1 >= insertion.length / 2) {\n          // Overlap found.  Insert an equality and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n              insertion.substring(0, overlap_length1)));\n          diffs[pointer - 1][1] =\n              deletion.substring(0, deletion.length - overlap_length1);\n          diffs[pointer + 1][1] = insertion.substring(overlap_length1);\n          pointer++;\n        }\n      } else {\n        if (overlap_length2 >= deletion.length / 2 ||\n            overlap_length2 >= insertion.length / 2) {\n          // Reverse overlap found.\n          // Insert an equality and swap and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n              deletion.substring(0, overlap_length2)));\n          diffs[pointer - 1][0] = DIFF_INSERT;\n          diffs[pointer - 1][1] =\n              insertion.substring(0, insertion.length - overlap_length2);\n          diffs[pointer + 1][0] = DIFF_DELETE;\n          diffs[pointer + 1][1] =\n              deletion.substring(overlap_length2);\n          pointer++;\n        }\n      }\n      pointer++;\n    }\n    pointer++;\n  }\n};\n\n\n/**\n * Look for single edits surrounded on both sides by equalities\n * which can be shifted sideways to align the edit to a word boundary.\n * e.g: The c<ins>at c</ins>ame. -> The <ins>cat </ins>came.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupSemanticLossless = function(diffs) {\n  /**\n   * Given two strings, compute a score representing whether the internal\n   * boundary falls on logical boundaries.\n   * Scores range from 6 (best) to 0 (worst).\n   * Closure, but does not reference any external variables.\n   * @param {string} one First string.\n   * @param {string} two Second string.\n   * @return {number} The score.\n   * @private\n   */\n  function diff_cleanupSemanticScore_(one, two) {\n    if (!one || !two) {\n      // Edges are the best.\n      return 6;\n    }\n\n    // Each port of this function behaves slightly differently due to\n    // subtle differences in each language's definition of things like\n    // 'whitespace'.  Since this function's purpose is largely cosmetic,\n    // the choice has been made to use each language's native features\n    // rather than force total conformity.\n    var char1 = one.charAt(one.length - 1);\n    var char2 = two.charAt(0);\n    var nonAlphaNumeric1 = char1.match(diff_match_patch.nonAlphaNumericRegex_);\n    var nonAlphaNumeric2 = char2.match(diff_match_patch.nonAlphaNumericRegex_);\n    var whitespace1 = nonAlphaNumeric1 &&\n        char1.match(diff_match_patch.whitespaceRegex_);\n    var whitespace2 = nonAlphaNumeric2 &&\n        char2.match(diff_match_patch.whitespaceRegex_);\n    var lineBreak1 = whitespace1 &&\n        char1.match(diff_match_patch.linebreakRegex_);\n    var lineBreak2 = whitespace2 &&\n        char2.match(diff_match_patch.linebreakRegex_);\n    var blankLine1 = lineBreak1 &&\n        one.match(diff_match_patch.blanklineEndRegex_);\n    var blankLine2 = lineBreak2 &&\n        two.match(diff_match_patch.blanklineStartRegex_);\n\n    if (blankLine1 || blankLine2) {\n      // Five points for blank lines.\n      return 5;\n    } else if (lineBreak1 || lineBreak2) {\n      // Four points for line breaks.\n      return 4;\n    } else if (nonAlphaNumeric1 && !whitespace1 && whitespace2) {\n      // Three points for end of sentences.\n      return 3;\n    } else if (whitespace1 || whitespace2) {\n      // Two points for whitespace.\n      return 2;\n    } else if (nonAlphaNumeric1 || nonAlphaNumeric2) {\n      // One point for non-alphanumeric.\n      return 1;\n    }\n    return 0;\n  }\n\n  var pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      var equality1 = diffs[pointer - 1][1];\n      var edit = diffs[pointer][1];\n      var equality2 = diffs[pointer + 1][1];\n\n      // First, shift the edit as far left as possible.\n      var commonOffset = this.diff_commonSuffix(equality1, edit);\n      if (commonOffset) {\n        var commonString = edit.substring(edit.length - commonOffset);\n        equality1 = equality1.substring(0, equality1.length - commonOffset);\n        edit = commonString + edit.substring(0, edit.length - commonOffset);\n        equality2 = commonString + equality2;\n      }\n\n      // Second, step character by character right, looking for the best fit.\n      var bestEquality1 = equality1;\n      var bestEdit = edit;\n      var bestEquality2 = equality2;\n      var bestScore = diff_cleanupSemanticScore_(equality1, edit) +\n          diff_cleanupSemanticScore_(edit, equality2);\n      while (edit.charAt(0) === equality2.charAt(0)) {\n        equality1 += edit.charAt(0);\n        edit = edit.substring(1) + equality2.charAt(0);\n        equality2 = equality2.substring(1);\n        var score = diff_cleanupSemanticScore_(equality1, edit) +\n            diff_cleanupSemanticScore_(edit, equality2);\n        // The >= encourages trailing rather than leading whitespace on edits.\n        if (score >= bestScore) {\n          bestScore = score;\n          bestEquality1 = equality1;\n          bestEdit = edit;\n          bestEquality2 = equality2;\n        }\n      }\n\n      if (diffs[pointer - 1][1] != bestEquality1) {\n        // We have an improvement, save it back to the diff.\n        if (bestEquality1) {\n          diffs[pointer - 1][1] = bestEquality1;\n        } else {\n          diffs.splice(pointer - 1, 1);\n          pointer--;\n        }\n        diffs[pointer][1] = bestEdit;\n        if (bestEquality2) {\n          diffs[pointer + 1][1] = bestEquality2;\n        } else {\n          diffs.splice(pointer + 1, 1);\n          pointer--;\n        }\n      }\n    }\n    pointer++;\n  }\n};\n\n// Define some regex patterns for matching boundaries.\ndiff_match_patch.nonAlphaNumericRegex_ = /[^a-zA-Z0-9]/;\ndiff_match_patch.whitespaceRegex_ = /\\s/;\ndiff_match_patch.linebreakRegex_ = /[\\r\\n]/;\ndiff_match_patch.blanklineEndRegex_ = /\\n\\r?\\n$/;\ndiff_match_patch.blanklineStartRegex_ = /^\\r?\\n\\r?\\n/;\n\n/**\n * Reduce the number of edits by eliminating operationally trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupEfficiency = function(diffs) {\n  var changes = false;\n  var equalities = [];  // Stack of indices where equalities are found.\n  var equalitiesLength = 0;  // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  var lastEquality = null;\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  var pointer = 0;  // Index of current position.\n  // Is there an insertion operation before the last equality.\n  var pre_ins = false;\n  // Is there a deletion operation before the last equality.\n  var pre_del = false;\n  // Is there an insertion operation after the last equality.\n  var post_ins = false;\n  // Is there a deletion operation after the last equality.\n  var post_del = false;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {  // Equality found.\n      if (diffs[pointer][1].length < this.Diff_EditCost &&\n          (post_ins || post_del)) {\n        // Candidate found.\n        equalities[equalitiesLength++] = pointer;\n        pre_ins = post_ins;\n        pre_del = post_del;\n        lastEquality = diffs[pointer][1];\n      } else {\n        // Not a candidate, and can never become one.\n        equalitiesLength = 0;\n        lastEquality = null;\n      }\n      post_ins = post_del = false;\n    } else {  // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_DELETE) {\n        post_del = true;\n      } else {\n        post_ins = true;\n      }\n      /*\n       * Five types to be split:\n       * <ins>A</ins><del>B</del>XY<ins>C</ins><del>D</del>\n       * <ins>A</ins>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<ins>C</ins>\n       * <ins>A</del>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<del>C</del>\n       */\n      if (lastEquality && ((pre_ins && pre_del && post_ins && post_del) ||\n                           ((lastEquality.length < this.Diff_EditCost / 2) &&\n                            (pre_ins + pre_del + post_ins + post_del) == 3))) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0,\n                     new diff_match_patch.Diff(DIFF_DELETE, lastEquality));\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        equalitiesLength--;  // Throw away the equality we just deleted;\n        lastEquality = null;\n        if (pre_ins && pre_del) {\n          // No changes made which could affect previous entry, keep going.\n          post_ins = post_del = true;\n          equalitiesLength = 0;\n        } else {\n          equalitiesLength--;  // Throw away the previous equality.\n          pointer = equalitiesLength > 0 ?\n              equalities[equalitiesLength - 1] : -1;\n          post_ins = post_del = false;\n        }\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupMerge = function(diffs) {\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete + count_insert > 1) {\n          if (count_delete !== 0 && count_insert !== 0) {\n            // Factor out any common prefixies.\n            commonlength = this.diff_commonPrefix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              if ((pointer - count_delete - count_insert) > 0 &&\n                  diffs[pointer - count_delete - count_insert - 1][0] ==\n                  DIFF_EQUAL) {\n                diffs[pointer - count_delete - count_insert - 1][1] +=\n                    text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n                    text_insert.substring(0, commonlength)));\n                pointer++;\n              }\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            }\n            // Factor out any common suffixies.\n            commonlength = this.diff_commonSuffix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] = text_insert.substring(text_insert.length -\n                  commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length -\n                  commonlength);\n              text_delete = text_delete.substring(0, text_delete.length -\n                  commonlength);\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          pointer -= count_delete + count_insert;\n          diffs.splice(pointer, count_delete + count_insert);\n          if (text_delete.length) {\n            diffs.splice(pointer, 0,\n                new diff_match_patch.Diff(DIFF_DELETE, text_delete));\n            pointer++;\n          }\n          if (text_insert.length) {\n            diffs.splice(pointer, 0,\n                new diff_match_patch.Diff(DIFF_INSERT, text_insert));\n            pointer++;\n          }\n          pointer++;\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop();  // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  var changes = false;\n  pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\n          diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] +\n            diffs[pointer][1].substring(0, diffs[pointer][1].length -\n                                        diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\n          diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] =\n            diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\n            diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n\n\n/**\n * loc is a location in text1, compute and return the equivalent location in\n * text2.\n * e.g. 'The cat' vs 'The big cat', 1->1, 5->8\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {number} loc Location within text1.\n * @return {number} Location within text2.\n */\ndiff_match_patch.prototype.diff_xIndex = function(diffs, loc) {\n  var chars1 = 0;\n  var chars2 = 0;\n  var last_chars1 = 0;\n  var last_chars2 = 0;\n  var x;\n  for (x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {  // Equality or deletion.\n      chars1 += diffs[x][1].length;\n    }\n    if (diffs[x][0] !== DIFF_DELETE) {  // Equality or insertion.\n      chars2 += diffs[x][1].length;\n    }\n    if (chars1 > loc) {  // Overshot the location.\n      break;\n    }\n    last_chars1 = chars1;\n    last_chars2 = chars2;\n  }\n  // Was the location was deleted?\n  if (diffs.length != x && diffs[x][0] === DIFF_DELETE) {\n    return last_chars2;\n  }\n  // Add the remaining character length.\n  return last_chars2 + (loc - last_chars1);\n};\n\n\n/**\n * Convert a diff array into a pretty HTML report.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} HTML representation.\n */\ndiff_match_patch.prototype.diff_prettyHtml = function(diffs) {\n  var html = [];\n  var pattern_amp = /&/g;\n  var pattern_lt = /</g;\n  var pattern_gt = />/g;\n  var pattern_para = /\\n/g;\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0];    // Operation (insert, delete, equal)\n    var data = diffs[x][1];  // Text of change.\n    var text = data.replace(pattern_amp, '&amp;').replace(pattern_lt, '&lt;')\n        .replace(pattern_gt, '&gt;').replace(pattern_para, '&para;<br>');\n    switch (op) {\n      case DIFF_INSERT:\n        html[x] = '<ins style=\"background:#e6ffe6;\">' + text + '</ins>';\n        break;\n      case DIFF_DELETE:\n        html[x] = '<del style=\"background:#ffe6e6;\">' + text + '</del>';\n        break;\n      case DIFF_EQUAL:\n        html[x] = '<span>' + text + '</span>';\n        break;\n    }\n  }\n  return html.join('');\n};\n\n\n/**\n * Compute and return the source text (all equalities and deletions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Source text.\n */\ndiff_match_patch.prototype.diff_text1 = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join('');\n};\n\n\n/**\n * Compute and return the destination text (all equalities and insertions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Destination text.\n */\ndiff_match_patch.prototype.diff_text2 = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_DELETE) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join('');\n};\n\n\n/**\n * Compute the Levenshtein distance; the number of inserted, deleted or\n * substituted characters.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {number} Number of changes.\n */\ndiff_match_patch.prototype.diff_levenshtein = function(diffs) {\n  var levenshtein = 0;\n  var insertions = 0;\n  var deletions = 0;\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0];\n    var data = diffs[x][1];\n    switch (op) {\n      case DIFF_INSERT:\n        insertions += data.length;\n        break;\n      case DIFF_DELETE:\n        deletions += data.length;\n        break;\n      case DIFF_EQUAL:\n        // A deletion and an insertion is one substitution.\n        levenshtein += Math.max(insertions, deletions);\n        insertions = 0;\n        deletions = 0;\n        break;\n    }\n  }\n  levenshtein += Math.max(insertions, deletions);\n  return levenshtein;\n};\n\n\n/**\n * Crush the diff into an encoded string which describes the operations\n * required to transform text1 into text2.\n * E.g. =3\\t-2\\t+ing  -> Keep 3 chars, delete 2 chars, insert 'ing'.\n * Operations are tab-separated.  Inserted text is escaped using %xx notation.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Delta text.\n */\ndiff_match_patch.prototype.diff_toDelta = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    switch (diffs[x][0]) {\n      case DIFF_INSERT:\n        text[x] = '+' + encodeURI(diffs[x][1]);\n        break;\n      case DIFF_DELETE:\n        text[x] = '-' + diffs[x][1].length;\n        break;\n      case DIFF_EQUAL:\n        text[x] = '=' + diffs[x][1].length;\n        break;\n    }\n  }\n  return text.join('\\t').replace(/%20/g, ' ');\n};\n\n\n/**\n * Given the original text1, and an encoded string which describes the\n * operations required to transform text1 into text2, compute the full diff.\n * @param {string} text1 Source string for the diff.\n * @param {string} delta Delta text.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @throws {!Error} If invalid input.\n */\ndiff_match_patch.prototype.diff_fromDelta = function(text1, delta) {\n  var diffs = [];\n  var diffsLength = 0;  // Keeping our own length var is faster in JS.\n  var pointer = 0;  // Cursor in text1\n  var tokens = delta.split(/\\t/g);\n  for (var x = 0; x < tokens.length; x++) {\n    // Each token begins with a one character parameter which specifies the\n    // operation of this token (delete, insert, equality).\n    var param = tokens[x].substring(1);\n    switch (tokens[x].charAt(0)) {\n      case '+':\n        try {\n          diffs[diffsLength++] =\n              new diff_match_patch.Diff(DIFF_INSERT, decodeURI(param));\n        } catch (ex) {\n          // Malformed URI sequence.\n          throw new Error('Illegal escape in diff_fromDelta: ' + param);\n        }\n        break;\n      case '-':\n        // Fall through.\n      case '=':\n        var n = parseInt(param, 10);\n        if (isNaN(n) || n < 0) {\n          throw new Error('Invalid number in diff_fromDelta: ' + param);\n        }\n        var text = text1.substring(pointer, pointer += n);\n        if (tokens[x].charAt(0) == '=') {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_EQUAL, text);\n        } else {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_DELETE, text);\n        }\n        break;\n      default:\n        // Blank tokens are ok (from a trailing \\t).\n        // Anything else is an error.\n        if (tokens[x]) {\n          throw new Error('Invalid diff operation in diff_fromDelta: ' +\n                          tokens[x]);\n        }\n    }\n  }\n  if (pointer != text1.length) {\n    throw new Error('Delta length (' + pointer +\n        ') does not equal source text length (' + text1.length + ').');\n  }\n  return diffs;\n};\n\n\n//  MATCH FUNCTIONS\n\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc'.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n */\ndiff_match_patch.prototype.match_main = function(text, pattern, loc) {\n  // Check for null inputs.\n  if (text == null || pattern == null || loc == null) {\n    throw new Error('Null input. (match_main)');\n  }\n\n  loc = Math.max(0, Math.min(loc, text.length));\n  if (text == pattern) {\n    // Shortcut (potentially not guaranteed by the algorithm)\n    return 0;\n  } else if (!text.length) {\n    // Nothing to match.\n    return -1;\n  } else if (text.substring(loc, loc + pattern.length) == pattern) {\n    // Perfect match at the perfect spot!  (Includes case of null pattern)\n    return loc;\n  } else {\n    // Do a fuzzy compare.\n    return this.match_bitap_(text, pattern, loc);\n  }\n};\n\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc' using the\n * Bitap algorithm.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n * @private\n */\ndiff_match_patch.prototype.match_bitap_ = function(text, pattern, loc) {\n  if (pattern.length > this.Match_MaxBits) {\n    throw new Error('Pattern too long for this browser.');\n  }\n\n  // Initialise the alphabet.\n  var s = this.match_alphabet_(pattern);\n\n  var dmp = this;  // 'this' becomes 'window' in a closure.\n\n  /**\n   * Compute and return the score for a match with e errors and x location.\n   * Accesses loc and pattern through being a closure.\n   * @param {number} e Number of errors in match.\n   * @param {number} x Location of match.\n   * @return {number} Overall score for match (0.0 = good, 1.0 = bad).\n   * @private\n   */\n  function match_bitapScore_(e, x) {\n    var accuracy = e / pattern.length;\n    var proximity = Math.abs(loc - x);\n    if (!dmp.Match_Distance) {\n      // Dodge divide by zero error.\n      return proximity ? 1.0 : accuracy;\n    }\n    return accuracy + (proximity / dmp.Match_Distance);\n  }\n\n  // Highest score beyond which we give up.\n  var score_threshold = this.Match_Threshold;\n  // Is there a nearby exact match? (speedup)\n  var best_loc = text.indexOf(pattern, loc);\n  if (best_loc != -1) {\n    score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    // What about in the other direction? (speedup)\n    best_loc = text.lastIndexOf(pattern, loc + pattern.length);\n    if (best_loc != -1) {\n      score_threshold =\n          Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    }\n  }\n\n  // Initialise the bit arrays.\n  var matchmask = 1 << (pattern.length - 1);\n  best_loc = -1;\n\n  var bin_min, bin_mid;\n  var bin_max = pattern.length + text.length;\n  var last_rd;\n  for (var d = 0; d < pattern.length; d++) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from 'loc' we can stray at this\n    // error level.\n    bin_min = 0;\n    bin_mid = bin_max;\n    while (bin_min < bin_mid) {\n      if (match_bitapScore_(d, loc + bin_mid) <= score_threshold) {\n        bin_min = bin_mid;\n      } else {\n        bin_max = bin_mid;\n      }\n      bin_mid = Math.floor((bin_max - bin_min) / 2 + bin_min);\n    }\n    // Use the result from this iteration as the maximum for the next.\n    bin_max = bin_mid;\n    var start = Math.max(1, loc - bin_mid + 1);\n    var finish = Math.min(loc + bin_mid, text.length) + pattern.length;\n\n    var rd = Array(finish + 2);\n    rd[finish + 1] = (1 << d) - 1;\n    for (var j = finish; j >= start; j--) {\n      // The alphabet (s) is a sparse hash, so the following line generates\n      // warnings.\n      var charMatch = s[text.charAt(j - 1)];\n      if (d === 0) {  // First pass: exact match.\n        rd[j] = ((rd[j + 1] << 1) | 1) & charMatch;\n      } else {  // Subsequent passes: fuzzy match.\n        rd[j] = (((rd[j + 1] << 1) | 1) & charMatch) |\n                (((last_rd[j + 1] | last_rd[j]) << 1) | 1) |\n                last_rd[j + 1];\n      }\n      if (rd[j] & matchmask) {\n        var score = match_bitapScore_(d, j - 1);\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (score <= score_threshold) {\n          // Told you so.\n          score_threshold = score;\n          best_loc = j - 1;\n          if (best_loc > loc) {\n            // When passing loc, don't exceed our current distance from loc.\n            start = Math.max(1, 2 * loc - best_loc);\n          } else {\n            // Already passed loc, downhill from here on in.\n            break;\n          }\n        }\n      }\n    }\n    // No hope for a (better) match at greater error levels.\n    if (match_bitapScore_(d + 1, loc) > score_threshold) {\n      break;\n    }\n    last_rd = rd;\n  }\n  return best_loc;\n};\n\n\n/**\n * Initialise the alphabet for the Bitap algorithm.\n * @param {string} pattern The text to encode.\n * @return {!Object} Hash of character locations.\n * @private\n */\ndiff_match_patch.prototype.match_alphabet_ = function(pattern) {\n  var s = {};\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] = 0;\n  }\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] |= 1 << (pattern.length - i - 1);\n  }\n  return s;\n};\n\n\n//  PATCH FUNCTIONS\n\n\n/**\n * Increase the context until it is unique,\n * but don't let the pattern expand beyond Match_MaxBits.\n * @param {!diff_match_patch.patch_obj} patch The patch to grow.\n * @param {string} text Source text.\n * @private\n */\ndiff_match_patch.prototype.patch_addContext_ = function(patch, text) {\n  if (text.length == 0) {\n    return;\n  }\n  if (patch.start2 === null) {\n    throw Error('patch not initialized');\n  }\n  var pattern = text.substring(patch.start2, patch.start2 + patch.length1);\n  var padding = 0;\n\n  // Look for the first and last matches of pattern in text.  If two different\n  // matches are found, increase the pattern length.\n  while (text.indexOf(pattern) != text.lastIndexOf(pattern) &&\n         pattern.length < this.Match_MaxBits - this.Patch_Margin -\n         this.Patch_Margin) {\n    padding += this.Patch_Margin;\n    pattern = text.substring(patch.start2 - padding,\n                             patch.start2 + patch.length1 + padding);\n  }\n  // Add one chunk for good luck.\n  padding += this.Patch_Margin;\n\n  // Add the prefix.\n  var prefix = text.substring(patch.start2 - padding, patch.start2);\n  if (prefix) {\n    patch.diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, prefix));\n  }\n  // Add the suffix.\n  var suffix = text.substring(patch.start2 + patch.length1,\n                              patch.start2 + patch.length1 + padding);\n  if (suffix) {\n    patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, suffix));\n  }\n\n  // Roll back the start points.\n  patch.start1 -= prefix.length;\n  patch.start2 -= prefix.length;\n  // Extend the lengths.\n  patch.length1 += prefix.length + suffix.length;\n  patch.length2 += prefix.length + suffix.length;\n};\n\n\n/**\n * Compute a list of patches to turn text1 into text2.\n * Use diffs if provided, otherwise compute it ourselves.\n * There are four ways to call this function, depending on what data is\n * available to the caller:\n * Method 1:\n * a = text1, b = text2\n * Method 2:\n * a = diffs\n * Method 3 (optimal):\n * a = text1, b = diffs\n * Method 4 (deprecated, use method 3):\n * a = text1, b = text2, c = diffs\n *\n * @param {string|!Array.<!diff_match_patch.Diff>} a text1 (methods 1,3,4) or\n * Array of diff tuples for text1 to text2 (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_b text2 (methods 1,4) or\n * Array of diff tuples for text1 to text2 (method 3) or undefined (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_c Array of diff tuples\n * for text1 to text2 (method 4) or undefined (methods 1,2,3).\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_make = function(a, opt_b, opt_c) {\n  var text1, diffs;\n  if (typeof a == 'string' && typeof opt_b == 'string' &&\n      typeof opt_c == 'undefined') {\n    // Method 1: text1, text2\n    // Compute diffs from text1 and text2.\n    text1 = /** @type {string} */(a);\n    diffs = this.diff_main(text1, /** @type {string} */(opt_b), true);\n    if (diffs.length > 2) {\n      this.diff_cleanupSemantic(diffs);\n      this.diff_cleanupEfficiency(diffs);\n    }\n  } else if (a && typeof a == 'object' && typeof opt_b == 'undefined' &&\n      typeof opt_c == 'undefined') {\n    // Method 2: diffs\n    // Compute text1 from diffs.\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(a);\n    text1 = this.diff_text1(diffs);\n  } else if (typeof a == 'string' && opt_b && typeof opt_b == 'object' &&\n      typeof opt_c == 'undefined') {\n    // Method 3: text1, diffs\n    text1 = /** @type {string} */(a);\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(opt_b);\n  } else if (typeof a == 'string' && typeof opt_b == 'string' &&\n      opt_c && typeof opt_c == 'object') {\n    // Method 4: text1, text2, diffs\n    // text2 is not used.\n    text1 = /** @type {string} */(a);\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(opt_c);\n  } else {\n    throw new Error('Unknown call format to patch_make.');\n  }\n\n  if (diffs.length === 0) {\n    return [];  // Get rid of the null case.\n  }\n  var patches = [];\n  var patch = new diff_match_patch.patch_obj();\n  var patchDiffLength = 0;  // Keeping our own length var is faster in JS.\n  var char_count1 = 0;  // Number of characters into the text1 string.\n  var char_count2 = 0;  // Number of characters into the text2 string.\n  // Start with text1 (prepatch_text) and apply the diffs until we arrive at\n  // text2 (postpatch_text).  We recreate the patches one by one to determine\n  // context info.\n  var prepatch_text = text1;\n  var postpatch_text = text1;\n  for (var x = 0; x < diffs.length; x++) {\n    var diff_type = diffs[x][0];\n    var diff_text = diffs[x][1];\n\n    if (!patchDiffLength && diff_type !== DIFF_EQUAL) {\n      // A new patch starts here.\n      patch.start1 = char_count1;\n      patch.start2 = char_count2;\n    }\n\n    switch (diff_type) {\n      case DIFF_INSERT:\n        patch.diffs[patchDiffLength++] = diffs[x];\n        patch.length2 += diff_text.length;\n        postpatch_text = postpatch_text.substring(0, char_count2) + diff_text +\n                         postpatch_text.substring(char_count2);\n        break;\n      case DIFF_DELETE:\n        patch.length1 += diff_text.length;\n        patch.diffs[patchDiffLength++] = diffs[x];\n        postpatch_text = postpatch_text.substring(0, char_count2) +\n                         postpatch_text.substring(char_count2 +\n                             diff_text.length);\n        break;\n      case DIFF_EQUAL:\n        if (diff_text.length <= 2 * this.Patch_Margin &&\n            patchDiffLength && diffs.length != x + 1) {\n          // Small equality inside a patch.\n          patch.diffs[patchDiffLength++] = diffs[x];\n          patch.length1 += diff_text.length;\n          patch.length2 += diff_text.length;\n        } else if (diff_text.length >= 2 * this.Patch_Margin) {\n          // Time for a new patch.\n          if (patchDiffLength) {\n            this.patch_addContext_(patch, prepatch_text);\n            patches.push(patch);\n            patch = new diff_match_patch.patch_obj();\n            patchDiffLength = 0;\n            // Unlike Unidiff, our patch lists have a rolling context.\n            // https://github.com/google/diff-match-patch/wiki/Unidiff\n            // Update prepatch text & pos to reflect the application of the\n            // just completed patch.\n            prepatch_text = postpatch_text;\n            char_count1 = char_count2;\n          }\n        }\n        break;\n    }\n\n    // Update the current character count.\n    if (diff_type !== DIFF_INSERT) {\n      char_count1 += diff_text.length;\n    }\n    if (diff_type !== DIFF_DELETE) {\n      char_count2 += diff_text.length;\n    }\n  }\n  // Pick up the leftover patch if not empty.\n  if (patchDiffLength) {\n    this.patch_addContext_(patch, prepatch_text);\n    patches.push(patch);\n  }\n\n  return patches;\n};\n\n\n/**\n * Given an array of patches, return another array that is identical.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_deepCopy = function(patches) {\n  // Making deep copies is hard in JavaScript.\n  var patchesCopy = [];\n  for (var x = 0; x < patches.length; x++) {\n    var patch = patches[x];\n    var patchCopy = new diff_match_patch.patch_obj();\n    patchCopy.diffs = [];\n    for (var y = 0; y < patch.diffs.length; y++) {\n      patchCopy.diffs[y] =\n          new diff_match_patch.Diff(patch.diffs[y][0], patch.diffs[y][1]);\n    }\n    patchCopy.start1 = patch.start1;\n    patchCopy.start2 = patch.start2;\n    patchCopy.length1 = patch.length1;\n    patchCopy.length2 = patch.length2;\n    patchesCopy[x] = patchCopy;\n  }\n  return patchesCopy;\n};\n\n\n/**\n * Merge a set of patches onto the text.  Return a patched text, as well\n * as a list of true/false values indicating which patches were applied.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @param {string} text Old text.\n * @return {!Array.<string|!Array.<boolean>>} Two element Array, containing the\n *      new text and an array of boolean values.\n */\ndiff_match_patch.prototype.patch_apply = function(patches, text) {\n  if (patches.length == 0) {\n    return [text, []];\n  }\n\n  // Deep copy the patches so that no changes are made to originals.\n  patches = this.patch_deepCopy(patches);\n\n  var nullPadding = this.patch_addPadding(patches);\n  text = nullPadding + text + nullPadding;\n\n  this.patch_splitMax(patches);\n  // delta keeps track of the offset between the expected and actual location\n  // of the previous patch.  If there are patches expected at positions 10 and\n  // 20, but the first patch was found at 12, delta is 2 and the second patch\n  // has an effective expected position of 22.\n  var delta = 0;\n  var results = [];\n  for (var x = 0; x < patches.length; x++) {\n    var expected_loc = patches[x].start2 + delta;\n    var text1 = this.diff_text1(patches[x].diffs);\n    var start_loc;\n    var end_loc = -1;\n    if (text1.length > this.Match_MaxBits) {\n      // patch_splitMax will only provide an oversized pattern in the case of\n      // a monster delete.\n      start_loc = this.match_main(text, text1.substring(0, this.Match_MaxBits),\n                                  expected_loc);\n      if (start_loc != -1) {\n        end_loc = this.match_main(text,\n            text1.substring(text1.length - this.Match_MaxBits),\n            expected_loc + text1.length - this.Match_MaxBits);\n        if (end_loc == -1 || start_loc >= end_loc) {\n          // Can't find valid trailing context.  Drop this patch.\n          start_loc = -1;\n        }\n      }\n    } else {\n      start_loc = this.match_main(text, text1, expected_loc);\n    }\n    if (start_loc == -1) {\n      // No match found.  :(\n      results[x] = false;\n      // Subtract the delta for this failed patch from subsequent patches.\n      delta -= patches[x].length2 - patches[x].length1;\n    } else {\n      // Found a match.  :)\n      results[x] = true;\n      delta = start_loc - expected_loc;\n      var text2;\n      if (end_loc == -1) {\n        text2 = text.substring(start_loc, start_loc + text1.length);\n      } else {\n        text2 = text.substring(start_loc, end_loc + this.Match_MaxBits);\n      }\n      if (text1 == text2) {\n        // Perfect match, just shove the replacement text in.\n        text = text.substring(0, start_loc) +\n               this.diff_text2(patches[x].diffs) +\n               text.substring(start_loc + text1.length);\n      } else {\n        // Imperfect match.  Run a diff to get a framework of equivalent\n        // indices.\n        var diffs = this.diff_main(text1, text2, false);\n        if (text1.length > this.Match_MaxBits &&\n            this.diff_levenshtein(diffs) / text1.length >\n            this.Patch_DeleteThreshold) {\n          // The end points match, but the content is unacceptably bad.\n          results[x] = false;\n        } else {\n          this.diff_cleanupSemanticLossless(diffs);\n          var index1 = 0;\n          var index2;\n          for (var y = 0; y < patches[x].diffs.length; y++) {\n            var mod = patches[x].diffs[y];\n            if (mod[0] !== DIFF_EQUAL) {\n              index2 = this.diff_xIndex(diffs, index1);\n            }\n            if (mod[0] === DIFF_INSERT) {  // Insertion\n              text = text.substring(0, start_loc + index2) + mod[1] +\n                     text.substring(start_loc + index2);\n            } else if (mod[0] === DIFF_DELETE) {  // Deletion\n              text = text.substring(0, start_loc + index2) +\n                     text.substring(start_loc + this.diff_xIndex(diffs,\n                         index1 + mod[1].length));\n            }\n            if (mod[0] !== DIFF_DELETE) {\n              index1 += mod[1].length;\n            }\n          }\n        }\n      }\n    }\n  }\n  // Strip the padding off.\n  text = text.substring(nullPadding.length, text.length - nullPadding.length);\n  return [text, results];\n};\n\n\n/**\n * Add some padding on text start and end so that edges can match something.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} The padding string added to each side.\n */\ndiff_match_patch.prototype.patch_addPadding = function(patches) {\n  var paddingLength = this.Patch_Margin;\n  var nullPadding = '';\n  for (var x = 1; x <= paddingLength; x++) {\n    nullPadding += String.fromCharCode(x);\n  }\n\n  // Bump all the patches forward.\n  for (var x = 0; x < patches.length; x++) {\n    patches[x].start1 += paddingLength;\n    patches[x].start2 += paddingLength;\n  }\n\n  // Add some padding on start of first diff.\n  var patch = patches[0];\n  var diffs = patch.diffs;\n  if (diffs.length == 0 || diffs[0][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.start1 -= paddingLength;  // Should be 0.\n    patch.start2 -= paddingLength;  // Should be 0.\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[0][1].length) {\n    // Grow first equality.\n    var extraLength = paddingLength - diffs[0][1].length;\n    diffs[0][1] = nullPadding.substring(diffs[0][1].length) + diffs[0][1];\n    patch.start1 -= extraLength;\n    patch.start2 -= extraLength;\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n\n  // Add some padding on end of last diff.\n  patch = patches[patches.length - 1];\n  diffs = patch.diffs;\n  if (diffs.length == 0 || diffs[diffs.length - 1][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[diffs.length - 1][1].length) {\n    // Grow last equality.\n    var extraLength = paddingLength - diffs[diffs.length - 1][1].length;\n    diffs[diffs.length - 1][1] += nullPadding.substring(0, extraLength);\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n\n  return nullPadding;\n};\n\n\n/**\n * Look through the patches and break up any which are longer than the maximum\n * limit of the match algorithm.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_splitMax = function(patches) {\n  var patch_size = this.Match_MaxBits;\n  for (var x = 0; x < patches.length; x++) {\n    if (patches[x].length1 <= patch_size) {\n      continue;\n    }\n    var bigpatch = patches[x];\n    // Remove the big old patch.\n    patches.splice(x--, 1);\n    var start1 = bigpatch.start1;\n    var start2 = bigpatch.start2;\n    var precontext = '';\n    while (bigpatch.diffs.length !== 0) {\n      // Create one of several smaller patches.\n      var patch = new diff_match_patch.patch_obj();\n      var empty = true;\n      patch.start1 = start1 - precontext.length;\n      patch.start2 = start2 - precontext.length;\n      if (precontext !== '') {\n        patch.length1 = patch.length2 = precontext.length;\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, precontext));\n      }\n      while (bigpatch.diffs.length !== 0 &&\n             patch.length1 < patch_size - this.Patch_Margin) {\n        var diff_type = bigpatch.diffs[0][0];\n        var diff_text = bigpatch.diffs[0][1];\n        if (diff_type === DIFF_INSERT) {\n          // Insertions are harmless.\n          patch.length2 += diff_text.length;\n          start2 += diff_text.length;\n          patch.diffs.push(bigpatch.diffs.shift());\n          empty = false;\n        } else if (diff_type === DIFF_DELETE && patch.diffs.length == 1 &&\n                   patch.diffs[0][0] == DIFF_EQUAL &&\n                   diff_text.length > 2 * patch_size) {\n          // This is a large deletion.  Let it pass in one chunk.\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          empty = false;\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          bigpatch.diffs.shift();\n        } else {\n          // Deletion or equality.  Only take as much as we can stomach.\n          diff_text = diff_text.substring(0,\n              patch_size - patch.length1 - this.Patch_Margin);\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          if (diff_type === DIFF_EQUAL) {\n            patch.length2 += diff_text.length;\n            start2 += diff_text.length;\n          } else {\n            empty = false;\n          }\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          if (diff_text == bigpatch.diffs[0][1]) {\n            bigpatch.diffs.shift();\n          } else {\n            bigpatch.diffs[0][1] =\n                bigpatch.diffs[0][1].substring(diff_text.length);\n          }\n        }\n      }\n      // Compute the head context for the next patch.\n      precontext = this.diff_text2(patch.diffs);\n      precontext =\n          precontext.substring(precontext.length - this.Patch_Margin);\n      // Append the end context for this patch.\n      var postcontext = this.diff_text1(bigpatch.diffs)\n                            .substring(0, this.Patch_Margin);\n      if (postcontext !== '') {\n        patch.length1 += postcontext.length;\n        patch.length2 += postcontext.length;\n        if (patch.diffs.length !== 0 &&\n            patch.diffs[patch.diffs.length - 1][0] === DIFF_EQUAL) {\n          patch.diffs[patch.diffs.length - 1][1] += postcontext;\n        } else {\n          patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, postcontext));\n        }\n      }\n      if (!empty) {\n        patches.splice(++x, 0, patch);\n      }\n    }\n  }\n};\n\n\n/**\n * Take a list of patches and return a textual representation.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} Text representation of patches.\n */\ndiff_match_patch.prototype.patch_toText = function(patches) {\n  var text = [];\n  for (var x = 0; x < patches.length; x++) {\n    text[x] = patches[x];\n  }\n  return text.join('');\n};\n\n\n/**\n * Parse a textual representation of patches and return a list of Patch objects.\n * @param {string} textline Text representation of patches.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n * @throws {!Error} If invalid input.\n */\ndiff_match_patch.prototype.patch_fromText = function(textline) {\n  var patches = [];\n  if (!textline) {\n    return patches;\n  }\n  var text = textline.split('\\n');\n  var textPointer = 0;\n  var patchHeader = /^@@ -(\\d+),?(\\d*) \\+(\\d+),?(\\d*) @@$/;\n  while (textPointer < text.length) {\n    var m = text[textPointer].match(patchHeader);\n    if (!m) {\n      throw new Error('Invalid patch string: ' + text[textPointer]);\n    }\n    var patch = new diff_match_patch.patch_obj();\n    patches.push(patch);\n    patch.start1 = parseInt(m[1], 10);\n    if (m[2] === '') {\n      patch.start1--;\n      patch.length1 = 1;\n    } else if (m[2] == '0') {\n      patch.length1 = 0;\n    } else {\n      patch.start1--;\n      patch.length1 = parseInt(m[2], 10);\n    }\n\n    patch.start2 = parseInt(m[3], 10);\n    if (m[4] === '') {\n      patch.start2--;\n      patch.length2 = 1;\n    } else if (m[4] == '0') {\n      patch.length2 = 0;\n    } else {\n      patch.start2--;\n      patch.length2 = parseInt(m[4], 10);\n    }\n    textPointer++;\n\n    while (textPointer < text.length) {\n      var sign = text[textPointer].charAt(0);\n      try {\n        var line = decodeURI(text[textPointer].substring(1));\n      } catch (ex) {\n        // Malformed URI sequence.\n        throw new Error('Illegal escape in patch_fromText: ' + line);\n      }\n      if (sign == '-') {\n        // Deletion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_DELETE, line));\n      } else if (sign == '+') {\n        // Insertion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_INSERT, line));\n      } else if (sign == ' ') {\n        // Minor equality.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, line));\n      } else if (sign == '@') {\n        // Start of next patch.\n        break;\n      } else if (sign === '') {\n        // Blank line?  Whatever.\n      } else {\n        // WTF?\n        throw new Error('Invalid patch mode \"' + sign + '\" in: ' + line);\n      }\n      textPointer++;\n    }\n  }\n  return patches;\n};\n\n\n/**\n * Class representing one patch operation.\n * @constructor\n */\ndiff_match_patch.patch_obj = function() {\n  /** @type {!Array.<!diff_match_patch.Diff>} */\n  this.diffs = [];\n  /** @type {?number} */\n  this.start1 = null;\n  /** @type {?number} */\n  this.start2 = null;\n  /** @type {number} */\n  this.length1 = 0;\n  /** @type {number} */\n  this.length2 = 0;\n};\n\n\n/**\n * Emulate GNU diff's format.\n * Header: @@ -382,8 +481,9 @@\n * Indices are printed as 1-based, not 0-based.\n * @return {string} The GNU diff string.\n */\ndiff_match_patch.patch_obj.prototype.toString = function() {\n  var coords1, coords2;\n  if (this.length1 === 0) {\n    coords1 = this.start1 + ',0';\n  } else if (this.length1 == 1) {\n    coords1 = this.start1 + 1;\n  } else {\n    coords1 = (this.start1 + 1) + ',' + this.length1;\n  }\n  if (this.length2 === 0) {\n    coords2 = this.start2 + ',0';\n  } else if (this.length2 == 1) {\n    coords2 = this.start2 + 1;\n  } else {\n    coords2 = (this.start2 + 1) + ',' + this.length2;\n  }\n  var text = ['@@ -' + coords1 + ' +' + coords2 + ' @@\\n'];\n  var op;\n  // Escape the body of the patch with %xx notation.\n  for (var x = 0; x < this.diffs.length; x++) {\n    switch (this.diffs[x][0]) {\n      case DIFF_INSERT:\n        op = '+';\n        break;\n      case DIFF_DELETE:\n        op = '-';\n        break;\n      case DIFF_EQUAL:\n        op = ' ';\n        break;\n    }\n    text[x + 1] = op + encodeURI(this.diffs[x][1]) + '\\n';\n  }\n  return text.join('').replace(/%20/g, ' ');\n};\n\n\n// The following export code was added by @ForbesLindesay\nmodule.exports = diff_match_patch;\nmodule.exports['diff_match_patch'] = diff_match_patch;\nmodule.exports['DIFF_DELETE'] = DIFF_DELETE;\nmodule.exports['DIFF_INSERT'] = DIFF_INSERT;\nmodule.exports['DIFF_EQUAL'] = DIFF_EQUAL;","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PropTypes = require(\"prop-types\");\nvar React = require(\"react\");\nvar isEqual = require(\"lodash.isequal\");\nvar editorOptions_1 = require(\"./editorOptions\");\nvar ace = editorOptions_1.getAceInstance();\nvar Range = ace.require(\"ace/range\").Range;\nvar ReactAce = /** @class */ (function (_super) {\n    __extends(ReactAce, _super);\n    function ReactAce(props) {\n        var _this = _super.call(this, props) || this;\n        editorOptions_1.editorEvents.forEach(function (method) {\n            _this[method] = _this[method].bind(_this);\n        });\n        _this.debounce = editorOptions_1.debounce;\n        return _this;\n    }\n    ReactAce.prototype.isInShadow = function (node) {\n        var parent = node && node.parentNode;\n        while (parent) {\n            if (parent.toString() === \"[object ShadowRoot]\") {\n                return true;\n            }\n            parent = parent.parentNode;\n        }\n        return false;\n    };\n    ReactAce.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a = this.props, className = _a.className, onBeforeLoad = _a.onBeforeLoad, onValidate = _a.onValidate, mode = _a.mode, focus = _a.focus, theme = _a.theme, fontSize = _a.fontSize, value = _a.value, defaultValue = _a.defaultValue, showGutter = _a.showGutter, wrapEnabled = _a.wrapEnabled, showPrintMargin = _a.showPrintMargin, _b = _a.scrollMargin, scrollMargin = _b === void 0 ? [0, 0, 0, 0] : _b, keyboardHandler = _a.keyboardHandler, onLoad = _a.onLoad, commands = _a.commands, annotations = _a.annotations, markers = _a.markers, placeholder = _a.placeholder;\n        this.editor = ace.edit(this.refEditor);\n        if (onBeforeLoad) {\n            onBeforeLoad(ace);\n        }\n        var editorProps = Object.keys(this.props.editorProps);\n        for (var i = 0; i < editorProps.length; i++) {\n            this.editor[editorProps[i]] = this.props.editorProps[editorProps[i]];\n        }\n        if (this.props.debounceChangePeriod) {\n            this.onChange = this.debounce(this.onChange, this.props.debounceChangePeriod);\n        }\n        this.editor.renderer.setScrollMargin(scrollMargin[0], scrollMargin[1], scrollMargin[2], scrollMargin[3]);\n        if (this.isInShadow(this.refEditor)) {\n            this.editor.renderer.attachToShadowRoot();\n        }\n        this.editor.getSession().setMode(\"ace/mode/\" + mode);\n        this.editor.setTheme(\"ace/theme/\" + theme);\n        this.editor.setFontSize(typeof fontSize === \"number\" ? fontSize + \"px\" : fontSize);\n        this.editor\n            .getSession()\n            .setValue(!defaultValue ? value || \"\" : defaultValue);\n        if (this.props.navigateToFileEnd) {\n            this.editor.navigateFileEnd();\n        }\n        this.editor.renderer.setShowGutter(showGutter);\n        this.editor.getSession().setUseWrapMode(wrapEnabled);\n        this.editor.setShowPrintMargin(showPrintMargin);\n        this.editor.on(\"focus\", this.onFocus);\n        this.editor.on(\"blur\", this.onBlur);\n        this.editor.on(\"copy\", this.onCopy);\n        this.editor.on(\"paste\", this.onPaste);\n        this.editor.on(\"change\", this.onChange);\n        this.editor.on(\"input\", this.onInput);\n        if (placeholder) {\n            this.updatePlaceholder();\n        }\n        this.editor\n            .getSession()\n            .selection.on(\"changeSelection\", this.onSelectionChange);\n        this.editor.getSession().selection.on(\"changeCursor\", this.onCursorChange);\n        if (onValidate) {\n            // @ts-ignore types don't include\n            this.editor.getSession().on(\"changeAnnotation\", function () {\n                // tslint:disable-next-line:no-shadowed-variable\n                var annotations = _this.editor.getSession().getAnnotations();\n                _this.props.onValidate(annotations);\n            });\n        }\n        this.editor.session.on(\"changeScrollTop\", this.onScroll);\n        this.editor.getSession().setAnnotations(annotations || []);\n        if (markers && markers.length > 0) {\n            this.handleMarkers(markers);\n        }\n        // get a list of possible options to avoid 'misspelled option errors'\n        var availableOptions = this.editor.$options;\n        editorOptions_1.editorOptions.forEach(function (option) {\n            if (availableOptions.hasOwnProperty(option)) {\n                // @ts-ignore\n                _this.editor.setOption(option, _this.props[option]);\n            }\n            else if (_this.props[option]) {\n                console.warn(\"ReactAce: editor option \" + option + \" was activated but not found. Did you need to import a related tool or did you possibly mispell the option?\");\n            }\n        });\n        this.handleOptions(this.props);\n        if (Array.isArray(commands)) {\n            commands.forEach(function (command) {\n                if (typeof command.exec === \"string\") {\n                    _this.editor.commands.bindKey(command.bindKey, command.exec);\n                }\n                else {\n                    _this.editor.commands.addCommand(command);\n                }\n            });\n        }\n        if (keyboardHandler) {\n            this.editor.setKeyboardHandler(\"ace/keyboard/\" + keyboardHandler);\n        }\n        if (className) {\n            this.refEditor.className += \" \" + className;\n        }\n        if (onLoad) {\n            onLoad(this.editor);\n        }\n        this.editor.resize();\n        if (focus) {\n            this.editor.focus();\n        }\n    };\n    ReactAce.prototype.componentDidUpdate = function (prevProps) {\n        var oldProps = prevProps;\n        var nextProps = this.props;\n        for (var i = 0; i < editorOptions_1.editorOptions.length; i++) {\n            var option = editorOptions_1.editorOptions[i];\n            if (nextProps[option] !== oldProps[option]) {\n                // @ts-ignore\n                this.editor.setOption(option, nextProps[option]);\n            }\n        }\n        if (nextProps.className !== oldProps.className) {\n            var appliedClasses = this.refEditor.className;\n            var appliedClassesArray_1 = appliedClasses.trim().split(\" \");\n            var oldClassesArray = oldProps.className.trim().split(\" \");\n            oldClassesArray.forEach(function (oldClass) {\n                var index = appliedClassesArray_1.indexOf(oldClass);\n                appliedClassesArray_1.splice(index, 1);\n            });\n            this.refEditor.className =\n                \" \" + nextProps.className + \" \" + appliedClassesArray_1.join(\" \");\n        }\n        // First process editor value, as it may create a new session (see issue #300)\n        if (this.editor &&\n            nextProps.value != null &&\n            this.editor.getValue() !== nextProps.value) {\n            // editor.setValue is a synchronous function call, change event is emitted before setValue return.\n            this.silent = true;\n            var pos = this.editor.session.selection.toJSON();\n            this.editor.setValue(nextProps.value, nextProps.cursorStart);\n            this.editor.session.selection.fromJSON(pos);\n            this.silent = false;\n        }\n        if (nextProps.placeholder !== oldProps.placeholder) {\n            this.updatePlaceholder();\n        }\n        if (nextProps.mode !== oldProps.mode) {\n            this.editor.getSession().setMode(\"ace/mode/\" + nextProps.mode);\n        }\n        if (nextProps.theme !== oldProps.theme) {\n            this.editor.setTheme(\"ace/theme/\" + nextProps.theme);\n        }\n        if (nextProps.keyboardHandler !== oldProps.keyboardHandler) {\n            if (nextProps.keyboardHandler) {\n                this.editor.setKeyboardHandler(\"ace/keyboard/\" + nextProps.keyboardHandler);\n            }\n            else {\n                this.editor.setKeyboardHandler(null);\n            }\n        }\n        if (nextProps.fontSize !== oldProps.fontSize) {\n            this.editor.setFontSize(typeof nextProps.fontSize === \"number\"\n                ? nextProps.fontSize + \"px\"\n                : nextProps.fontSize);\n        }\n        if (nextProps.wrapEnabled !== oldProps.wrapEnabled) {\n            this.editor.getSession().setUseWrapMode(nextProps.wrapEnabled);\n        }\n        if (nextProps.showPrintMargin !== oldProps.showPrintMargin) {\n            this.editor.setShowPrintMargin(nextProps.showPrintMargin);\n        }\n        if (nextProps.showGutter !== oldProps.showGutter) {\n            this.editor.renderer.setShowGutter(nextProps.showGutter);\n        }\n        if (!isEqual(nextProps.setOptions, oldProps.setOptions)) {\n            this.handleOptions(nextProps);\n        }\n        if (!isEqual(nextProps.annotations, oldProps.annotations)) {\n            this.editor.getSession().setAnnotations(nextProps.annotations || []);\n        }\n        if (!isEqual(nextProps.markers, oldProps.markers) &&\n            Array.isArray(nextProps.markers)) {\n            this.handleMarkers(nextProps.markers);\n        }\n        // this doesn't look like it works at all....\n        if (!isEqual(nextProps.scrollMargin, oldProps.scrollMargin)) {\n            this.handleScrollMargins(nextProps.scrollMargin);\n        }\n        if (prevProps.height !== this.props.height ||\n            prevProps.width !== this.props.width) {\n            this.editor.resize();\n        }\n        if (this.props.focus && !prevProps.focus) {\n            this.editor.focus();\n        }\n    };\n    ReactAce.prototype.handleScrollMargins = function (margins) {\n        if (margins === void 0) { margins = [0, 0, 0, 0]; }\n        this.editor.renderer.setScrollMargin(margins[0], margins[1], margins[2], margins[3]);\n    };\n    ReactAce.prototype.componentWillUnmount = function () {\n        this.editor.destroy();\n        this.editor = null;\n    };\n    ReactAce.prototype.onChange = function (event) {\n        if (this.props.onChange && !this.silent) {\n            var value = this.editor.getValue();\n            this.props.onChange(value, event);\n        }\n    };\n    ReactAce.prototype.onSelectionChange = function (event) {\n        if (this.props.onSelectionChange) {\n            var value = this.editor.getSelection();\n            this.props.onSelectionChange(value, event);\n        }\n    };\n    ReactAce.prototype.onCursorChange = function (event) {\n        if (this.props.onCursorChange) {\n            var value = this.editor.getSelection();\n            this.props.onCursorChange(value, event);\n        }\n    };\n    ReactAce.prototype.onInput = function (event) {\n        if (this.props.onInput) {\n            this.props.onInput(event);\n        }\n        if (this.props.placeholder) {\n            this.updatePlaceholder();\n        }\n    };\n    ReactAce.prototype.onFocus = function (event) {\n        if (this.props.onFocus) {\n            this.props.onFocus(event, this.editor);\n        }\n    };\n    ReactAce.prototype.onBlur = function (event) {\n        if (this.props.onBlur) {\n            this.props.onBlur(event, this.editor);\n        }\n    };\n    ReactAce.prototype.onCopy = function (_a) {\n        var text = _a.text;\n        if (this.props.onCopy) {\n            this.props.onCopy(text);\n        }\n    };\n    ReactAce.prototype.onPaste = function (_a) {\n        var text = _a.text;\n        if (this.props.onPaste) {\n            this.props.onPaste(text);\n        }\n    };\n    ReactAce.prototype.onScroll = function () {\n        if (this.props.onScroll) {\n            this.props.onScroll(this.editor);\n        }\n    };\n    ReactAce.prototype.handleOptions = function (props) {\n        var setOptions = Object.keys(props.setOptions);\n        for (var y = 0; y < setOptions.length; y++) {\n            // @ts-ignore\n            this.editor.setOption(setOptions[y], props.setOptions[setOptions[y]]);\n        }\n    };\n    ReactAce.prototype.handleMarkers = function (markers) {\n        var _this = this;\n        // remove foreground markers\n        var currentMarkers = this.editor.getSession().getMarkers(true);\n        for (var i in currentMarkers) {\n            if (currentMarkers.hasOwnProperty(i)) {\n                this.editor.getSession().removeMarker(currentMarkers[i].id);\n            }\n        }\n        // remove background markers except active line marker and selected word marker\n        currentMarkers = this.editor.getSession().getMarkers(false);\n        for (var i in currentMarkers) {\n            if (currentMarkers.hasOwnProperty(i) &&\n                currentMarkers[i].clazz !== \"ace_active-line\" &&\n                currentMarkers[i].clazz !== \"ace_selected-word\") {\n                this.editor.getSession().removeMarker(currentMarkers[i].id);\n            }\n        }\n        // add new markers\n        markers.forEach(function (_a) {\n            var startRow = _a.startRow, startCol = _a.startCol, endRow = _a.endRow, endCol = _a.endCol, className = _a.className, type = _a.type, _b = _a.inFront, inFront = _b === void 0 ? false : _b;\n            var range = new Range(startRow, startCol, endRow, endCol);\n            _this.editor.getSession().addMarker(range, className, type, inFront);\n        });\n    };\n    ReactAce.prototype.updatePlaceholder = function () {\n        // Adapted from https://stackoverflow.com/questions/26695708/how-can-i-add-placeholder-text-when-the-editor-is-empty\n        var editor = this.editor;\n        var placeholder = this.props.placeholder;\n        var showPlaceholder = !editor.session.getValue().length;\n        var node = editor.renderer.placeholderNode;\n        if (!showPlaceholder && node) {\n            editor.renderer.scroller.removeChild(editor.renderer.placeholderNode);\n            editor.renderer.placeholderNode = null;\n        }\n        else if (showPlaceholder && !node) {\n            node = editor.renderer.placeholderNode = document.createElement(\"div\");\n            node.textContent = placeholder || \"\";\n            node.className = \"ace_comment ace_placeholder\";\n            node.style.padding = \"0 9px\";\n            node.style.position = \"absolute\";\n            node.style.zIndex = \"3\";\n            editor.renderer.scroller.appendChild(node);\n        }\n        else if (showPlaceholder && node) {\n            node.textContent = placeholder;\n        }\n    };\n    ReactAce.prototype.updateRef = function (item) {\n        this.refEditor = item;\n    };\n    ReactAce.prototype.render = function () {\n        var _a = this.props, name = _a.name, width = _a.width, height = _a.height, style = _a.style;\n        var divStyle = __assign({ width: width, height: height }, style);\n        return React.createElement(\"div\", { ref: this.updateRef, id: name, style: divStyle });\n    };\n    ReactAce.propTypes = {\n        mode: PropTypes.string,\n        focus: PropTypes.bool,\n        theme: PropTypes.string,\n        name: PropTypes.string,\n        className: PropTypes.string,\n        height: PropTypes.string,\n        width: PropTypes.string,\n        fontSize: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n        showGutter: PropTypes.bool,\n        onChange: PropTypes.func,\n        onCopy: PropTypes.func,\n        onPaste: PropTypes.func,\n        onFocus: PropTypes.func,\n        onInput: PropTypes.func,\n        onBlur: PropTypes.func,\n        onScroll: PropTypes.func,\n        value: PropTypes.string,\n        defaultValue: PropTypes.string,\n        onLoad: PropTypes.func,\n        onSelectionChange: PropTypes.func,\n        onCursorChange: PropTypes.func,\n        onBeforeLoad: PropTypes.func,\n        onValidate: PropTypes.func,\n        minLines: PropTypes.number,\n        maxLines: PropTypes.number,\n        readOnly: PropTypes.bool,\n        highlightActiveLine: PropTypes.bool,\n        tabSize: PropTypes.number,\n        showPrintMargin: PropTypes.bool,\n        cursorStart: PropTypes.number,\n        debounceChangePeriod: PropTypes.number,\n        editorProps: PropTypes.object,\n        setOptions: PropTypes.object,\n        style: PropTypes.object,\n        scrollMargin: PropTypes.array,\n        annotations: PropTypes.array,\n        markers: PropTypes.array,\n        keyboardHandler: PropTypes.string,\n        wrapEnabled: PropTypes.bool,\n        enableSnippets: PropTypes.bool,\n        enableBasicAutocompletion: PropTypes.oneOfType([\n            PropTypes.bool,\n            PropTypes.array\n        ]),\n        enableLiveAutocompletion: PropTypes.oneOfType([\n            PropTypes.bool,\n            PropTypes.array\n        ]),\n        navigateToFileEnd: PropTypes.bool,\n        commands: PropTypes.array,\n        placeholder: PropTypes.string\n    };\n    ReactAce.defaultProps = {\n        name: \"ace-editor\",\n        focus: false,\n        mode: \"\",\n        theme: \"\",\n        height: \"500px\",\n        width: \"500px\",\n        fontSize: 12,\n        enableSnippets: false,\n        showGutter: true,\n        onChange: null,\n        onPaste: null,\n        onLoad: null,\n        onScroll: null,\n        minLines: null,\n        maxLines: null,\n        readOnly: false,\n        highlightActiveLine: true,\n        showPrintMargin: true,\n        tabSize: 4,\n        cursorStart: 1,\n        editorProps: {},\n        style: {},\n        scrollMargin: [0, 0, 0, 0],\n        setOptions: {},\n        wrapEnabled: false,\n        enableBasicAutocompletion: false,\n        enableLiveAutocompletion: false,\n        placeholder: null,\n        navigateToFileEnd: true\n    };\n    return ReactAce;\n}(React.Component));\nexports.default = ReactAce;\n//# sourceMappingURL=ace.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ace_1 = require(\"./ace\");\nvar diff_1 = require(\"./diff\");\nexports.diff = diff_1.default;\nvar split_1 = require(\"./split\");\nexports.split = split_1.default;\nexports.default = ace_1.default;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar editorOptions = [\n    \"minLines\",\n    \"maxLines\",\n    \"readOnly\",\n    \"highlightActiveLine\",\n    \"tabSize\",\n    \"enableBasicAutocompletion\",\n    \"enableLiveAutocompletion\",\n    \"enableSnippets\"\n];\nexports.editorOptions = editorOptions;\nvar editorEvents = [\n    \"onChange\",\n    \"onFocus\",\n    \"onInput\",\n    \"onBlur\",\n    \"onCopy\",\n    \"onPaste\",\n    \"onSelectionChange\",\n    \"onCursorChange\",\n    \"onScroll\",\n    \"handleOptions\",\n    \"updateRef\"\n];\nexports.editorEvents = editorEvents;\nvar getAceInstance = function () {\n    var ace;\n    if (typeof window === \"undefined\") {\n        // ace-builds just needs some window object to attach ace to.\n        // During SSR even just an empty object will work.\n        global.window = {};\n        ace = require(\"ace-builds\");\n        // And it can be discarded immediately afterward to avoid confusing\n        // other libraries that might detect SSR the same way we did.\n        delete global.window;\n    }\n    else if (window.ace) {\n        // Fallback for ace.require when vanilla ACE is hosted over a CDN\n        ace = window.ace;\n        ace.acequire = window.ace.require || window.ace.acequire;\n    }\n    else {\n        ace = require(\"ace-builds\");\n    }\n    return ace;\n};\nexports.getAceInstance = getAceInstance;\nvar debounce = function (fn, delay) {\n    var timer = null;\n    // tslint:disable-next-line\n    return function () {\n        var context = this;\n        var args = arguments;\n        clearTimeout(timer);\n        timer = setTimeout(function () {\n            fn.apply(context, args);\n        }, delay);\n    };\n};\nexports.debounce = debounce;\n//# sourceMappingURL=editorOptions.js.map","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    splice = arrayProto.splice;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoize(function(string) {\n  string = toString(string);\n\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Assign cache to `_.memoize`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n"],"sourceRoot":"webpack:///"}