{"version":3,"sources":["./src/app/modules/home/pages/widget/widget-editor.models.ts","./src/app/modules/home/pages/device/device.module.ts","./src/app/modules/home/pages/user/user.module.ts","./src/app/modules/home/pages/user/user.component.ts","./src/app/modules/home/pages/user/user.component.html","./src/app/modules/home/pages/customer/customer-routing.module.ts","./src/app/modules/home/pages/device-profile/device-profile-routing.module.ts","./src/app/modules/home/pages/asset/asset.module.ts","./src/app/modules/home/pages/rulechain/rulenode.component.ts","./src/app/modules/home/pages/rulechain/rulenode.component.html","./src/app/modules/home/pages/home-links/home-links.module.ts","./src/app/modules/home/pages/rulechain/rule-node-link.component.ts","./src/app/modules/home/pages/rulechain/rule-node-link.component.html","./src/app/modules/home/pages/device/data/coap-device-transport-configuration.component.ts","./src/app/modules/home/pages/device/data/coap-device-transport-configuration.component.html","./src/app/modules/home/pages/admin/admin-routing.module.ts","./src/app/modules/home/pages/edge/edge-table-header.component.ts","./src/app/modules/home/pages/edge/edge-table-header.component.html","./src/app/modules/home/pages/widget/widget-library.module.ts","./src/app/modules/home/pages/profile/change-password-dialog.component.ts","./src/app/modules/home/pages/profile/change-password-dialog.component.html","./src/app/modules/home/pages/admin/home-settings.component.ts","./src/app/modules/home/pages/admin/home-settings.component.html","./src/app/modules/home/pages/entity-view/entity-view-routing.module.ts","./src/app/modules/home/pages/device/device-tabs.component.ts","./src/app/modules/home/pages/device/device-tabs.component.html","./src/app/modules/home/pages/admin/resource/resources-library.component.ts","./src/app/modules/home/pages/admin/resource/resources-library.component.html","./src/app/modules/home/pages/edge/edge-routing.module.ts","./src/app/modules/home/pages/device/data/snmp-device-transport-configuration.component.ts","./src/app/modules/home/pages/device/data/snmp-device-transport-configuration.component.html","./src/app/modules/home/pages/widget/widget-library.component.ts","./src/app/modules/home/pages/widget/widget-library.component.html","./src/app/modules/home/pages/rulechain/rulechains-table-config.resolver.ts","./src/app/modules/home/pages/device/device-credentials-dialog.component.ts","./src/app/modules/home/pages/device/device-credentials-dialog.component.html","./src/app/modules/home/pages/admin/resource/resources-library-table-config.resolve.ts","./src/app/modules/home/pages/device/data/default-device-configuration.component.ts","./src/app/modules/home/pages/device/data/default-device-configuration.component.html","./src/app/modules/home/pages/device/data/default-device-transport-configuration.component.ts","./src/app/modules/home/pages/device/data/default-device-transport-configuration.component.html","./src/app/modules/home/pages/tenant/tenant-tabs.component.ts","./src/app/modules/home/pages/tenant/tenant-tabs.component.html","./src/app/modules/home/pages/profile/profile.module.ts","./src/app/modules/home/pages/customer/customers-table-config.resolver.ts","./src/app/modules/home/pages/device/data/mqtt-device-transport-configuration.component.ts","./src/app/modules/home/pages/device/data/mqtt-device-transport-configuration.component.html","./src/app/modules/home/pages/tenant-profile/tenant-profile-routing.module.ts","./src/app/modules/home/pages/home-pages.module.ts","./src/app/modules/home/pages/tenant/tenant-routing.module.ts","./src/app/modules/home/pages/device-profile/device-profile.module.ts","./src/app/modules/home/pages/ota-update/ota-update.component.ts","./src/app/modules/home/pages/ota-update/ota-update.component.html","./src/app/modules/home/pages/rulechain/rulechain-routing.module.ts","./src/app/modules/home/pages/api-usage/api-usage.component.ts","./src/app/modules/home/pages/api-usage/api-usage.component.html","./src/app/modules/home/pages/asset/asset-table-header.component.ts","./src/app/modules/home/pages/asset/asset-table-header.component.html","./src/app/modules/home/pages/widget/select-widget-type-dialog.component.ts","./src/app/modules/home/pages/widget/select-widget-type-dialog.component.html","./src/app/modules/home/pages/profile/profile.component.ts","./src/app/modules/home/pages/profile/profile.component.html","./src/app/modules/home/pages/tenant-profile/tenant-profile-tabs.component.ts","./src/app/modules/home/pages/tenant-profile/tenant-profile-tabs.component.html","./src/app/modules/home/pages/dashboard/dashboard.module.ts","./src/app/modules/home/pages/api-usage/api_usage_json.raw","./src/app/modules/home/pages/audit-log/audit-log.module.ts","./src/app/modules/home/pages/widget/widgets-bundle.component.ts","./src/app/modules/home/pages/widget/widgets-bundle.component.html","./src/app/modules/home/pages/device/data/lwm2m-device-transport-configuration.component.ts","./src/app/modules/home/pages/device/data/lwm2m-device-transport-configuration.component.html","./src/app/modules/home/pages/customer/customer.component.ts","./src/app/modules/home/pages/customer/customer.component.html","./src/app/modules/home/pages/device/data/device-configuration.component.ts","./src/app/modules/home/pages/device/data/device-configuration.component.html","./src/app/modules/home/pages/profile/profile-routing.module.ts","./src/app/modules/home/pages/edge/edge.component.ts","./src/app/modules/home/pages/edge/edge.component.html","./src/app/modules/home/pages/admin/sms-provider.component.ts","./src/app/modules/home/pages/admin/sms-provider.component.html","./src/app/modules/home/pages/ota-update/ota-update-routing.module.ts","./src/app/core/http/resource.service.ts","./src/app/modules/home/pages/device/device-table-header.component.ts","./src/app/modules/home/pages/device/device-table-header.component.html","./src/app/modules/home/pages/device/device-routing.module.ts","./src/app/modules/home/pages/tenant-profile/tenant-profiles-table-config.resolver.ts","./src/app/modules/home/pages/tenant/tenants-table-config.resolver.ts","./src/app/modules/home/pages/rulechain/rulechain-tabs.component.ts","./src/app/modules/home/pages/rulechain/rulechain-tabs.component.html","./src/app/modules/home/pages/customer/customer.module.ts","./src/app/modules/home/pages/entity-view/entity-view-table-header.component.ts","./src/app/modules/home/pages/entity-view/entity-view-table-header.component.html","./src/app/modules/home/pages/asset/asset-routing.module.ts","./src/app/modules/home/pages/edge/edge.module.ts","./src/app/modules/home/pages/rulechain/rule-node-details.component.ts","./src/app/modules/home/pages/rulechain/rule-node-details.component.html","./src/app/modules/home/pages/device/data/device-data.component.ts","./src/app/modules/home/pages/device/data/device-data.component.html","./src/app/modules/home/pages/device/data/device-transport-configuration.component.ts","./src/app/modules/home/pages/device/data/device-transport-configuration.component.html","./src/app/modules/home/pages/edge/edge-tabs.component.ts","./src/app/modules/home/pages/edge/edge-tabs.component.html","./src/app/modules/home/pages/ota-update/ota-update.module.ts","./src/app/modules/home/pages/tenant/tenant.component.ts","./src/app/modules/home/pages/tenant/tenant.component.html","./src/app/modules/home/pages/device/device.component.ts","./src/app/modules/home/pages/device/device.component.html","./src/app/modules/home/pages/widget/widgets-bundles-table-config.resolver.ts","./src/app/modules/home/pages/api-usage/api-usage-routing.module.ts","./src/app/modules/home/pages/entity-view/entity-view.component.ts","./src/app/modules/home/pages/entity-view/entity-view.component.html","./src/app/modules/home/pages/user/activation-link-dialog.component.ts","./src/app/modules/home/pages/user/activation-link-dialog.component.html","./src/app/modules/home/pages/asset/asset.component.ts","./src/app/modules/home/pages/asset/asset.component.html","./src/app/modules/home/pages/entity-view/entity-view-tabs.component.ts","./src/app/modules/home/pages/entity-view/entity-view-tabs.component.html","./src/app/modules/home/pages/audit-log/audit-log-routing.module.ts","./src/app/modules/home/pages/widget/widget-editor.component.ts","./src/app/modules/home/pages/widget/widget-editor.component.html","./src/app/modules/home/pages/ota-update/ota-update-table-config.resolve.ts","./src/app/modules/home/pages/rulechain/rulechain.module.ts","./src/app/modules/home/pages/widget/save-widget-type-as-dialog.component.ts","./src/app/modules/home/pages/widget/save-widget-type-as-dialog.component.html","./src/app/modules/home/pages/rulechain/link-labels.component.ts","./src/app/modules/home/pages/rulechain/link-labels.component.html","./src/app/modules/home/pages/home-links/home-links.component.ts","./src/app/modules/home/pages/home-links/home-links.component.html","./src/app/modules/home/pages/user/user-tabs.component.ts","./src/app/modules/home/pages/user/user-tabs.component.html","./src/app/modules/home/pages/user/add-user-dialog.component.ts","./src/app/modules/home/pages/user/add-user-dialog.component.html","./src/app/modules/home/pages/user/users-table-config.resolver.ts","./src/app/modules/home/pages/customer/customer-tabs.component.ts","./src/app/modules/home/pages/customer/customer-tabs.component.html","./src/app/core/guards/confirm-on-exit.guard.ts","./src/app/modules/home/pages/rulechain/rulechain-page.component.ts","./src/app/modules/home/pages/rulechain/rulechain-page.component.html","./src/app/modules/home/pages/rulechain/add-rule-node-link-dialog.component.html","./src/app/modules/home/pages/rulechain/add-rule-node-dialog.component.html","./src/app/modules/home/pages/entity-view/entity-views-table-config.resolver.ts","./src/app/modules/home/pages/asset/asset-tabs.component.ts","./src/app/modules/home/pages/asset/asset-tabs.component.html","./src/app/modules/home/pages/rulechain/rulechain.component.ts","./src/app/modules/home/pages/rulechain/rulechain.component.html","./src/app/modules/home/pages/device/devices-table-config.resolver.ts","./src/app/modules/home/pages/entity-view/entity-view.module.ts","./src/app/modules/home/pages/asset/assets-table-config.resolver.ts","./src/app/modules/home/pages/admin/general-settings.component.ts","./src/app/modules/home/pages/admin/general-settings.component.html","./src/app/modules/home/pages/widget/widget-library-routing.module.ts","./src/app/modules/home/pages/tenant/tenant.module.ts","./src/app/modules/home/pages/admin/security-settings.component.ts","./src/app/modules/home/pages/admin/security-settings.component.html","./src/app/modules/home/pages/admin/mail-server.component.ts","./src/app/modules/home/pages/admin/mail-server.component.html","./src/app/modules/home/pages/device-profile/device-profiles-table-config.resolver.ts","./src/app/modules/home/pages/tenant-profile/tenant-profile.module.ts","./src/app/modules/home/pages/rulechain/rule-node-config.component.ts","./src/app/modules/home/pages/rulechain/rule-node-config.component.html","./src/app/modules/home/pages/home-links/home-links-routing.module.ts","./src/app/modules/home/pages/user/user-routing.module.ts","./src/app/modules/home/components/entity/contact-based.component.ts","./src/app/modules/home/pages/device-profile/device-profile-tabs.component.ts","./src/app/modules/home/pages/device-profile/device-profile-tabs.component.html","./src/app/modules/home/pages/admin/admin.module.ts","./src/app/modules/home/pages/api-usage/api-usage.module.ts","./src/app/modules/home/pages/edge/edges-table-config.resolver.ts","./src/app/modules/home/pages/admin/oauth2-settings.component.ts","./src/app/modules/home/pages/admin/oauth2-settings.component.html","./src/app/modules/home/pages/admin/send-test-sms-dialog.component.ts","./src/app/modules/home/pages/admin/send-test-sms-dialog.component.html"],"names":[],"mappings":"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","file":"pages-home-pages-module.js","sourcesContent":["///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { TbEditorCompleter, TbEditorCompletions } from '@shared/models/ace/completion.models';\nimport { widgetContextCompletions } from '@shared/models/ace/widget-completion.models';\nimport { serviceCompletions } from '@shared/models/ace/service-completion.models';\n\nconst widgetEditorCompletions: TbEditorCompletions = {\n  ... {self: {\n    description: 'Built-in variable <b>self</b> that is a reference to the widget instance',\n    type: '<a href=\"https://github.com/thingsboard/thingsboard/blob/13e6b10b7ab830e64d31b99614a9d95a1a25928a/ui-ngx/src/app/modules/home/models/widget-component.models.ts#L350\">WidgetTypeInstance</a>',\n    meta: 'object',\n    children: {\n      ...{\n        onInit: {\n          description: 'The first function which is called when widget is ready for initialization.<br>Should be used to prepare widget DOM, process widget settings and initial subscription information.',\n          meta: 'function'\n        },\n        onDataUpdated: {\n          description: 'Called when the new data is available from the widget subscription.<br>Latest data can be accessed from ' +\n            'the <code>defaultSubscription</code> property of <a href=\"https://github.com/thingsboard/thingsboard/blob/13e6b10b7ab830e64d31b99614a9d95a1a25928a/ui-ngx/src/app/modules/home/models/widget-component.models.ts#L83\">widget context (<code>ctx</code>)</a>.',\n          meta: 'function'\n        },\n        onResize: {\n          description: 'Called when widget container is resized. Latest <code>width</code> and <code>height</code> can be obtained from <a href=\"https://github.com/thingsboard/thingsboard/blob/13e6b10b7ab830e64d31b99614a9d95a1a25928a/ui-ngx/src/app/modules/home/models/widget-component.models.ts#L83\">widget context (<code>ctx</code>)</a>.',\n          meta: 'function'\n        },\n        onEditModeChanged: {\n          description: 'Called when dashboard editing mode is changed. Latest mode is handled by <code>isEdit</code> property of <a href=\"https://github.com/thingsboard/thingsboard/blob/13e6b10b7ab830e64d31b99614a9d95a1a25928a/ui-ngx/src/app/modules/home/models/widget-component.models.ts#L83\">widget context (<code>ctx</code>)</a>.',\n          meta: 'function'\n        },\n        onMobileModeChanged: {\n          description: 'Called when dashboard view width crosses mobile breakpoint. Latest state is handled by <code>isMobile</code> property of <a href=\"https://github.com/thingsboard/thingsboard/blob/13e6b10b7ab830e64d31b99614a9d95a1a25928a/ui-ngx/src/app/modules/home/models/widget-component.models.ts#L83\">widget context (<code>ctx</code>)</a>.',\n          meta: 'function'\n        },\n        onDestroy: {\n          description: 'Called when widget element is destroyed. Should be used to cleanup all resources if necessary.',\n          meta: 'function'\n        },\n        getSettingsSchema: {\n          description: 'Optional function returning widget settings schema json as alternative to <b>Settings tab</b> of <a href=\"https://thingsboard.io/docs/user-guide/contribution/widgets-development/#settings-schema-section\">Settings schema section</a>.',\n          meta: 'function',\n          return: {\n            description: 'An widget settings schema json',\n            type: 'object'\n          }\n        },\n        getDataKeySettingsSchema: {\n          description: 'Optional function returning particular data key settings schema json as alternative to <b>Data key settings schema</b> of <a href=\"https://thingsboard.io/docs/user-guide/contribution/widgets-development/#settings-schema-section\">Settings schema section</a>.',\n          meta: 'function',\n          return: {\n            description: 'A particular data key settings schema json',\n            type: 'object'\n          }\n        },\n        typeParameters: {\n          description: 'Returns object describing widget datasource parameters.',\n          meta: 'function',\n          return: {\n            description: 'An object describing widget datasource parameters.',\n            type: '<a href=\"https://github.com/thingsboard/thingsboard/blob/13e6b10b7ab830e64d31b99614a9d95a1a25928a/ui-ngx/src/app/shared/models/widget.models.ts#L146\">WidgetTypeParameters</a>'\n          }\n        },\n        actionSources: {\n          description: 'Returns map describing available widget action sources used to define user actions.',\n          meta: 'function',\n          return: {\n            description: 'A map of action sources by action source id.',\n            type: '{[actionSourceId: string]: <a href=\"https://github.com/thingsboard/thingsboard/blob/13e6b10b7ab830e64d31b99614a9d95a1a25928a/ui-ngx/src/app/shared/models/widget.models.ts#L118\">WidgetActionSource</a>}'\n          }\n        }\n      },\n      ...widgetContextCompletions\n    }\n  }},\n  ...widgetContextCompletions,\n  ...serviceCompletions\n};\n\nexport const widgetEditorCompleter = new TbEditorCompleter(widgetEditorCompletions);\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from '@shared/shared.module';\nimport { DeviceComponent } from '@modules/home/pages/device/device.component';\nimport { DeviceRoutingModule } from './device-routing.module';\nimport { DeviceTableHeaderComponent } from '@modules/home/pages/device/device-table-header.component';\nimport { DeviceCredentialsDialogComponent } from '@modules/home/pages/device/device-credentials-dialog.component';\nimport { HomeDialogsModule } from '../../dialogs/home-dialogs.module';\nimport { HomeComponentsModule } from '@modules/home/components/home-components.module';\nimport { DeviceTabsComponent } from '@home/pages/device/device-tabs.component';\nimport { DefaultDeviceConfigurationComponent } from './data/default-device-configuration.component';\nimport { DeviceConfigurationComponent } from './data/device-configuration.component';\nimport { DeviceDataComponent } from './data/device-data.component';\nimport { DefaultDeviceTransportConfigurationComponent } from './data/default-device-transport-configuration.component';\nimport { DeviceTransportConfigurationComponent } from './data/device-transport-configuration.component';\nimport { MqttDeviceTransportConfigurationComponent } from './data/mqtt-device-transport-configuration.component';\nimport { CoapDeviceTransportConfigurationComponent } from './data/coap-device-transport-configuration.component';\nimport { Lwm2mDeviceTransportConfigurationComponent } from './data/lwm2m-device-transport-configuration.component';\nimport { SnmpDeviceTransportConfigurationComponent } from './data/snmp-device-transport-configuration.component';\nimport { DeviceCredentialsModule } from '@home/components/device/device-credentials.module';\nimport { DeviceProfileCommonModule } from '@home/components/profile/device/common/device-profile-common.module';\n\n@NgModule({\n  declarations: [\n    DefaultDeviceConfigurationComponent,\n    DeviceConfigurationComponent,\n    DefaultDeviceTransportConfigurationComponent,\n    MqttDeviceTransportConfigurationComponent,\n    CoapDeviceTransportConfigurationComponent,\n    Lwm2mDeviceTransportConfigurationComponent,\n    SnmpDeviceTransportConfigurationComponent,\n    DeviceTransportConfigurationComponent,\n    DeviceDataComponent,\n    DeviceComponent,\n    DeviceTabsComponent,\n    DeviceTableHeaderComponent,\n    DeviceCredentialsDialogComponent\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    HomeComponentsModule,\n    HomeDialogsModule,\n    DeviceCredentialsModule,\n    DeviceProfileCommonModule,\n    DeviceRoutingModule\n  ]\n})\nexport class DeviceModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from '@shared/shared.module';\nimport { UserComponent } from '@modules/home/pages/user/user.component';\nimport { UserRoutingModule } from '@modules/home/pages/user/user-routing.module';\nimport { AddUserDialogComponent } from '@modules/home/pages/user/add-user-dialog.component';\nimport { ActivationLinkDialogComponent } from '@modules/home/pages/user/activation-link-dialog.component';\nimport { HomeComponentsModule } from '@modules/home/components/home-components.module';\nimport { UserTabsComponent } from '@home/pages/user/user-tabs.component';\n\n@NgModule({\n  declarations: [\n    UserComponent,\n    UserTabsComponent,\n    AddUserDialogComponent,\n    ActivationLinkDialogComponent\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    HomeComponentsModule,\n    UserRoutingModule\n  ]\n})\nexport class UserModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { ChangeDetectorRef, Component, Inject, Optional } from '@angular/core';\nimport { select, Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { EntityComponent } from '../../components/entity/entity.component';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { User } from '@shared/models/user.model';\nimport { selectAuth } from '@core/auth/auth.selectors';\nimport { map } from 'rxjs/operators';\nimport { Authority } from '@shared/models/authority.enum';\nimport { isDefinedAndNotNull, isUndefined } from '@core/utils';\nimport { EntityTableConfig } from '@home/models/entity/entities-table-config.models';\nimport { ActionNotificationShow } from '@app/core/notification/notification.actions';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'tb-user',\n  templateUrl: './user.component.html',\n  styleUrls: ['./user.component.scss']\n})\nexport class UserComponent extends EntityComponent<User> {\n\n  authority = Authority;\n\n  loginAsUserEnabled$ = this.store.pipe(\n    select(selectAuth),\n    map((auth) => auth.userTokenAccessEnabled)\n  );\n\n  constructor(protected store: Store<AppState>,\n              @Optional() @Inject('entity') protected entityValue: User,\n              @Optional() @Inject('entitiesTableConfig') protected entitiesTableConfigValue: EntityTableConfig<User>,\n              public fb: FormBuilder,\n              protected cd: ChangeDetectorRef,\n              protected translate: TranslateService) {\n    super(store, fb, entityValue, entitiesTableConfigValue, cd);\n  }\n\n  hideDelete() {\n    if (this.entitiesTableConfig) {\n      return !this.entitiesTableConfig.deleteEnabled(this.entity);\n    } else {\n      return false;\n    }\n  }\n\n  isUserCredentialsEnabled(): boolean {\n      return this.entity.additionalInfo.userCredentialsEnabled === true;\n  }\n\n  isUserCredentialPresent(): boolean {\n    return this.entity && this.entity.additionalInfo && isDefinedAndNotNull(this.entity.additionalInfo.userCredentialsEnabled);\n  }\n\n  buildForm(entity: User): FormGroup {\n    return this.fb.group(\n      {\n        email: [entity ? entity.email : '', [Validators.required, Validators.email]],\n        firstName: [entity ? entity.firstName : ''],\n        lastName: [entity ? entity.lastName : ''],\n        additionalInfo: this.fb.group(\n          {\n            description: [entity && entity.additionalInfo ? entity.additionalInfo.description : ''],\n            defaultDashboardId: [entity && entity.additionalInfo ? entity.additionalInfo.defaultDashboardId : null],\n            defaultDashboardFullscreen: [entity && entity.additionalInfo ? entity.additionalInfo.defaultDashboardFullscreen : false],\n            homeDashboardId: [entity && entity.additionalInfo ? entity.additionalInfo.homeDashboardId : null],\n            homeDashboardHideToolbar: [entity && entity.additionalInfo &&\n            isDefinedAndNotNull(entity.additionalInfo.homeDashboardHideToolbar) ? entity.additionalInfo.homeDashboardHideToolbar : true]\n          }\n        )\n      }\n    );\n  }\n\n  updateForm(entity: User) {\n    this.entityForm.patchValue({email: entity.email});\n    this.entityForm.patchValue({firstName: entity.firstName});\n    this.entityForm.patchValue({lastName: entity.lastName});\n    this.entityForm.patchValue({additionalInfo: {description: entity.additionalInfo ? entity.additionalInfo.description : ''}});\n    this.entityForm.patchValue({additionalInfo:\n        {defaultDashboardId: entity.additionalInfo ? entity.additionalInfo.defaultDashboardId : null}});\n    this.entityForm.patchValue({additionalInfo:\n        {defaultDashboardFullscreen: entity.additionalInfo ? entity.additionalInfo.defaultDashboardFullscreen : false}});\n    this.entityForm.patchValue({additionalInfo:\n        {homeDashboardId: entity.additionalInfo ? entity.additionalInfo.homeDashboardId : null}});\n    this.entityForm.patchValue({additionalInfo:\n        {homeDashboardHideToolbar: entity.additionalInfo &&\n          isDefinedAndNotNull(entity.additionalInfo.homeDashboardHideToolbar) ? entity.additionalInfo.homeDashboardHideToolbar : true}});\n  }\n\n  onUserIdCopied($event) {\n    this.store.dispatch(new ActionNotificationShow(\n      {\n        message: this.translate.instant('user.idCopiedMessage'),\n        type: 'success',\n        duration: 750,\n        verticalPosition: 'bottom',\n        horizontalPosition: 'right'\n      }\n    ))\n  }\n\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div class=\"tb-details-buttons\" fxLayout.xs=\"column\">\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'disableAccount')\"\n          [fxShow]=\"!isEdit && isUserCredentialPresent() && isUserCredentialsEnabled()\">\n    {{'user.disable-account' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'enableAccount')\"\n          [fxShow]=\"!isEdit && isUserCredentialPresent() && !isUserCredentialsEnabled()\">\n    {{'user.enable-account' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'displayActivationLink')\"\n          [fxShow]=\"!isEdit\">\n    {{'user.display-activation-link' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'resendActivation')\"\n          [fxShow]=\"!isEdit\">\n    {{'user.resend-activation' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'loginAsUser')\"\n          *ngIf=\"loginAsUserEnabled$ | async\"\n          [fxShow]=\"!isEdit\">\n    {{ (entity?.authority === authority.TENANT_ADMIN ? 'user.login-as-tenant-admin' : 'user.login-as-customer-user') | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'delete')\"\n          [fxShow]=\"!hideDelete() && !isEdit\">\n    {{'user.delete' | translate }}\n  </button>\n  <div fxLayout=\"row\" fxLayout.xs=\"column\">\n    <button mat-raised-button\n            ngxClipboard\n            (cbOnSuccess)=\"onUserIdCopied($event)\"\n            [cbContent]=\"entity?.id?.id\"\n            [disabled]=\"(isLoading$ | async)\"\n            [fxShow]=\"!isEdit\">\n      <mat-icon svgIcon=\"mdi:clipboard-arrow-left\"></mat-icon>\n      <span translate>user.copyId</span>\n    </button>\n  </div>\n</div>\n<div class=\"mat-padding\" fxLayout=\"column\">\n  <form [formGroup]=\"entityForm\">\n    <fieldset [disabled]=\"(isLoading$ | async) || !isEdit\">\n      <mat-form-field class=\"mat-block\">\n        <mat-label translate>user.email</mat-label>\n        <input matInput formControlName=\"email\" required>\n        <mat-error *ngIf=\"entityForm.get('email').hasError('email')\">\n          {{ 'user.invalid-email-format' | translate }}\n        </mat-error>\n        <mat-error *ngIf=\"entityForm.get('email').hasError('required')\">\n          {{ 'user.email-required' | translate }}\n        </mat-error>\n      </mat-form-field>\n      <mat-form-field class=\"mat-block\">\n        <mat-label translate>user.first-name</mat-label>\n        <input matInput formControlName=\"firstName\">\n      </mat-form-field>\n      <mat-form-field class=\"mat-block\">\n        <mat-label translate>user.last-name</mat-label>\n        <input matInput formControlName=\"lastName\">\n      </mat-form-field>\n      <div formGroupName=\"additionalInfo\" fxLayout=\"column\">\n        <mat-form-field class=\"mat-block\">\n          <mat-label translate>user.description</mat-label>\n          <textarea matInput formControlName=\"description\" rows=\"2\"></textarea>\n        </mat-form-field>\n        <section class=\"tb-default-dashboard\" fxFlex fxLayout=\"column\" *ngIf=\"entity?.id\">\n          <section fxFlex fxLayout=\"column\" fxLayout.gt-sm=\"row\">\n            <tb-dashboard-autocomplete\n              fxFlex\n              placeholder=\"{{ 'user.default-dashboard' | translate }}\"\n              formControlName=\"defaultDashboardId\"\n              [dashboardsScope]=\"entity?.authority === authority.TENANT_ADMIN ? 'tenant' : 'customer'\"\n              [tenantId]=\"entity?.tenantId?.id\"\n              [customerId]=\"entity?.customerId?.id\"\n              [selectFirstDashboard]=\"false\"\n            ></tb-dashboard-autocomplete>\n            <mat-checkbox fxFlex formControlName=\"defaultDashboardFullscreen\">\n              {{ 'user.always-fullscreen' | translate }}\n            </mat-checkbox>\n          </section>\n          <section fxFlex fxLayout=\"column\" fxLayout.gt-sm=\"row\">\n            <tb-dashboard-autocomplete\n              fxFlex\n              placeholder=\"{{ 'dashboard.home-dashboard' | translate }}\"\n              formControlName=\"homeDashboardId\"\n              [dashboardsScope]=\"entity?.authority === authority.TENANT_ADMIN ? 'tenant' : 'customer'\"\n              [tenantId]=\"entity?.tenantId?.id\"\n              [customerId]=\"entity?.customerId?.id\"\n              [selectFirstDashboard]=\"false\"\n            ></tb-dashboard-autocomplete>\n            <mat-checkbox fxFlex formControlName=\"homeDashboardHideToolbar\">\n              {{ 'dashboard.home-dashboard-hide-toolbar' | translate }}\n            </mat-checkbox>\n          </section>\n        </section>\n      </div>\n    </fieldset>\n  </form>\n</div>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { EntitiesTableComponent } from '../../components/entity/entities-table.component';\nimport { Authority } from '@shared/models/authority.enum';\nimport { UsersTableConfigResolver } from '../user/users-table-config.resolver';\nimport { CustomersTableConfigResolver } from './customers-table-config.resolver';\nimport { DevicesTableConfigResolver } from '@modules/home/pages/device/devices-table-config.resolver';\nimport { AssetsTableConfigResolver } from '../asset/assets-table-config.resolver';\nimport { DashboardsTableConfigResolver } from '@modules/home/pages/dashboard/dashboards-table-config.resolver';\nimport { DashboardPageComponent } from '@home/components/dashboard-page/dashboard-page.component';\nimport { BreadCrumbConfig } from '@shared/components/breadcrumb';\nimport { dashboardBreadcumbLabelFunction, DashboardResolver } from '@home/pages/dashboard/dashboard-routing.module';\nimport { EdgesTableConfigResolver } from '@home/pages/edge/edges-table-config.resolver';\n\nconst routes: Routes = [\n  {\n    path: 'customers',\n    data: {\n      breadcrumb: {\n        label: 'customer.customers',\n        icon: 'supervisor_account'\n      }\n    },\n    children: [\n      {\n        path: '',\n        component: EntitiesTableComponent,\n        data: {\n          auth: [Authority.TENANT_ADMIN],\n          title: 'customer.customers'\n        },\n        resolve: {\n          entitiesTableConfig: CustomersTableConfigResolver\n        }\n      },\n      {\n        path: ':customerId/users',\n        component: EntitiesTableComponent,\n        data: {\n          auth: [Authority.TENANT_ADMIN],\n          title: 'user.customer-users',\n          breadcrumb: {\n            label: 'user.customer-users',\n            icon: 'account_circle'\n          }\n        },\n        resolve: {\n          entitiesTableConfig: UsersTableConfigResolver\n        }\n      },\n      {\n        path: ':customerId/devices',\n        component: EntitiesTableComponent,\n        data: {\n          auth: [Authority.TENANT_ADMIN],\n          title: 'customer.devices',\n          devicesType: 'customer',\n          breadcrumb: {\n            label: 'customer.devices',\n            icon: 'devices_other'\n          }\n        },\n        resolve: {\n          entitiesTableConfig: DevicesTableConfigResolver\n        }\n      },\n      {\n        path: ':customerId/assets',\n        component: EntitiesTableComponent,\n        data: {\n          auth: [Authority.TENANT_ADMIN],\n          title: 'customer.assets',\n          assetsType: 'customer',\n          breadcrumb: {\n            label: 'customer.assets',\n            icon: 'domain'\n          }\n        },\n        resolve: {\n          entitiesTableConfig: AssetsTableConfigResolver\n        }\n      },\n      {\n        path: ':customerId/edgeInstances',\n        component: EntitiesTableComponent,\n        data: {\n          auth: [Authority.TENANT_ADMIN],\n          title: 'customer.edges',\n          edgesType: 'customer',\n          breadcrumb: {\n            label: 'customer.edges',\n            icon: 'router'\n          }\n        },\n        resolve: {\n          entitiesTableConfig: EdgesTableConfigResolver\n        }\n      },\n      {\n        path: ':customerId/dashboards',\n        data: {\n          breadcrumb: {\n            label: 'customer.dashboards',\n            icon: 'dashboard'\n          }\n        },\n        children: [\n          {\n            path: '',\n            component: EntitiesTableComponent,\n            data: {\n              auth: [Authority.TENANT_ADMIN],\n              title: 'customer.dashboards',\n              dashboardsType: 'customer'\n            },\n            resolve: {\n              entitiesTableConfig: DashboardsTableConfigResolver\n            }\n          },\n          {\n            path: ':dashboardId',\n            component: DashboardPageComponent,\n            data: {\n              breadcrumb: {\n                labelFunction: dashboardBreadcumbLabelFunction,\n                icon: 'dashboard'\n              } as BreadCrumbConfig<DashboardPageComponent>,\n              auth: [Authority.TENANT_ADMIN, Authority.CUSTOMER_USER],\n              title: 'customer.dashboard',\n              widgetEditMode: false\n            },\n            resolve: {\n              dashboard: DashboardResolver\n            }\n          }\n        ]\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n  providers: [\n    CustomersTableConfigResolver\n  ]\n})\nexport class CustomerRoutingModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { EntitiesTableComponent } from '../../components/entity/entities-table.component';\nimport { Authority } from '@shared/models/authority.enum';\nimport { DeviceProfilesTableConfigResolver } from './device-profiles-table-config.resolver';\n\nconst routes: Routes = [\n  {\n    path: 'deviceProfiles',\n    data: {\n      breadcrumb: {\n        label: 'device-profile.device-profiles',\n        icon: 'mdi:alpha-d-box'\n      }\n    },\n    children: [\n      {\n        path: '',\n        component: EntitiesTableComponent,\n        data: {\n          auth: [Authority.TENANT_ADMIN],\n          title: 'device-profile.device-profiles'\n        },\n        resolve: {\n          entitiesTableConfig: DeviceProfilesTableConfigResolver\n        }\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n  providers: [\n    DeviceProfilesTableConfigResolver\n  ]\n})\nexport class DeviceProfileRoutingModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from '@shared/shared.module';\nimport { HomeDialogsModule } from '../../dialogs/home-dialogs.module';\nimport { AssetComponent } from './asset.component';\nimport { AssetTableHeaderComponent } from './asset-table-header.component';\nimport { AssetRoutingModule } from './asset-routing.module';\nimport { HomeComponentsModule } from '@modules/home/components/home-components.module';\nimport { AssetTabsComponent } from '@home/pages/asset/asset-tabs.component';\n\n@NgModule({\n  declarations: [\n    AssetComponent,\n    AssetTabsComponent,\n    AssetTableHeaderComponent\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    HomeComponentsModule,\n    HomeDialogsModule,\n    AssetRoutingModule\n  ]\n})\nexport class AssetModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\nimport { Component, OnInit } from '@angular/core';\nimport { FcNodeComponent } from 'ngx-flowchart/dist/ngx-flowchart';\nimport { FcRuleNode, RuleNodeType } from '@shared/models/rule-node.models';\nimport { Router } from '@angular/router';\nimport { RuleChainType } from '@app/shared/models/rule-chain.models';\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'rule-node',\n  templateUrl: './rulenode.component.html',\n  styleUrls: ['./rulenode.component.scss']\n})\nexport class RuleNodeComponent extends FcNodeComponent implements OnInit {\n\n  iconUrl: SafeResourceUrl;\n  RuleNodeType = RuleNodeType;\n\n  constructor(private sanitizer: DomSanitizer,\n              private router: Router) {\n    super();\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n    if (this.node.iconUrl) {\n      this.iconUrl = this.sanitizer.bypassSecurityTrustResourceUrl(this.node.iconUrl);\n    }\n  }\n\n  openRuleChain($event: Event, node: FcRuleNode) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    if (node.targetRuleChainId) {\n      if (node.ruleChainType === RuleChainType.EDGE) {\n        this.router.navigateByUrl(`/edgeManagement/ruleChains/${node.targetRuleChainId}`);\n      } else {\n        this.router.navigateByUrl(`/ruleChains/${node.targetRuleChainId}`);\n      }\n\n    }\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div\n   (dblclick)=\"userNodeCallbacks.doubleClick($event, node)\"\n   (mousedown)=\"userNodeCallbacks.mouseDown($event, node)\"\n   (mouseenter)=\"userNodeCallbacks.mouseEnter($event, node)\"\n   (mouseleave)=\"userNodeCallbacks.mouseLeave($event, node)\">\n  <div class=\"fc-node-overlay\"></div>\n  <div class=\"tb-rule-node {{node.nodeClass}}\"\n       [ngClass]=\"{'tb-rule-node-highlighted' : node.highlighted,\n                   'tb-rule-node-invalid': node.error }\">\n    <mat-icon *ngIf=\"!iconUrl\" fxFlex=\"15\">{{node.icon}}</mat-icon>\n    <img *ngIf=\"iconUrl\" fxFlex=\"15\" [src]=\"iconUrl\"/>\n    <div fxLayout=\"column\" fxFlex=\"85\" fxLayoutAlign=\"center\">\n      <span class=\"tb-node-type\">{{ node.component.name }}</span>\n      <span class=\"tb-node-title\" *ngIf=\"node.name\">{{ node.name }}</span>\n    </div>\n    <div class=\"{{flowchartConstants.leftConnectorClass}}\">\n      <div fc-magnet [connector]=\"connector\" [callbacks]=\"callbacks\"\n           *ngFor=\"let connector of modelservice.nodes.getConnectorsByType(node, flowchartConstants.leftConnectorType)\">\n        <div fc-connector [connector]=\"connector\"\n             [nodeRectInfo]=\"nodeRectInfo\"\n             [mouseOverConnector]=\"mouseOverConnector\"\n             [callbacks]=\"callbacks\"\n             [modelservice]=\"modelservice\"></div>\n      </div>\n    </div>\n    <div class=\"{{flowchartConstants.rightConnectorClass}}\">\n      <div fc-magnet [connector]=\"connector\" [callbacks]=\"callbacks\"\n           *ngFor=\"let connector of modelservice.nodes.getConnectorsByType(node, flowchartConstants.rightConnectorType)\">\n        <div fc-connector [connector]=\"connector\"\n             [nodeRectInfo]=\"nodeRectInfo\"\n             [mouseOverConnector]=\"mouseOverConnector\"\n             [callbacks]=\"callbacks\"\n             [modelservice]=\"modelservice\"></div>\n      </div>\n    </div>\n  </div>\n  <section *ngIf=\"modelservice.isEditable() && !node.readonly\">\n    <div class=\"fc-nodeedit\" (click)=\"userNodeCallbacks.nodeEdit($event, node)\">\n      <i class=\"fa fa-pencil\" aria-hidden=\"true\"></i>\n    </div>\n    <div class=\"fc-nodedelete\" (click)=\"modelservice.nodes.delete(node)\">\n      &times;\n    </div>\n  </section>\n  <section *ngIf=\"node.component.type === RuleNodeType.RULE_CHAIN && modelservice.isEditable()\">\n    <div class=\"fc-nodeopen\" (click)=\"openRuleChain($event, node)\">\n      <mat-icon class=\"material-icons\" svgIcon=\"mdi:login\"></mat-icon>\n    </div>\n  </section>\n</div>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { HomeLinksRoutingModule } from './home-links-routing.module';\nimport { HomeLinksComponent } from './home-links.component';\nimport { SharedModule } from '@app/shared/shared.module';\nimport { HomeComponentsModule } from '@home/components/home-components.module';\n\n@NgModule({\n  declarations:\n    [\n      HomeLinksComponent\n    ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    HomeComponentsModule,\n    HomeLinksRoutingModule\n  ]\n})\nexport class HomeLinksModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, forwardRef, Input, OnInit } from '@angular/core';\nimport { ControlValueAccessor, FormBuilder, FormGroup, NG_VALUE_ACCESSOR, Validators } from '@angular/forms';\nimport { FcRuleEdge, LinkLabel } from '@shared/models/rule-node.models';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { TruncatePipe } from '@shared/pipe/truncate.pipe';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'tb-rule-node-link',\n  templateUrl: './rule-node-link.component.html',\n  styleUrls: [],\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => RuleNodeLinkComponent),\n    multi: true\n  }]\n})\nexport class RuleNodeLinkComponent implements ControlValueAccessor, OnInit {\n\n  private requiredValue: boolean;\n  get required(): boolean {\n    return this.requiredValue;\n  }\n  @Input()\n  set required(value: boolean) {\n    this.requiredValue = coerceBooleanProperty(value);\n  }\n\n  @Input()\n  disabled: boolean;\n\n  private allowCustomValue: boolean;\n  get allowCustom(): boolean {\n    return this.allowCustomValue;\n  }\n  @Input()\n  set allowCustom(value: boolean) {\n    this.allowCustomValue = coerceBooleanProperty(value);\n  }\n\n  @Input()\n  allowedLabels: {[label: string]: LinkLabel};\n\n  ruleNodeLinkFormGroup: FormGroup;\n\n  modelValue: FcRuleEdge;\n\n  private propagateChange = (v: any) => { };\n\n  constructor(private fb: FormBuilder,\n              public truncate: TruncatePipe,\n              public translate: TranslateService) {\n    this.ruleNodeLinkFormGroup = this.fb.group({\n      labels: [[], Validators.required]\n    });\n    this.ruleNodeLinkFormGroup.get('labels').valueChanges.subscribe(\n      (labels: string[]) => this.updateModel(labels)\n    );\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  ngOnInit(): void {\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n    if (this.disabled) {\n      this.ruleNodeLinkFormGroup.disable({emitEvent: false});\n    } else {\n      this.ruleNodeLinkFormGroup.enable({emitEvent: false});\n    }\n  }\n\n  writeValue(value: FcRuleEdge): void {\n    this.modelValue = value;\n    const labels = this.modelValue && this.modelValue.labels ? this.modelValue.labels : [];\n    this.ruleNodeLinkFormGroup.get('labels').patchValue(labels, {emitEvent: false});\n  }\n\n  private updateModel(labels: string[]) {\n    if (labels && labels.length) {\n      this.modelValue.labels = labels;\n      this.modelValue.label = labels.join(' / ');\n      this.propagateChange(this.modelValue);\n    } else {\n      this.propagateChange(this.required ? null : this.modelValue);\n    }\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div class=\"mat-padding\" fxLayout=\"column\">\n  <form [formGroup]=\"ruleNodeLinkFormGroup\">\n    <tb-link-labels\n      required\n      formControlName=\"labels\"\n      [allowedLabels]=\"allowedLabels\"\n      [allowCustom]=\"allowCustom\"\n    ></tb-link-labels>\n  </form>\n</div>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, forwardRef, Input, OnDestroy, OnInit } from '@angular/core';\nimport { ControlValueAccessor, FormBuilder, FormGroup, NG_VALUE_ACCESSOR, Validators } from '@angular/forms';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@app/core/core.state';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport {\n  CoapDeviceTransportConfiguration,\n  DeviceTransportConfiguration,\n  DeviceTransportType\n} from '@shared/models/device.models';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { isDefinedAndNotNull } from '@core/utils';\n\n@Component({\n  selector: 'tb-coap-device-transport-configuration',\n  templateUrl: './coap-device-transport-configuration.component.html',\n  styleUrls: [],\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => CoapDeviceTransportConfigurationComponent),\n    multi: true\n  }]\n})\nexport class CoapDeviceTransportConfigurationComponent implements ControlValueAccessor, OnInit, OnDestroy {\n\n  coapDeviceTransportForm: FormGroup;\n\n  private requiredValue: boolean;\n  get required(): boolean {\n    return this.requiredValue;\n  }\n  @Input()\n  set required(value: boolean) {\n    this.requiredValue = coerceBooleanProperty(value);\n  }\n\n  @Input()\n  disabled: boolean;\n\n  private destroy$ = new Subject();\n  private propagateChange = (v: any) => { };\n\n  constructor(private store: Store<AppState>,\n              private fb: FormBuilder) {\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  ngOnInit() {\n    this.coapDeviceTransportForm = this.fb.group({\n      powerMode: [null],\n      edrxCycle: [{disabled: true, value: 0}, Validators.required],\n      psmActivityTimer: [{disabled: true, value: 0}, Validators.required],\n      pagingTransmissionWindow: [{disabled: true, value: 0}, Validators.required]\n    });\n    this.coapDeviceTransportForm.valueChanges.pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(() => {\n      this.updateModel();\n    });\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n    if (this.disabled) {\n      this.coapDeviceTransportForm.disable({emitEvent: false});\n    } else {\n      this.coapDeviceTransportForm.enable({emitEvent: false});\n      this.coapDeviceTransportForm.get('powerMode').updateValueAndValidity({onlySelf: true});\n    }\n  }\n\n  writeValue(value: CoapDeviceTransportConfiguration | null): void {\n    if (isDefinedAndNotNull(value)) {\n      this.coapDeviceTransportForm.patchValue(value, {emitEvent: false});\n    } else {\n      this.coapDeviceTransportForm.get('powerMode').patchValue(null, {emitEvent: false});\n    }\n    if (!this.disabled) {\n      this.coapDeviceTransportForm.get('powerMode').updateValueAndValidity({onlySelf: true});\n    }\n  }\n\n  private updateModel() {\n    let configuration: DeviceTransportConfiguration = null;\n    if (this.coapDeviceTransportForm.valid) {\n      configuration = this.coapDeviceTransportForm.value;\n      configuration.type = DeviceTransportType.COAP;\n    }\n    this.propagateChange(configuration);\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<form [formGroup]=\"coapDeviceTransportForm\" style=\"padding-bottom: 16px;\">\n  <tb-power-mode-settings [parentForm]=\"coapDeviceTransportForm\" [isDeviceSetting]=\"true\">\n  </tb-power-mode-settings>\n</form>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Injectable, NgModule } from '@angular/core';\nimport { Resolve, RouterModule, Routes } from '@angular/router';\n\nimport { MailServerComponent } from '@modules/home/pages/admin/mail-server.component';\nimport { ConfirmOnExitGuard } from '@core/guards/confirm-on-exit.guard';\nimport { Authority } from '@shared/models/authority.enum';\nimport { GeneralSettingsComponent } from '@modules/home/pages/admin/general-settings.component';\nimport { SecuritySettingsComponent } from '@modules/home/pages/admin/security-settings.component';\nimport { OAuth2SettingsComponent } from '@home/pages/admin/oauth2-settings.component';\nimport { Observable } from 'rxjs';\nimport { OAuth2Service } from '@core/http/oauth2.service';\nimport { SmsProviderComponent } from '@home/pages/admin/sms-provider.component';\nimport { HomeSettingsComponent } from '@home/pages/admin/home-settings.component';\nimport { EntitiesTableComponent } from '@home/components/entity/entities-table.component';\nimport { ResourcesLibraryTableConfigResolver } from '@home/pages/admin/resource/resources-library-table-config.resolve';\n\n@Injectable()\nexport class OAuth2LoginProcessingUrlResolver implements Resolve<string> {\n\n  constructor(private oauth2Service: OAuth2Service) {\n  }\n\n  resolve(): Observable<string> {\n    return this.oauth2Service.getLoginProcessingUrl();\n  }\n}\n\nconst routes: Routes = [\n  {\n    path: 'settings',\n    data: {\n      auth: [Authority.SYS_ADMIN, Authority.TENANT_ADMIN],\n      breadcrumb: {\n        label: 'admin.system-settings',\n        icon: 'settings'\n      }\n    },\n    children: [\n      {\n        path: '',\n        data: {\n          auth: [Authority.SYS_ADMIN, Authority.TENANT_ADMIN],\n          redirectTo: {\n            SYS_ADMIN: '/settings/general',\n            TENANT_ADMIN: '/settings/home'\n          }\n        }\n      },\n      {\n        path: 'general',\n        component: GeneralSettingsComponent,\n        canDeactivate: [ConfirmOnExitGuard],\n        data: {\n          auth: [Authority.SYS_ADMIN],\n          title: 'admin.general-settings',\n          breadcrumb: {\n            label: 'admin.general',\n            icon: 'settings_applications'\n          }\n        }\n      },\n      {\n        path: 'outgoing-mail',\n        component: MailServerComponent,\n        canDeactivate: [ConfirmOnExitGuard],\n        data: {\n          auth: [Authority.SYS_ADMIN],\n          title: 'admin.outgoing-mail-settings',\n          breadcrumb: {\n            label: 'admin.outgoing-mail',\n            icon: 'mail'\n          }\n        }\n      },\n      {\n        path: 'sms-provider',\n        component: SmsProviderComponent,\n        canDeactivate: [ConfirmOnExitGuard],\n        data: {\n          auth: [Authority.SYS_ADMIN],\n          title: 'admin.sms-provider-settings',\n          breadcrumb: {\n            label: 'admin.sms-provider',\n            icon: 'sms'\n          }\n        }\n      },\n      {\n        path: 'security-settings',\n        component: SecuritySettingsComponent,\n        canDeactivate: [ConfirmOnExitGuard],\n        data: {\n          auth: [Authority.SYS_ADMIN],\n          title: 'admin.security-settings',\n          breadcrumb: {\n            label: 'admin.security-settings',\n            icon: 'security'\n          }\n        }\n      },\n      {\n        path: 'oauth2',\n        component: OAuth2SettingsComponent,\n        canDeactivate: [ConfirmOnExitGuard],\n        data: {\n          auth: [Authority.SYS_ADMIN],\n          title: 'admin.oauth2.oauth2',\n          breadcrumb: {\n            label: 'admin.oauth2.oauth2',\n            icon: 'security'\n          }\n        },\n        resolve: {\n          loginProcessingUrl: OAuth2LoginProcessingUrlResolver\n        }\n      },\n      {\n        path: 'home',\n        component: HomeSettingsComponent,\n        canDeactivate: [ConfirmOnExitGuard],\n        data: {\n          auth: [Authority.TENANT_ADMIN],\n          title: 'admin.home-settings',\n          breadcrumb: {\n            label: 'admin.home-settings',\n            icon: 'settings_applications'\n          }\n        }\n      },\n      {\n        path: 'resources-library',\n        component: EntitiesTableComponent,\n        data: {\n          auth: [Authority.TENANT_ADMIN, Authority.SYS_ADMIN],\n          title: 'resource.resources-library',\n          breadcrumb: {\n            label: 'resource.resources-library',\n            icon: 'folder'\n          }\n        },\n        resolve: {\n          entitiesTableConfig: ResourcesLibraryTableConfigResolver\n        }\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n  providers: [\n    OAuth2LoginProcessingUrlResolver,\n    ResourcesLibraryTableConfigResolver\n  ]\n})\nexport class AdminRoutingModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component } from '@angular/core';\nimport { EntityTableHeaderComponent } from '@home/components/entity/entity-table-header.component';\nimport { EntityType } from '@shared/models/entity-type.models';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { EdgeInfo } from '@shared/models/edge.models';\n\n@Component({\n  selector: 'tb-edge-table-header',\n  templateUrl: './edge-table-header.component.html',\n  styleUrls: ['./edge-table-header.component.scss']\n})\nexport class EdgeTableHeaderComponent extends EntityTableHeaderComponent<EdgeInfo> {\n\n  entityType = EntityType;\n\n  constructor(protected store: Store<AppState>) {\n    super(store);\n  }\n\n  edgeTypeChanged(edgeType: string) {\n    this.entitiesTableConfig.componentsData.edgeType = edgeType;\n    this.entitiesTableConfig.table.resetSortAndFilter(true);\n  }\n\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<tb-entity-subtype-select\n  [showLabel]=\"true\"\n  [entityType]=\"entityType.EDGE\"\n  [ngModel]=\"entitiesTableConfig.componentsData.edgeType\"\n  (ngModelChange)=\"edgeTypeChanged($event)\">\n</tb-entity-subtype-select>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from '@shared/shared.module';\nimport { WidgetsBundleComponent } from '@modules/home/pages/widget/widgets-bundle.component';\nimport { WidgetLibraryRoutingModule } from '@modules/home/pages/widget/widget-library-routing.module';\nimport { HomeComponentsModule } from '@modules/home/components/home-components.module';\nimport { WidgetLibraryComponent } from './widget-library.component';\nimport { WidgetEditorComponent } from '@home/pages/widget/widget-editor.component';\nimport { SelectWidgetTypeDialogComponent } from '@home/pages/widget/select-widget-type-dialog.component';\nimport { SaveWidgetTypeAsDialogComponent } from './save-widget-type-as-dialog.component';\n\n@NgModule({\n  declarations: [\n    WidgetsBundleComponent,\n    WidgetLibraryComponent,\n    WidgetEditorComponent,\n    SelectWidgetTypeDialogComponent,\n    SaveWidgetTypeAsDialogComponent\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    HomeComponentsModule,\n    WidgetLibraryRoutingModule\n  ]\n})\nexport class WidgetLibraryModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, OnInit } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { ActionNotificationShow } from '@core/notification/notification.actions';\nimport { TranslateService } from '@ngx-translate/core';\nimport { AuthService } from '@core/auth/auth.service';\nimport { DialogComponent } from '@shared/components/dialog.component';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'tb-change-password-dialog',\n  templateUrl: './change-password-dialog.component.html',\n  styleUrls: ['./change-password-dialog.component.scss']\n})\nexport class ChangePasswordDialogComponent extends DialogComponent<ChangePasswordDialogComponent> implements OnInit {\n\n  changePassword: FormGroup;\n\n  constructor(protected store: Store<AppState>,\n              protected router: Router,\n              private translate: TranslateService,\n              private authService: AuthService,\n              public dialogRef: MatDialogRef<ChangePasswordDialogComponent>,\n              public fb: FormBuilder) {\n    super(store, router, dialogRef);\n  }\n\n  ngOnInit(): void {\n    this.buildChangePasswordForm();\n  }\n\n  buildChangePasswordForm() {\n    this.changePassword = this.fb.group({\n      currentPassword: [''],\n      newPassword: [''],\n      newPassword2: ['']\n    });\n  }\n\n  onChangePassword(): void {\n    if (this.changePassword.get('newPassword').value !== this.changePassword.get('newPassword2').value) {\n      this.store.dispatch(new ActionNotificationShow({ message: this.translate.instant('login.passwords-mismatch-error'),\n        type: 'error' }));\n    } else {\n      this.authService.changePassword(\n        this.changePassword.get('currentPassword').value,\n        this.changePassword.get('newPassword').value).subscribe(() => {\n          this.dialogRef.close(true);\n      });\n    }\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<form [formGroup]=\"changePassword\" (ngSubmit)=\"onChangePassword()\">\n  <mat-toolbar fxLayout=\"row\" color=\"primary\">\n    <h2 translate>profile.change-password</h2>\n    <span fxFlex></span>\n    <button mat-icon-button\n            [mat-dialog-close]=\"false\"\n            type=\"button\">\n      <mat-icon class=\"material-icons\">close</mat-icon>\n    </button>\n  </mat-toolbar>\n  <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n  </mat-progress-bar>\n  <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n  <div mat-dialog-content>\n    <mat-form-field class=\"mat-block\">\n      <mat-label translate>profile.current-password</mat-label>\n      <input matInput type=\"password\" formControlName=\"currentPassword\"/>\n      <mat-icon class=\"material-icons\" matPrefix>lock</mat-icon>\n      <tb-toggle-password matSuffix></tb-toggle-password>\n    </mat-form-field>\n    <mat-form-field class=\"mat-block\">\n      <mat-label translate>login.new-password</mat-label>\n      <input matInput type=\"password\" formControlName=\"newPassword\"/>\n      <mat-icon class=\"material-icons\" matPrefix>lock</mat-icon>\n      <tb-toggle-password matSuffix></tb-toggle-password>\n    </mat-form-field>\n    <mat-form-field class=\"mat-block\">\n      <mat-label translate>login.new-password-again</mat-label>\n      <input matInput type=\"password\" formControlName=\"newPassword2\"/>\n      <mat-icon class=\"material-icons\" matPrefix>lock</mat-icon>\n      <tb-toggle-password matSuffix></tb-toggle-password>\n    </mat-form-field>\n  </div>\n  <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">\n    <button mat-button color=\"primary\"\n            type=\"button\"\n            [disabled]=\"(isLoading$ | async)\"\n            [mat-dialog-close]=\"false\" cdkFocusInitial>\n      {{ 'action.cancel' | translate }}\n    </button>\n    <button mat-raised-button color=\"primary\"\n            type=\"submit\"\n            [disabled]=\"(isLoading$ | async) || changePassword.invalid\">\n      {{ 'profile.change-password' | translate }}\n    </button>\n  </div>\n</form>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, OnInit } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { PageComponent } from '@shared/components/page.component';\nimport { Router } from '@angular/router';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { HasConfirmForm } from '@core/guards/confirm-on-exit.guard';\nimport { DashboardService } from '@core/http/dashboard.service';\nimport { HomeDashboardInfo } from '@shared/models/dashboard.models';\nimport { isDefinedAndNotNull } from '@core/utils';\nimport { DashboardId } from '@shared/models/id/dashboard-id';\n\n@Component({\n  selector: 'tb-home-settings',\n  templateUrl: './home-settings.component.html',\n  styleUrls: ['./home-settings.component.scss', './settings-card.scss']\n})\nexport class HomeSettingsComponent extends PageComponent implements OnInit, HasConfirmForm {\n\n  homeSettings: FormGroup;\n\n  constructor(protected store: Store<AppState>,\n              private router: Router,\n              private dashboardService: DashboardService,\n              public fb: FormBuilder) {\n    super(store);\n  }\n\n  ngOnInit() {\n    this.homeSettings = this.fb.group({\n      dashboardId: [null],\n      hideDashboardToolbar: [true]\n    });\n    this.dashboardService.getTenantHomeDashboardInfo().subscribe(\n      (homeDashboardInfo) => {\n        this.setHomeDashboardInfo(homeDashboardInfo);\n      }\n    );\n  }\n\n  save(): void {\n    const strDashboardId = this.homeSettings.get('dashboardId').value;\n    const dashboardId: DashboardId = strDashboardId ? new DashboardId(strDashboardId) : null;\n    const hideDashboardToolbar = this.homeSettings.get('hideDashboardToolbar').value;\n    const homeDashboardInfo: HomeDashboardInfo = {\n      dashboardId,\n      hideDashboardToolbar\n    };\n    this.dashboardService.setTenantHomeDashboardInfo(homeDashboardInfo).subscribe(\n      () => {\n        this.setHomeDashboardInfo(homeDashboardInfo);\n      }\n    );\n  }\n\n  confirmForm(): FormGroup {\n    return this.homeSettings;\n  }\n\n  private setHomeDashboardInfo(homeDashboardInfo: HomeDashboardInfo) {\n    this.homeSettings.reset({\n      dashboardId: homeDashboardInfo?.dashboardId?.id,\n      hideDashboardToolbar: isDefinedAndNotNull(homeDashboardInfo?.hideDashboardToolbar) ?\n        homeDashboardInfo?.hideDashboardToolbar : true\n    });\n  }\n\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div>\n  <mat-card class=\"settings-card\">\n    <mat-card-title>\n      <div fxLayout=\"row\">\n        <span class=\"mat-headline\" translate>admin.home-settings</span>\n      </div>\n    </mat-card-title>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <mat-card-content style=\"padding-top: 16px;\">\n      <form [formGroup]=\"homeSettings\" (ngSubmit)=\"save()\">\n        <fieldset [disabled]=\"isLoading$ | async\">\n          <section class=\"tb-default-dashboard\" fxFlex fxLayout=\"column\">\n            <section fxFlex fxLayout=\"column\" fxLayout.gt-sm=\"row\">\n              <tb-dashboard-autocomplete\n                fxFlex\n                placeholder=\"{{ 'dashboard.home-dashboard' | translate }}\"\n                formControlName=\"dashboardId\"\n                [dashboardsScope]=\"'tenant'\"\n                [selectFirstDashboard]=\"false\"\n              ></tb-dashboard-autocomplete>\n              <mat-checkbox fxFlex formControlName=\"hideDashboardToolbar\">\n                {{ 'dashboard.home-dashboard-hide-toolbar' | translate }}\n              </mat-checkbox>\n            </section>\n          </section>\n          <div fxLayout=\"row\" fxLayoutAlign=\"end center\" style=\"width: 100%;\" class=\"layout-wrap\">\n            <button mat-button mat-raised-button color=\"primary\" [disabled]=\"(isLoading$ | async) || homeSettings.invalid || !homeSettings.dirty\"\n                    type=\"submit\">{{'action.save' | translate}}\n            </button>\n          </div>\n        </fieldset>\n      </form>\n    </mat-card-content>\n  </mat-card>\n</div>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { EntitiesTableComponent } from '../../components/entity/entities-table.component';\nimport { Authority } from '@shared/models/authority.enum';\nimport { EntityViewsTableConfigResolver } from '@modules/home/pages/entity-view/entity-views-table-config.resolver';\n\nconst routes: Routes = [\n  {\n    path: 'entityViews',\n    component: EntitiesTableComponent,\n    data: {\n      auth: [Authority.TENANT_ADMIN, Authority.CUSTOMER_USER],\n      title: 'entity-view.entity-views',\n      entityViewsType: 'tenant',\n      breadcrumb: {\n        label: 'entity-view.entity-views',\n        icon: 'view_quilt'\n      }\n    },\n    resolve: {\n      entitiesTableConfig: EntityViewsTableConfigResolver\n    }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n  providers: [\n    EntityViewsTableConfigResolver\n  ]\n})\nexport class EntityViewRoutingModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { DeviceInfo } from '@shared/models/device.models';\nimport { EntityTabsComponent } from '../../components/entity/entity-tabs.component';\n\n@Component({\n  selector: 'tb-device-tabs',\n  templateUrl: './device-tabs.component.html',\n  styleUrls: []\n})\nexport class DeviceTabsComponent extends EntityTabsComponent<DeviceInfo> {\n\n  constructor(protected store: Store<AppState>) {\n    super(store);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n  }\n\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'attribute.attributes' | translate }}\" #attributesTab=\"matTab\">\n  <tb-attribute-table [defaultAttributeScope]=\"attributeScopes.CLIENT_SCOPE\"\n                      [active]=\"attributesTab.isActive\"\n                      [entityId]=\"entity.id\"\n                      [entityName]=\"entity.name\">\n  </tb-attribute-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'attribute.latest-telemetry' | translate }}\" #telemetryTab=\"matTab\">\n  <tb-attribute-table [defaultAttributeScope]=\"latestTelemetryTypes.LATEST_TELEMETRY\"\n                      disableAttributeScopeSelection\n                      [active]=\"telemetryTab.isActive\"\n                      [entityId]=\"entity.id\"\n                      [entityName]=\"entity.name\">\n  </tb-attribute-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'alarm.alarms' | translate }}\" #alarmsTab=\"matTab\">\n  <tb-alarm-table [active]=\"alarmsTab.isActive\" [entityId]=\"entity.id\"></tb-alarm-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'device.events' | translate }}\" #eventsTab=\"matTab\">\n  <tb-event-table [defaultEventType]=\"eventTypes.ERROR\" [active]=\"eventsTab.isActive\" [tenantId]=\"entity.tenantId.id\"\n                  [entityId]=\"entity.id\"></tb-event-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'relation.relations' | translate }}\" #relationsTab=\"matTab\">\n  <tb-relation-table [active]=\"relationsTab.isActive\" [entityId]=\"entity.id\"></tb-relation-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity && authUser.authority === authorities.TENANT_ADMIN\"\n         label=\"{{ 'audit-log.audit-logs' | translate }}\" #auditLogsTab=\"matTab\">\n  <tb-audit-log-table detailsMode=\"true\" [active]=\"auditLogsTab.isActive\" [auditLogMode]=\"auditLogModes.ENTITY\" [entityId]=\"entity.id\"></tb-audit-log-table>\n</mat-tab>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { ChangeDetectorRef, Component, Inject, OnDestroy, OnInit } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { TranslateService } from '@ngx-translate/core';\nimport { EntityTableConfig } from '@home/models/entity/entities-table-config.models';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { EntityComponent } from '@home/components/entity/entity.component';\nimport {\n  Resource,\n  ResourceType,\n  ResourceTypeExtension,\n  ResourceTypeMIMETypes,\n  ResourceTypeTranslationMap\n} from '@shared/models/resource.models';\nimport {filter, pairwise, startWith, takeUntil} from 'rxjs/operators';\nimport { ActionNotificationShow } from '@core/notification/notification.actions';\n\n@Component({\n  selector: 'tb-resources-library',\n  templateUrl: './resources-library.component.html'\n})\nexport class ResourcesLibraryComponent extends EntityComponent<Resource> implements OnInit, OnDestroy {\n\n  readonly resourceType = ResourceType;\n  readonly resourceTypes = Object.values(this.resourceType);\n  readonly resourceTypesTranslationMap = ResourceTypeTranslationMap;\n\n  private destroy$ = new Subject();\n\n  constructor(protected store: Store<AppState>,\n              protected translate: TranslateService,\n              @Inject('entity') protected entityValue: Resource,\n              @Inject('entitiesTableConfig') protected entitiesTableConfigValue: EntityTableConfig<Resource>,\n              public fb: FormBuilder,\n              protected cd: ChangeDetectorRef) {\n    super(store, fb, entityValue, entitiesTableConfigValue, cd);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.entityForm.get('resourceType').valueChanges.pipe(\n      startWith(ResourceType.LWM2M_MODEL),\n      filter(() => this.isAdd),\n      takeUntil(this.destroy$)\n    ).subscribe((type) => {\n      if (type === this.resourceType.LWM2M_MODEL) {\n        this.entityForm.get('title').disable({emitEvent: false});\n        this.entityForm.patchValue({title: ''}, {emitEvent: false});\n      } else {\n        this.entityForm.get('title').enable({emitEvent: false})\n      }\n      this.entityForm.patchValue({\n        data: null,\n        fileName: null\n      }, {emitEvent: false});\n    });\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  hideDelete() {\n    if (this.entitiesTableConfig) {\n      return !this.entitiesTableConfig.deleteEnabled(this.entity);\n    } else {\n      return false;\n    }\n  }\n\n  buildForm(entity: Resource): FormGroup {\n    const form = this.fb.group(\n      {\n        title: [entity ? entity.title : \"\", [Validators.required, Validators.maxLength(255)]],\n        resourceType: [entity?.resourceType ? entity.resourceType : ResourceType.LWM2M_MODEL, [Validators.required]],\n        fileName: [entity ? entity.fileName : null, [Validators.required]],\n      }\n    );\n    if (this.isAdd) {\n      form.addControl('data', this.fb.control(null, Validators.required));\n    }\n    return form;\n  }\n\n  updateForm(entity: Resource) {\n    if (this.isEdit) {\n      this.entityForm.get('resourceType').disable({emitEvent: false});\n      this.entityForm.get('fileName').disable({emitEvent: false});\n    }\n    this.entityForm.patchValue({\n      resourceType: entity.resourceType,\n      fileName: entity.fileName,\n      title: entity.title\n    });\n  }\n\n  getAllowedExtensions() {\n    try {\n      return ResourceTypeExtension.get(this.entityForm.get('resourceType').value);\n    } catch (e) {\n      return '';\n    }\n  }\n\n  getAcceptType() {\n    try {\n      return ResourceTypeMIMETypes.get(this.entityForm.get('resourceType').value);\n    } catch (e) {\n      return '*/*';\n    }\n  }\n\n  convertToBase64File(data: string): string {\n    return window.btoa(data);\n  }\n\n  onResourceIdCopied() {\n    this.store.dispatch(new ActionNotificationShow(\n      {\n        message: this.translate.instant('resource.idCopiedMessage'),\n        type: 'success',\n        duration: 750,\n        verticalPosition: 'bottom',\n        horizontalPosition: 'right'\n      }));\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div class=\"tb-details-buttons\" fxLayout.xs=\"column\">\n  <button mat-raised-button color=\"primary\" fxFlex.xs\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'downloadResource')\"\n          [fxShow]=\"!isEdit\">\n    {{ 'resource.download' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\" fxFlex.xs\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'delete')\"\n          [fxShow]=\"!hideDelete() && !isEdit\">\n    {{ 'resource.delete' | translate }}\n  </button>\n  <div fxLayout=\"row\" fxLayout.xs=\"column\">\n    <button mat-raised-button\n            ngxClipboard\n            (cbOnSuccess)=\"onResourceIdCopied()\"\n            [cbContent]=\"entity?.id?.id\"\n            [fxShow]=\"!isEdit\">\n      <mat-icon svgIcon=\"mdi:clipboard-arrow-left\"></mat-icon>\n      <span translate>resource.copyId</span>\n    </button>\n  </div>\n</div>\n<div class=\"mat-padding\" fxLayout=\"column\">\n  <form [formGroup]=\"entityForm\">\n    <fieldset [disabled]=\"(isLoading$ | async) || !isEdit\">\n      <mat-form-field class=\"mat-block\">\n        <mat-label translate>resource.resource-type</mat-label>\n        <mat-select formControlName=\"resourceType\" required>\n          <mat-option *ngFor=\"let resourceType of resourceTypes\" [value]=\"resourceType\">\n            {{ resourceTypesTranslationMap.get(resourceType) }}\n          </mat-option>\n        </mat-select>\n      </mat-form-field>\n      <mat-form-field class=\"mat-block\" *ngIf=\"entityForm.get('resourceType').value !== resourceType.LWM2M_MODEL || !isAdd\">\n        <mat-label translate>resource.title</mat-label>\n        <input matInput formControlName=\"title\" required>\n        <mat-error *ngIf=\"entityForm.get('title').hasError('required')\">\n          {{ 'resource.title-required' | translate }}\n        </mat-error>\n        <mat-error *ngIf=\"entityForm.get('title').hasError('maxlength')\">\n          {{ 'resource.title-max-length' | translate }}\n        </mat-error>\n      </mat-form-field>\n      <tb-file-input *ngIf=\"isAdd\"\n        formControlName=\"data\"\n        required\n        [readAsBinary]=\"true\"\n        [allowedExtensions]=\"getAllowedExtensions()\"\n        [contentConvertFunction]=\"convertToBase64File\"\n        [accept]=\"getAcceptType()\"\n        [multipleFile]=\"entityForm.get('resourceType').value === resourceType.LWM2M_MODEL\"\n        dropLabel=\"{{'resource.drop-file' | translate}}\"\n        [existingFileName]=\"entityForm.get('fileName')?.value\"\n        (fileNameChanged)=\"entityForm?.get('fileName').patchValue($event)\">\n      </tb-file-input>\n      <div *ngIf=\"!isAdd\" fxLayout=\"row\" fxLayoutGap.gt-md=\"8px\" fxLayoutGap.sm=\"8px\" fxLayout.xs=\"column\" fxLayout.md=\"column\">\n        <mat-form-field fxFlex>\n          <mat-label translate>resource.file-name</mat-label>\n          <input matInput formControlName=\"fileName\" type=\"text\">\n        </mat-form-field>\n      </div>\n    </fieldset>\n  </form>\n</div>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { EntitiesTableComponent } from '@home/components/entity/entities-table.component';\nimport { Authority } from '@shared/models/authority.enum';\nimport { EdgesTableConfigResolver } from '@home/pages/edge/edges-table-config.resolver'\nimport { AssetsTableConfigResolver } from '@home/pages/asset/assets-table-config.resolver';\nimport { DevicesTableConfigResolver } from '@home/pages/device/devices-table-config.resolver';\nimport { EntityViewsTableConfigResolver } from '@home/pages/entity-view/entity-views-table-config.resolver';\nimport { DashboardsTableConfigResolver } from '@home/pages/dashboard/dashboards-table-config.resolver';\nimport { RuleChainsTableConfigResolver } from '@home/pages/rulechain/rulechains-table-config.resolver';\nimport { DashboardPageComponent } from '@home/components/dashboard-page/dashboard-page.component';\nimport { dashboardBreadcumbLabelFunction, DashboardResolver } from '@home/pages/dashboard/dashboard-routing.module';\nimport { BreadCrumbConfig } from '@shared/components/breadcrumb';\nimport { RuleChainPageComponent } from '@home/pages/rulechain/rulechain-page.component';\nimport { ConfirmOnExitGuard } from '@core/guards/confirm-on-exit.guard';\nimport { RuleChainType } from '@shared/models/rule-chain.models';\nimport {\n  importRuleChainBreadcumbLabelFunction,\n  ResolvedRuleChainMetaDataResolver,\n  ruleChainBreadcumbLabelFunction,\n  RuleChainImportGuard,\n  RuleChainResolver,\n  RuleNodeComponentsResolver,\n  TooltipsterResolver\n} from '@home/pages/rulechain/rulechain-routing.module';\n\nconst routes: Routes = [\n  {\n    path: 'edgeInstances',\n    data: {\n      breadcrumb: {\n        label: 'edge.edge-instances',\n        icon: 'router'\n      }\n    },\n    children: [\n      {\n        path: '',\n        component: EntitiesTableComponent,\n        data: {\n          auth: [Authority.TENANT_ADMIN, Authority.CUSTOMER_USER],\n          edgesType: 'tenant'\n        },\n        resolve: {\n          entitiesTableConfig: EdgesTableConfigResolver\n        }\n      },\n      {\n        path: ':edgeId/assets',\n        component: EntitiesTableComponent,\n        data: {\n          auth: [Authority.TENANT_ADMIN, Authority.CUSTOMER_USER],\n          assetsType: 'edge',\n          breadcrumb: {\n            label: 'edge.assets',\n            icon: 'domain'\n          }\n        },\n        resolve: {\n          entitiesTableConfig: AssetsTableConfigResolver\n        }\n      },\n      {\n        path: ':edgeId/devices',\n        component: EntitiesTableComponent,\n        data: {\n          auth: [Authority.TENANT_ADMIN, Authority.CUSTOMER_USER],\n          devicesType: 'edge',\n          breadcrumb: {\n            label: 'edge.devices',\n            icon: 'devices_other'\n          }\n        },\n        resolve: {\n          entitiesTableConfig: DevicesTableConfigResolver\n        }\n      },\n      {\n        path: ':edgeId/entityViews',\n        component: EntitiesTableComponent,\n        data: {\n          auth: [Authority.TENANT_ADMIN, Authority.CUSTOMER_USER],\n          entityViewsType: 'edge',\n          breadcrumb: {\n            label: 'edge.entity-views',\n            icon: 'view_quilt'\n          },\n        },\n        resolve: {\n          entitiesTableConfig: EntityViewsTableConfigResolver\n        }\n      },\n      {\n        path: ':edgeId/dashboards',\n        data: {\n          breadcrumb: {\n            label: 'edge.dashboards',\n            icon: 'dashboard'\n          }\n        },\n        children: [\n          {\n            path: '',\n            component: EntitiesTableComponent,\n            data: {\n              auth: [Authority.TENANT_ADMIN, Authority.CUSTOMER_USER],\n              dashboardsType: 'edge'\n            },\n            resolve: {\n              entitiesTableConfig: DashboardsTableConfigResolver\n            },\n          },\n          {\n            path: ':dashboardId',\n            component: DashboardPageComponent,\n            data: {\n              breadcrumb: {\n                labelFunction: dashboardBreadcumbLabelFunction,\n                icon: 'dashboard'\n              } as BreadCrumbConfig<DashboardPageComponent>,\n              auth: [Authority.TENANT_ADMIN, Authority.CUSTOMER_USER],\n              title: 'edge.dashboard',\n              widgetEditMode: false\n            },\n            resolve: {\n              dashboard: DashboardResolver\n            }\n          }\n        ]\n      },\n      {\n        path: ':edgeId/ruleChains',\n        data: {\n          breadcrumb: {\n            label: 'edge.edge-rulechains',\n            icon: 'settings_ethernet'\n          }\n        },\n        children: [\n          {\n            path: '',\n            component: EntitiesTableComponent,\n            data: {\n              auth: [Authority.TENANT_ADMIN],\n              title: 'edge.rulechains',\n              ruleChainsType: 'edge'\n            },\n            resolve: {\n              entitiesTableConfig: RuleChainsTableConfigResolver\n            }\n          },\n          {\n            path: ':ruleChainId',\n            component: RuleChainPageComponent,\n            canDeactivate: [ConfirmOnExitGuard],\n            data: {\n              breadcrumb: {\n                labelFunction: ruleChainBreadcumbLabelFunction,\n                icon: 'settings_ethernet'\n              } as BreadCrumbConfig<RuleChainPageComponent>,\n              auth: [Authority.TENANT_ADMIN],\n              title: 'rulechain.edge-rulechain',\n              import: false,\n              ruleChainType: RuleChainType.EDGE\n            },\n            resolve: {\n              ruleChain: RuleChainResolver,\n              ruleChainMetaData: ResolvedRuleChainMetaDataResolver,\n              ruleNodeComponents: RuleNodeComponentsResolver,\n              tooltipster: TooltipsterResolver\n            }\n          }\n        ]\n      }\n    ]\n  },\n  {\n    path: 'edgeManagement',\n    data: {\n      breadcrumb: {\n        label: 'edge.management',\n        icon: 'settings_input_antenna'\n      }\n    },\n    children: [\n      {\n        path: '',\n        data: {\n          auth: [Authority.TENANT_ADMIN, Authority.CUSTOMER_USER],\n          redirectTo: '/edgeManagement/ruleChains'\n        }\n      },\n      {\n        path: 'ruleChains',\n        data: {\n          breadcrumb: {\n            label: 'edge.rulechain-templates',\n            icon: 'settings_ethernet'\n          }\n        },\n        children: [\n          {\n            path: '',\n            component: EntitiesTableComponent,\n            data: {\n              auth: [Authority.TENANT_ADMIN],\n              title: 'edge.rulechain-templates',\n              ruleChainsType: 'edges'\n            },\n            resolve: {\n              entitiesTableConfig: RuleChainsTableConfigResolver\n            }\n          },\n          {\n            path: ':ruleChainId',\n            component: RuleChainPageComponent,\n            canDeactivate: [ConfirmOnExitGuard],\n            data: {\n              breadcrumb: {\n                labelFunction: ruleChainBreadcumbLabelFunction,\n                icon: 'settings_ethernet'\n              } as BreadCrumbConfig<RuleChainPageComponent>,\n              auth: [Authority.TENANT_ADMIN],\n              title: 'rulechain.edge-rulechain',\n              import: false,\n              ruleChainType: RuleChainType.EDGE\n            },\n            resolve: {\n              ruleChain: RuleChainResolver,\n              ruleChainMetaData: ResolvedRuleChainMetaDataResolver,\n              ruleNodeComponents: RuleNodeComponentsResolver,\n              tooltipster: TooltipsterResolver\n            }\n          },\n          {\n            path: 'ruleChain/import',\n            component: RuleChainPageComponent,\n            canActivate: [RuleChainImportGuard],\n            canDeactivate: [ConfirmOnExitGuard],\n            data: {\n              breadcrumb: {\n                labelFunction: importRuleChainBreadcumbLabelFunction,\n                icon: 'settings_ethernet'\n              } as BreadCrumbConfig<RuleChainPageComponent>,\n              auth: [Authority.TENANT_ADMIN],\n              title: 'rulechain.edge-rulechain',\n              import: true,\n              ruleChainType: RuleChainType.EDGE\n            },\n            resolve: {\n              ruleNodeComponents: RuleNodeComponentsResolver,\n              tooltipster: TooltipsterResolver\n            }\n          }\n        ]\n      }\n    ]\n  }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n  providers: [\n    EdgesTableConfigResolver\n  ]\n})\nexport class EdgeRoutingModule {\n}\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, forwardRef, Input, OnInit } from '@angular/core';\nimport {\n  ControlValueAccessor,\n  FormBuilder,\n  FormGroup,\n  NG_VALIDATORS,\n  NG_VALUE_ACCESSOR,\n  ValidationErrors,\n  Validator,\n  Validators\n} from '@angular/forms';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@app/core/core.state';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport {\n  DeviceTransportConfiguration,\n  DeviceTransportType,\n  SnmpAuthenticationProtocol,\n  SnmpAuthenticationProtocolTranslationMap,\n  SnmpDeviceProtocolVersion,\n  SnmpDeviceTransportConfiguration,\n  SnmpPrivacyProtocol,\n  SnmpPrivacyProtocolTranslationMap\n} from '@shared/models/device.models';\nimport { isDefinedAndNotNull } from '@core/utils';\n\n@Component({\n  selector: 'tb-snmp-device-transport-configuration',\n  templateUrl: './snmp-device-transport-configuration.component.html',\n  styleUrls: [],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => SnmpDeviceTransportConfigurationComponent),\n      multi: true\n    }, {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => SnmpDeviceTransportConfigurationComponent),\n      multi: true\n    }]\n})\nexport class SnmpDeviceTransportConfigurationComponent implements ControlValueAccessor, OnInit, Validator {\n\n  snmpDeviceTransportConfigurationFormGroup: FormGroup;\n\n  snmpDeviceProtocolVersions = Object.values(SnmpDeviceProtocolVersion);\n  snmpAuthenticationProtocols = Object.values(SnmpAuthenticationProtocol);\n  snmpAuthenticationProtocolTranslation = SnmpAuthenticationProtocolTranslationMap;\n  snmpPrivacyProtocols = Object.values(SnmpPrivacyProtocol);\n  snmpPrivacyProtocolTranslation = SnmpPrivacyProtocolTranslationMap;\n\n  private requiredValue: boolean;\n\n  get required(): boolean {\n    return this.requiredValue;\n  }\n\n  @Input()\n  set required(value: boolean) {\n    this.requiredValue = coerceBooleanProperty(value);\n  }\n\n  @Input()\n  disabled: boolean;\n\n  private propagateChange = (v: any) => { };\n\n  constructor(private store: Store<AppState>,\n              private fb: FormBuilder) {\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  ngOnInit() {\n    this.snmpDeviceTransportConfigurationFormGroup = this.fb.group({\n      host: ['', [Validators.required, Validators.pattern('(.|\\\\s)*\\\\S(.|\\\\s)*')]],\n      port: [null, [Validators.required, Validators.min(0), Validators.pattern('[0-9]*')]],\n      protocolVersion: [SnmpDeviceProtocolVersion.V2C, Validators.required],\n      community: ['public', [Validators.required, Validators.pattern('(.|\\\\s)*\\\\S(.|\\\\s)*')]],\n      username: ['', [Validators.required, Validators.pattern('(.|\\\\s)*\\\\S(.|\\\\s)*')]],\n      securityName: ['public', [Validators.required, Validators.pattern('(.|\\\\s)*\\\\S(.|\\\\s)*')]],\n      contextName: [null],\n      authenticationProtocol: [SnmpAuthenticationProtocol.SHA_512, Validators.required],\n      authenticationPassphrase: ['', [Validators.required, Validators.pattern('(.|\\\\s)*\\\\S(.|\\\\s)*')]],\n      privacyProtocol: [SnmpPrivacyProtocol.DES, Validators.required],\n      privacyPassphrase: ['', [Validators.required, Validators.pattern('(.|\\\\s)*\\\\S(.|\\\\s)*')]],\n      engineId: ['']\n    });\n    this.snmpDeviceTransportConfigurationFormGroup.get('protocolVersion').valueChanges.subscribe((protocol: SnmpDeviceProtocolVersion) => {\n      this.updateDisabledFormValue(protocol);\n    });\n    this.snmpDeviceTransportConfigurationFormGroup.valueChanges.subscribe(() => {\n      this.updateModel();\n    });\n  }\n\n  validate(): ValidationErrors | null {\n    return this.snmpDeviceTransportConfigurationFormGroup.valid ?  null : {\n      snmpDeviceTransportConfiguration: false\n    };\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n    if (this.disabled) {\n      this.snmpDeviceTransportConfigurationFormGroup.disable({emitEvent: false});\n    } else {\n      this.snmpDeviceTransportConfigurationFormGroup.enable({emitEvent: false});\n    }\n  }\n\n  writeValue(value: SnmpDeviceTransportConfiguration | null): void {\n    if (isDefinedAndNotNull(value)) {\n      this.snmpDeviceTransportConfigurationFormGroup.patchValue(value, {emitEvent: false});\n      if (this.snmpDeviceTransportConfigurationFormGroup.enabled) {\n        this.updateDisabledFormValue(value.protocolVersion || SnmpDeviceProtocolVersion.V2C);\n      }\n    }\n  }\n\n  isV3protocolVersion(): boolean {\n    return this.snmpDeviceTransportConfigurationFormGroup.get('protocolVersion').value === SnmpDeviceProtocolVersion.V3;\n  }\n\n  private updateDisabledFormValue(protocol: SnmpDeviceProtocolVersion) {\n    if (protocol === SnmpDeviceProtocolVersion.V3) {\n      this.snmpDeviceTransportConfigurationFormGroup.get('community').disable({emitEvent: false});\n      this.snmpDeviceTransportConfigurationFormGroup.get('username').enable({emitEvent: false});\n      this.snmpDeviceTransportConfigurationFormGroup.get('securityName').enable({emitEvent: false});\n      this.snmpDeviceTransportConfigurationFormGroup.get('contextName').enable({emitEvent: false});\n      this.snmpDeviceTransportConfigurationFormGroup.get('authenticationProtocol').enable({emitEvent: false});\n      this.snmpDeviceTransportConfigurationFormGroup.get('authenticationPassphrase').enable({emitEvent: false});\n      this.snmpDeviceTransportConfigurationFormGroup.get('privacyProtocol').enable({emitEvent: false});\n      this.snmpDeviceTransportConfigurationFormGroup.get('privacyPassphrase').enable({emitEvent: false});\n      this.snmpDeviceTransportConfigurationFormGroup.get('engineId').enable({emitEvent: false});\n    } else {\n      this.snmpDeviceTransportConfigurationFormGroup.get('community').enable({emitEvent: false});\n      this.snmpDeviceTransportConfigurationFormGroup.get('username').disable({emitEvent: false});\n      this.snmpDeviceTransportConfigurationFormGroup.get('securityName').disable({emitEvent: false});\n      this.snmpDeviceTransportConfigurationFormGroup.get('contextName').disable({emitEvent: false});\n      this.snmpDeviceTransportConfigurationFormGroup.get('authenticationProtocol').disable({emitEvent: false});\n      this.snmpDeviceTransportConfigurationFormGroup.get('authenticationPassphrase').disable({emitEvent: false});\n      this.snmpDeviceTransportConfigurationFormGroup.get('privacyProtocol').disable({emitEvent: false});\n      this.snmpDeviceTransportConfigurationFormGroup.get('privacyPassphrase').disable({emitEvent: false});\n      this.snmpDeviceTransportConfigurationFormGroup.get('engineId').disable({emitEvent: false});\n    }\n  }\n\n  private updateModel() {\n    let configuration: DeviceTransportConfiguration = null;\n    if (this.snmpDeviceTransportConfigurationFormGroup.valid) {\n      configuration = this.snmpDeviceTransportConfigurationFormGroup.value;\n      configuration.type = DeviceTransportType.SNMP;\n    }\n    this.propagateChange(configuration);\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<form [formGroup]=\"snmpDeviceTransportConfigurationFormGroup\" style=\"padding-bottom: 16px;\"  fxLayoutGap=\"8px\" fxLayout=\"column\">\n  <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\">\n    <mat-form-field fxFlex>\n      <mat-label translate>device-profile.snmp.host</mat-label>\n      <input matInput formControlName=\"host\" required>\n      <mat-error *ngIf=\"snmpDeviceTransportConfigurationFormGroup.get('host').hasError('required') ||\n                          snmpDeviceTransportConfigurationFormGroup.get('host').hasError('pattern')\">\n        {{ 'device-profile.snmp.host-required' | translate }}\n      </mat-error>\n    </mat-form-field>\n    <mat-form-field fxFlex>\n      <mat-label translate>device-profile.snmp.port</mat-label>\n      <input matInput formControlName=\"port\" type=\"number\" min=\"0\" required>\n      <mat-error *ngIf=\"snmpDeviceTransportConfigurationFormGroup.get('port').hasError('required')\">\n        {{ 'device-profile.snmp.port-required' | translate }}\n      </mat-error>\n      <mat-error *ngIf=\"snmpDeviceTransportConfigurationFormGroup.get('port').hasError('pattern') ||\n                          snmpDeviceTransportConfigurationFormGroup.get('port').hasError('min')\">\n        {{ 'device-profile.snmp.port-format' | translate }}\n      </mat-error>\n    </mat-form-field>\n  </div>\n  <mat-form-field class=\"mat-block\" floatLabel=\"always\" hideRequiredMarker>\n    <mat-label translate>device-profile.snmp.protocol-version</mat-label>\n    <mat-select formControlName=\"protocolVersion\" required>\n      <mat-option *ngFor=\"let snmpDeviceProtocolVersion of snmpDeviceProtocolVersions\" [value]=\"snmpDeviceProtocolVersion\">\n        {{ snmpDeviceProtocolVersion | lowercase }}\n      </mat-option>\n    </mat-select>\n    <mat-error *ngIf=\"snmpDeviceTransportConfigurationFormGroup.get('protocolVersion').hasError('required')\">\n      {{ 'device-profile.snmp.protocol-version-required' | translate }}\n    </mat-error>\n  </mat-form-field>\n  <section *ngIf=\"!isV3protocolVersion()\">\n    <mat-form-field class=\"mat-block\">\n      <mat-label translate>device-profile.snmp.community</mat-label>\n      <input matInput formControlName=\"community\" required>\n      <mat-error *ngIf=\"snmpDeviceTransportConfigurationFormGroup.get('community').hasError('required') ||\n                          snmpDeviceTransportConfigurationFormGroup.get('community').hasError('pattern')\">\n        {{ 'device-profile.snmp.community-required' | translate }}\n      </mat-error>\n    </mat-form-field>\n  </section>\n  <section *ngIf=\"isV3protocolVersion()\">\n    <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\">\n      <mat-form-field fxFlex>\n        <mat-label translate>device-profile.snmp.user-name</mat-label>\n        <input matInput formControlName=\"username\" required>\n        <mat-error *ngIf=\"snmpDeviceTransportConfigurationFormGroup.get('username').hasError('required') ||\n                            snmpDeviceTransportConfigurationFormGroup.get('username').hasError('pattern')\">\n          {{ 'device-profile.snmp.user-name-required' | translate }}\n        </mat-error>\n      </mat-form-field>\n      <mat-form-field fxFlex>\n        <mat-label translate>device-profile.snmp.security-name</mat-label>\n        <input matInput formControlName=\"securityName\" required>\n        <mat-error *ngIf=\"snmpDeviceTransportConfigurationFormGroup.get('securityName').hasError('required') ||\n                            snmpDeviceTransportConfigurationFormGroup.get('securityName').hasError('pattern')\">\n          {{ 'device-profile.snmp.security-name-required' | translate }}\n        </mat-error>\n      </mat-form-field>\n    </div>\n    <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\">\n      <mat-form-field fxFlex floatLabel=\"always\" hideRequiredMarker>\n        <mat-label translate>device-profile.snmp.authentication-protocol</mat-label>\n        <mat-select formControlName=\"authenticationProtocol\" required>\n          <mat-option *ngFor=\"let snmpAuthenticationProtocol of snmpAuthenticationProtocols\" [value]=\"snmpAuthenticationProtocol\">\n            {{ snmpAuthenticationProtocolTranslation.get(snmpAuthenticationProtocol) }}\n          </mat-option>\n        </mat-select>\n        <mat-error *ngIf=\"snmpDeviceTransportConfigurationFormGroup.get('authenticationProtocol').hasError('required')\">\n          {{ 'device-profile.snmp.authentication-protocol-required' | translate }}\n        </mat-error>\n      </mat-form-field>\n      <mat-form-field fxFlex>\n        <mat-label translate>device-profile.snmp.authentication-passphrase</mat-label>\n        <input matInput formControlName=\"authenticationPassphrase\" required>\n        <mat-error *ngIf=\"snmpDeviceTransportConfigurationFormGroup.get('authenticationPassphrase').hasError('required') ||\n                            snmpDeviceTransportConfigurationFormGroup.get('authenticationPassphrase').hasError('pattern')\">\n          {{ 'device-profile.snmp.authentication-passphrase-required' | translate }}\n        </mat-error>\n      </mat-form-field>\n    </div>\n    <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\">\n      <mat-form-field fxFlex floatLabel=\"always\" hideRequiredMarker>\n        <mat-label translate>device-profile.snmp.privacy-protocol</mat-label>\n        <mat-select formControlName=\"privacyProtocol\" required>\n          <mat-option *ngFor=\"let snmpPrivacyProtocol of snmpPrivacyProtocols\" [value]=\"snmpPrivacyProtocol\">\n            {{ snmpPrivacyProtocolTranslation.get(snmpPrivacyProtocol) }}\n          </mat-option>\n        </mat-select>\n        <mat-error *ngIf=\"snmpDeviceTransportConfigurationFormGroup.get('privacyProtocol').hasError('required')\">\n          {{ 'device-profile.snmp.privacy-protocol-required' | translate }}\n        </mat-error>\n      </mat-form-field>\n      <mat-form-field fxFlex>\n        <mat-label translate>device-profile.snmp.privacy-passphrase</mat-label>\n        <input matInput formControlName=\"privacyPassphrase\" required>\n        <mat-error *ngIf=\"snmpDeviceTransportConfigurationFormGroup.get('privacyPassphrase').hasError('required') ||\n                            snmpDeviceTransportConfigurationFormGroup.get('privacyPassphrase').hasError('pattern')\">\n          {{ 'device-profile.snmp.privacy-passphrase-required' | translate }}\n        </mat-error>\n      </mat-form-field>\n    </div>\n    <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\">\n      <mat-form-field fxFlex>\n        <mat-label translate>device-profile.snmp.context-name</mat-label>\n        <input matInput formControlName=\"contextName\">\n      </mat-form-field>\n      <mat-form-field fxFlex>\n        <mat-label translate>device-profile.snmp.engine-id</mat-label>\n        <input matInput formControlName=\"engineId\">\n      </mat-form-field>\n    </div>\n  </section>\n</form>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, OnInit, ViewChild } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { PageComponent } from '@shared/components/page.component';\nimport { AuthUser } from '@shared/models/user.model';\nimport { getCurrentAuthUser } from '@core/auth/auth.selectors';\nimport { WidgetsBundle } from '@shared/models/widgets-bundle.model';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Authority } from '@shared/models/authority.enum';\nimport { NULL_UUID } from '@shared/models/id/has-uuid';\nimport { of } from 'rxjs';\nimport { Widget, widgetType } from '@app/shared/models/widget.models';\nimport { WidgetService } from '@core/http/widget.service';\nimport { map, mergeMap } from 'rxjs/operators';\nimport { DialogService } from '@core/services/dialog.service';\nimport { FooterFabButtons } from '@app/shared/components/footer-fab-buttons.component';\nimport { DashboardCallbacks, IDashboardComponent, WidgetsData } from '@home/models/dashboard-component.models';\nimport { IAliasController, IStateController, StateParams } from '@app/core/api/widget-api.models';\nimport { AliasController } from '@core/api/alias-controller';\nimport { MatDialog } from '@angular/material/dialog';\nimport { SelectWidgetTypeDialogComponent } from '@home/pages/widget/select-widget-type-dialog.component';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ImportExportService } from '@home/components/import-export/import-export.service';\nimport { UtilsService } from '@core/services/utils.service';\nimport { EntityService } from '@core/http/entity.service';\n\n@Component({\n  selector: 'tb-widget-library',\n  templateUrl: './widget-library.component.html',\n  styleUrls: ['./widget-library.component.scss']\n})\nexport class WidgetLibraryComponent extends PageComponent implements OnInit {\n\n  authUser: AuthUser;\n\n  isReadOnly: boolean;\n\n  widgetsBundle: WidgetsBundle;\n\n  widgetsData: WidgetsData;\n\n  footerFabButtons: FooterFabButtons = {\n    fabTogglerName: 'widget.add-widget-type',\n    fabTogglerIcon: 'add',\n    buttons: [\n      {\n        name: 'widget-type.create-new-widget-type',\n        icon: 'insert_drive_file',\n        onAction: ($event) => {\n          this.addWidgetType($event);\n        }\n      },\n      {\n        name: 'widget-type.import',\n        icon: 'file_upload',\n        onAction: ($event) => {\n          this.importWidgetType($event);\n        }\n      }\n    ]\n  };\n\n  dashboardCallbacks: DashboardCallbacks = {\n    onEditWidget: this.openWidgetType.bind(this),\n    onExportWidget: this.exportWidgetType.bind(this),\n    onRemoveWidget: this.removeWidgetType.bind(this)\n  };\n\n  aliasController: IAliasController = new AliasController(this.utils,\n    this.entityService,\n    this.translate,\n    () => { return {\n      getStateParams(): StateParams {\n        return {};\n      }\n    } as IStateController;\n    },\n    {},\n    {});\n\n  @ViewChild('dashboard', {static: true}) dashboard: IDashboardComponent;\n\n  constructor(protected store: Store<AppState>,\n              private route: ActivatedRoute,\n              private router: Router,\n              private widgetService: WidgetService,\n              private dialogService: DialogService,\n              private importExport: ImportExportService,\n              private dialog: MatDialog,\n              private translate: TranslateService,\n              private utils: UtilsService,\n              private entityService: EntityService) {\n    super(store);\n\n    this.authUser = getCurrentAuthUser(this.store);\n    this.widgetsBundle = this.route.snapshot.data.widgetsBundle;\n    this.widgetsData = this.route.snapshot.data.widgetsData;\n    if (this.authUser.authority === Authority.TENANT_ADMIN) {\n      this.isReadOnly = !this.widgetsBundle || this.widgetsBundle.tenantId.id === NULL_UUID;\n    } else {\n      this.isReadOnly = this.authUser.authority !== Authority.SYS_ADMIN;\n    }\n  }\n\n  ngOnInit(): void {\n  }\n\n  addWidgetType($event: Event): void {\n    this.openWidgetType($event);\n  }\n\n  importWidgetType($event: Event): void {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.importExport.importWidgetType(this.widgetsBundle.alias).subscribe(\n      (widgetTypeInstance) => {\n        if (widgetTypeInstance) {\n          this.reload();\n        }\n      }\n    );\n  }\n\n  private reload() {\n    const bundleAlias = this.widgetsBundle.alias;\n    const isSystem = this.widgetsBundle.tenantId.id === NULL_UUID;\n    this.widgetService.loadBundleLibraryWidgets(bundleAlias, isSystem).subscribe(\n      (widgets) => {\n        this.widgetsData = {widgets};\n      }\n    );\n  }\n\n  openWidgetType($event: Event, widget?: Widget): void {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    if (widget) {\n      this.router.navigate([widget.typeId.id], {relativeTo: this.route});\n    } else {\n      this.dialog.open<SelectWidgetTypeDialogComponent, any,\n        widgetType>(SelectWidgetTypeDialogComponent, {\n        disableClose: true,\n        panelClass: ['tb-dialog', 'tb-fullscreen-dialog']\n      }).afterClosed().subscribe(\n        (type) => {\n          if (type) {\n            this.router.navigate(['add', type], {relativeTo: this.route});\n          }\n        }\n      );\n    }\n  }\n\n  exportWidgetType($event: Event, widget: Widget): void {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.importExport.exportWidgetType(widget.typeId.id);\n  }\n\n  removeWidgetType($event: Event, widget: Widget): void {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialogService.confirm(\n      this.translate.instant('widget.remove-widget-type-title', {widgetName: widget.config.title}),\n      this.translate.instant('widget.remove-widget-type-text'),\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n    ).pipe(\n      mergeMap((result) => {\n        if (result) {\n          return this.widgetService.deleteWidgetType(widget.bundleAlias, widget.typeAlias, widget.isSystemType);\n        } else {\n          return of(false);\n        }\n      }),\n      map((result) => {\n        if (result !== false) {\n          this.reload();\n          return true;\n        } else {\n          return false;\n        }\n      }\n    )).subscribe();\n  }\n\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<section [fxShow]=\"!(isLoading$ | async) && widgetsData.widgets.length === 0\" fxLayoutAlign=\"center center\"\n         style=\"display: flex; z-index: 1;\"\n         class=\"tb-absolute-fill\">\n  <button mat-button *ngIf=\"!isReadOnly\" class=\"tb-add-new-widget\" (click)=\"addWidgetType($event)\">\n    <mat-icon class=\"tb-mat-96\">add</mat-icon>\n    {{ 'widget.add-widget-type' | translate }}\n  </button>\n  <span translate *ngIf=\"isReadOnly\"\n        fxLayoutAlign=\"center center\"\n        style=\"display: flex;\"\n        class=\"mat-headline tb-absolute-fill\">widgets-bundle.empty</span>\n</section>\n<tb-dashboard #dashboard\n              [aliasController]=\"aliasController\"\n              [widgets]=\"widgetsData.widgets\"\n              [widgetLayouts]=\"widgetsData.widgetLayouts\"\n              [isEdit]=\"false\"\n              [isEditActionEnabled]=\"true\"\n              [isExportActionEnabled]=\"true\"\n              [isRemoveActionEnabled]=\"!isReadOnly\"\n              [disableWidgetInteraction]=\"true\"\n              [callbacks]=\"dashboardCallbacks\"></tb-dashboard>\n<tb-footer-fab-buttons [fxShow]=\"!isReadOnly\" [footerFabButtons]=\"footerFabButtons\">\n</tb-footer-fab-buttons>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Injectable } from '@angular/core';\n\nimport { ActivatedRouteSnapshot, Resolve, Router } from '@angular/router';\nimport {\n  CellActionDescriptor,\n  checkBoxCell,\n  DateEntityTableColumn,\n  EntityColumn,\n  EntityTableColumn,\n  EntityTableConfig,\n  GroupActionDescriptor,\n  HeaderActionDescriptor\n} from '@home/models/entity/entities-table-config.models';\nimport { TranslateService } from '@ngx-translate/core';\nimport { DatePipe } from '@angular/common';\nimport { EntityType, entityTypeResources, entityTypeTranslations } from '@shared/models/entity-type.models';\nimport { EntityAction } from '@home/models/entity/entity-component.models';\nimport { RuleChain, RuleChainType } from '@shared/models/rule-chain.models';\nimport { RuleChainService } from '@core/http/rule-chain.service';\nimport { RuleChainComponent } from '@modules/home/pages/rulechain/rulechain.component';\nimport { DialogService } from '@core/services/dialog.service';\nimport { RuleChainTabsComponent } from '@home/pages/rulechain/rulechain-tabs.component';\nimport { ImportExportService } from '@home/components/import-export/import-export.service';\nimport { ItemBufferService } from '@core/services/item-buffer.service';\nimport { EdgeService } from '@core/http/edge.service';\nimport { forkJoin, Observable } from 'rxjs';\nimport {\n  AddEntitiesToEdgeDialogComponent,\n  AddEntitiesToEdgeDialogData\n} from '@home/dialogs/add-entities-to-edge-dialog.component';\nimport { MatDialog } from '@angular/material/dialog';\nimport { isUndefined } from '@core/utils';\nimport { PageLink } from '@shared/models/page/page-link';\nimport { Edge } from '@shared/models/edge.models';\nimport { mergeMap } from 'rxjs/operators';\nimport { PageData } from '@shared/models/page/page-data';\n\n@Injectable()\nexport class RuleChainsTableConfigResolver implements Resolve<EntityTableConfig<RuleChain>> {\n\n  private readonly config: EntityTableConfig<RuleChain> = new EntityTableConfig<RuleChain>();\n  private edge: Edge;\n\n  constructor(private ruleChainService: RuleChainService,\n              private dialogService: DialogService,\n              private dialog: MatDialog,\n              private importExport: ImportExportService,\n              private itembuffer: ItemBufferService,\n              private edgeService: EdgeService,\n              private translate: TranslateService,\n              private datePipe: DatePipe,\n              private router: Router) {\n    this.config.entityType = EntityType.RULE_CHAIN;\n    this.config.entityComponent = RuleChainComponent;\n    this.config.entityTabsComponent = RuleChainTabsComponent;\n    this.config.entityTranslations = entityTypeTranslations.get(EntityType.RULE_CHAIN);\n    this.config.entityResources = entityTypeResources.get(EntityType.RULE_CHAIN);\n\n    this.config.deleteEntityTitle = ruleChain => this.translate.instant('rulechain.delete-rulechain-title',\n      {ruleChainName: ruleChain.name});\n    this.config.deleteEntityContent = () => this.translate.instant('rulechain.delete-rulechain-text');\n    this.config.deleteEntitiesTitle = count => this.translate.instant('rulechain.delete-rulechains-title', {count});\n    this.config.deleteEntitiesContent = () => this.translate.instant('rulechain.delete-rulechains-text');\n    this.config.loadEntity = id => this.ruleChainService.getRuleChain(id.id);\n    this.config.saveEntity = ruleChain => this.saveRuleChain(ruleChain);\n    this.config.deleteEntity = id => this.ruleChainService.deleteRuleChain(id.id);\n    this.config.onEntityAction = action => this.onRuleChainAction(action);\n  }\n\n  resolve(route: ActivatedRouteSnapshot): EntityTableConfig<RuleChain> {\n    const edgeId = route.params?.edgeId;\n    const ruleChainScope = route.data?.ruleChainsType ? route.data?.ruleChainsType : 'tenant';\n    this.config.componentsData = {\n      ruleChainScope,\n      edgeId\n    };\n    this.config.columns = this.configureEntityTableColumns(ruleChainScope);\n    this.config.entitiesFetchFunction = this.configureEntityFunctions(ruleChainScope, edgeId);\n    this.config.groupActionDescriptors = this.configureGroupActions(ruleChainScope);\n    this.config.addActionDescriptors = this.configureAddActions(ruleChainScope);\n    this.config.cellActionDescriptors = this.configureCellActions(ruleChainScope);\n    if (ruleChainScope === 'tenant' || ruleChainScope === 'edges') {\n      this.config.entitySelectionEnabled = ruleChain => ruleChain && !ruleChain.root;\n      this.config.deleteEnabled = (ruleChain) => ruleChain && !ruleChain.root;\n      this.config.entitiesDeleteEnabled = true;\n      this.config.tableTitle = this.configureTableTitle(ruleChainScope, null);\n    } else if (ruleChainScope === 'edge') {\n      this.config.entitySelectionEnabled = ruleChain => this.config.componentsData.edge.rootRuleChainId.id !== ruleChain.id.id;\n      this.edgeService.getEdge(edgeId).subscribe(edge => {\n        this.config.componentsData.edge = edge;\n        this.config.tableTitle = this.configureTableTitle(ruleChainScope, edge);\n      });\n      this.config.entitiesDeleteEnabled = false;\n    }\n    return this.config;\n  }\n\n  configureEntityTableColumns(ruleChainScope: string): Array<EntityColumn<RuleChain>> {\n    const columns: Array<EntityColumn<RuleChain>> = [];\n    columns.push(\n      new DateEntityTableColumn<RuleChain>('createdTime', 'common.created-time', this.datePipe, '150px'),\n      new EntityTableColumn<RuleChain>('name', 'rulechain.name', '100%')\n    );\n    if (ruleChainScope === 'tenant' || ruleChainScope === 'edge') {\n      columns.push(\n        new EntityTableColumn<RuleChain>('root', 'rulechain.root', '60px',\n          entity => {\n            if (ruleChainScope === 'edge') {\n              return checkBoxCell((this.config.componentsData.edge.rootRuleChainId.id === entity.id.id));\n            } else {\n              return checkBoxCell(entity.root);\n            }\n          })\n      );\n    } else if (ruleChainScope === 'edges') {\n      columns.push(\n        new EntityTableColumn<RuleChain>('root', 'rulechain.edge-template-root', '60px',\n          entity => {\n            return checkBoxCell(entity.root);\n          }),\n        new EntityTableColumn<RuleChain>('assignToEdge', 'rulechain.assign-to-edge', '60px',\n          entity => {\n            return checkBoxCell(this.isAutoAssignToEdgeRuleChain(entity));\n          })\n      );\n    }\n    return columns;\n  }\n\n  configureAddActions(ruleChainScope: string): Array<HeaderActionDescriptor> {\n    const actions: Array<HeaderActionDescriptor> = [];\n    if (ruleChainScope === 'tenant' || ruleChainScope === 'edges') {\n      actions.push(\n        {\n          name: this.translate.instant('rulechain.create-new-rulechain'),\n          icon: 'insert_drive_file',\n          isEnabled: () => true,\n          onAction: ($event) => this.config.table.addEntity($event)\n        },\n        {\n          name: this.translate.instant('rulechain.import'),\n          icon: 'file_upload',\n          isEnabled: () => true,\n          onAction: ($event) => this.importRuleChain($event)\n        }\n      );\n    }\n    if (ruleChainScope === 'edge') {\n      actions.push(\n        {\n          name: this.translate.instant('rulechain.assign-new-rulechain'),\n          icon: 'add',\n          isEnabled: () => true,\n          onAction: ($event) => this.addRuleChainsToEdge($event)\n        }\n      );\n    }\n    return actions;\n  }\n\n  configureEntityFunctions(ruleChainScope: string, edgeId: string): (pageLink) => Observable<PageData<RuleChain>> {\n    if (ruleChainScope === 'tenant') {\n      return pageLink => this.fetchRuleChains(pageLink);\n    } else if (ruleChainScope === 'edges') {\n      return pageLink => this.fetchEdgeRuleChains(pageLink);\n    } else if (ruleChainScope === 'edge') {\n      return pageLink => this.ruleChainService.getEdgeRuleChains(edgeId, pageLink);\n    }\n  }\n\n  configureTableTitle(ruleChainScope: string, edge: Edge): string {\n    if (ruleChainScope === 'tenant') {\n      return this.translate.instant('rulechain.rulechains');\n    } else if (ruleChainScope === 'edges') {\n      return this.translate.instant('edge.rulechain-templates');\n    } else if (ruleChainScope === 'edge') {\n      return this.config.tableTitle = edge.name + ': ' + this.translate.instant('edge.rulechains');\n    }\n  }\n\n  configureGroupActions(ruleChainScope: string): Array<GroupActionDescriptor<RuleChain>> {\n    const actions: Array<GroupActionDescriptor<RuleChain>> = [];\n    if (ruleChainScope === 'edge') {\n      actions.push(\n        {\n          name: this.translate.instant('rulechain.unassign-rulechains'),\n          icon: 'assignment_return',\n          isEnabled: true,\n          onAction: ($event, entities) => this.unassignRuleChainsFromEdge($event, entities)\n        }\n      );\n    }\n    return actions;\n  }\n\n  configureCellActions(ruleChainScope: string): Array<CellActionDescriptor<RuleChain>> {\n    const actions: Array<CellActionDescriptor<RuleChain>> = [];\n    actions.push(\n      {\n        name: this.translate.instant('rulechain.open-rulechain'),\n        icon: 'settings_ethernet',\n        isEnabled: () => true,\n        onAction: ($event, entity) => this.openRuleChain($event, entity)\n      },\n      {\n        name: this.translate.instant('rulechain.export'),\n        icon: 'file_download',\n        isEnabled: () => true,\n        onAction: ($event, entity) => this.exportRuleChain($event, entity)\n      }\n    );\n    if (ruleChainScope === 'tenant') {\n      actions.push(\n        {\n          name: this.translate.instant('rulechain.set-root'),\n          icon: 'flag',\n          isEnabled: (entity) => this.isNonRootRuleChain(entity),\n          onAction: ($event, entity) => this.setRootRuleChain($event, entity)\n        }\n      );\n    }\n    if (ruleChainScope === 'edges') {\n      actions.push(\n        {\n          name: this.translate.instant('rulechain.set-edge-template-root-rulechain'),\n          icon: 'flag',\n          isEnabled: (entity) => this.isNonRootRuleChain(entity),\n          onAction: ($event, entity) => this.setEdgeTemplateRootRuleChain($event, entity)\n        },\n        {\n          name: this.translate.instant('rulechain.set-auto-assign-to-edge'),\n          icon: 'bookmark_outline',\n          isEnabled: (entity) => this.isNotAutoAssignToEdgeRuleChain(entity),\n          onAction: ($event, entity) => this.setAutoAssignToEdgeRuleChain($event, entity)\n        },\n        {\n          name: this.translate.instant('rulechain.unset-auto-assign-to-edge'),\n          icon: 'bookmark',\n          isEnabled: (entity) => this.isAutoAssignToEdgeRuleChain(entity),\n          onAction: ($event, entity) => this.unsetAutoAssignToEdgeRuleChain($event, entity)\n        }\n      );\n    }\n    if (ruleChainScope === 'edge') {\n      actions.push(\n        {\n          name: this.translate.instant('rulechain.set-root'),\n          icon: 'flag',\n          isEnabled: (entity) => this.isNonRootRuleChain(entity),\n          onAction: ($event, entity) => this.setRootRuleChain($event, entity)\n        },\n        {\n          name: this.translate.instant('edge.unassign-from-edge'),\n          icon: 'assignment_return',\n          isEnabled: (entity) => entity.id.id !== this.config.componentsData.edge.rootRuleChainId.id,\n          onAction: ($event, entity) => this.unassignFromEdge($event, entity)\n        }\n      );\n    }\n    return actions;\n  }\n\n  importRuleChain($event: Event) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    const expectedRuleChainType = this.config.componentsData.ruleChainScope === 'tenant' ? RuleChainType.CORE : RuleChainType.EDGE;\n    this.importExport.importRuleChain(expectedRuleChainType).subscribe((ruleChainImport) => {\n      if (ruleChainImport) {\n        this.itembuffer.storeRuleChainImport(ruleChainImport);\n        if (this.config.componentsData.ruleChainScope === 'edges') {\n          this.router.navigateByUrl(`edgeManagement/ruleChains/ruleChain/import`);\n        } else {\n          this.router.navigateByUrl(`ruleChains/ruleChain/import`);\n        }\n      }\n    });\n  }\n\n  openRuleChain($event: Event, ruleChain: RuleChain) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    if (this.config.componentsData.ruleChainScope === 'edges') {\n      this.router.navigateByUrl(`edgeManagement/ruleChains/${ruleChain.id.id}`);\n    } else if (this.config.componentsData.ruleChainScope === 'edge') {\n      this.router.navigateByUrl(`edgeInstances/${this.config.componentsData.edgeId}/ruleChains/${ruleChain.id.id}`);\n    } else {\n      this.router.navigateByUrl(`ruleChains/${ruleChain.id.id}`);\n    }\n  }\n\n  saveRuleChain(ruleChain: RuleChain) {\n    if (isUndefined(ruleChain.type)) {\n      if (this.config.componentsData.ruleChainScope === 'tenant') {\n        ruleChain.type = RuleChainType.CORE;\n      } else if (this.config.componentsData.ruleChainScope === 'edges') {\n        ruleChain.type = RuleChainType.EDGE;\n      } else {\n        // safe fallback to default core type\n        ruleChain.type = RuleChainType.CORE;\n      }\n    }\n    return this.ruleChainService.saveRuleChain(ruleChain);\n  }\n\n  exportRuleChain($event: Event, ruleChain: RuleChain) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.importExport.exportRuleChain(ruleChain.id.id);\n  }\n\n  setRootRuleChain($event: Event, ruleChain: RuleChain) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialogService.confirm(\n      this.translate.instant('rulechain.set-root-rulechain-title', {ruleChainName: ruleChain.name}),\n      this.translate.instant('rulechain.set-root-rulechain-text'),\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n        if (res) {\n          if (this.config.componentsData.ruleChainScope === 'edge') {\n            this.ruleChainService.setEdgeRootRuleChain(this.config.componentsData.edgeId, ruleChain.id.id).subscribe(\n              (edge) => {\n                this.config.componentsData.edge = edge;\n                this.config.table.updateData();\n              }\n            );\n          } else {\n            this.ruleChainService.setRootRuleChain(ruleChain.id.id).subscribe(\n              () => {\n                this.config.table.updateData();\n              }\n            );\n          }\n        }\n      }\n    );\n  }\n\n  onRuleChainAction(action: EntityAction<RuleChain>): boolean {\n    switch (action.action) {\n      case 'open':\n        this.openRuleChain(action.event, action.entity);\n        return true;\n      case 'export':\n        this.exportRuleChain(action.event, action.entity);\n        return true;\n      case 'setRoot':\n        this.setRootRuleChain(action.event, action.entity);\n        return true;\n      case 'setEdgeTemplateRoot':\n        this.setEdgeTemplateRootRuleChain(action.event, action.entity);\n        return true;\n      case 'unassignFromEdge':\n        this.unassignFromEdge(action.event, action.entity);\n        return true;\n      case 'setAutoAssignToEdge':\n        this.setAutoAssignToEdgeRuleChain(action.event, action.entity);\n        return true;\n      case 'unsetAutoAssignToEdge':\n        this.unsetAutoAssignToEdgeRuleChain(action.event, action.entity);\n        return true;\n    }\n    return false;\n  }\n\n  setEdgeTemplateRootRuleChain($event: Event, ruleChain: RuleChain) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialogService.confirm(\n      this.translate.instant('rulechain.set-edge-template-root-rulechain-title', {ruleChainName: ruleChain.name}),\n      this.translate.instant('rulechain.set-edge-template-root-rulechain-text'),\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n        if (res) {\n          this.ruleChainService.setEdgeTemplateRootRuleChain(ruleChain.id.id).subscribe(\n            () => {\n              this.config.table.updateData();\n            }\n          );\n        }\n      }\n    );\n  }\n\n  addRuleChainsToEdge($event: Event) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialog.open<AddEntitiesToEdgeDialogComponent, AddEntitiesToEdgeDialogData,\n      boolean>(AddEntitiesToEdgeDialogComponent, {\n      disableClose: true,\n      panelClass: ['tb-dialog', 'tb-fullscreen-dialog'],\n      data: {\n        edgeId: this.config.componentsData.edgeId,\n        entityType: EntityType.RULE_CHAIN\n      }\n    }).afterClosed()\n      .subscribe((res) => {\n          if (res) {\n            this.edgeService.findMissingToRelatedRuleChains(this.config.componentsData.edgeId).subscribe(\n              (missingRuleChains) => {\n                if (missingRuleChains && Object.keys(missingRuleChains).length > 0) {\n                  const formattedMissingRuleChains: Array<string> = new Array<string>();\n                  for (const missingRuleChain of Object.keys(missingRuleChains)) {\n                    const arrayOfMissingRuleChains = missingRuleChains[missingRuleChain];\n                    const tmp = '- \\'' + missingRuleChain + '\\': \\'' + arrayOfMissingRuleChains.join('\\', ') + '\\'';\n                    formattedMissingRuleChains.push(tmp);\n                  }\n                  const message = this.translate.instant('edge.missing-related-rule-chains-text',\n                    {missingRuleChains: formattedMissingRuleChains.join('<br>')});\n                  this.dialogService.alert(this.translate.instant('edge.missing-related-rule-chains-title'),\n                    message, this.translate.instant('action.close'), true).subscribe(\n                    () => {\n                      this.config.table.updateData();\n                    }\n                  );\n                } else {\n                  this.config.table.updateData();\n                }\n              }\n            );\n          }\n        }\n      );\n  }\n\n  unassignFromEdge($event: Event, ruleChain: RuleChain) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialogService.confirm(\n      this.translate.instant('rulechain.unassign-rulechain-title', {ruleChainName: ruleChain.name}),\n      this.translate.instant('rulechain.unassign-rulechain-from-edge-text'),\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n        if (res) {\n          this.ruleChainService.unassignRuleChainFromEdge(this.config.componentsData.edgeId, ruleChain.id.id).subscribe(\n            () => {\n              this.config.table.updateData();\n            }\n          );\n        }\n      }\n    );\n  }\n\n  unassignRuleChainsFromEdge($event: Event, ruleChains: Array<RuleChain>) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialogService.confirm(\n      this.translate.instant('rulechain.unassign-rulechains-from-edge-title', {count: ruleChains.length}),\n      this.translate.instant('rulechain.unassign-rulechains-from-edge-text'),\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n        if (res) {\n          const tasks: Observable<any>[] = [];\n          ruleChains.forEach(\n            (ruleChain) => {\n              tasks.push(this.ruleChainService.unassignRuleChainFromEdge(this.config.componentsData.edgeId, ruleChain.id.id));\n            }\n          );\n          forkJoin(tasks).subscribe(\n            () => {\n              this.config.table.updateData();\n            }\n          );\n        }\n      }\n    );\n  }\n\n  setAutoAssignToEdgeRuleChain($event: Event, ruleChain: RuleChain) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialogService.confirm(\n      this.translate.instant('rulechain.set-auto-assign-to-edge-title', {ruleChainName: ruleChain.name}),\n      this.translate.instant('rulechain.set-auto-assign-to-edge-text'),\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n        if (res) {\n          this.ruleChainService.setAutoAssignToEdgeRuleChain(ruleChain.id.id).subscribe(\n            () => {\n              this.config.table.updateData();\n            }\n          );\n        }\n      }\n    );\n  }\n\n  unsetAutoAssignToEdgeRuleChain($event: Event, ruleChain: RuleChain) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialogService.confirm(\n      this.translate.instant('rulechain.unset-auto-assign-to-edge-title', {ruleChainName: ruleChain.name}),\n      this.translate.instant('rulechain.unset-auto-assign-to-edge-text'),\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n        if (res) {\n          this.ruleChainService.unsetAutoAssignToEdgeRuleChain(ruleChain.id.id).subscribe(\n            () => {\n              this.config.table.updateData();\n            }\n          );\n        }\n      }\n    );\n  }\n\n  isNonRootRuleChain(ruleChain: RuleChain) {\n    if (this.config.componentsData.ruleChainScope === 'edge') {\n      return this.config.componentsData.edge.rootRuleChainId &&\n        this.config.componentsData.edge.rootRuleChainId.id !== ruleChain.id.id;\n    }\n    return !ruleChain.root;\n  }\n\n  isAutoAssignToEdgeRuleChain(ruleChain) {\n    return !ruleChain.root && this.config.componentsData.autoAssignToEdgeRuleChainIds.includes(ruleChain.id.id);\n  }\n\n  isNotAutoAssignToEdgeRuleChain(ruleChain) {\n    return !ruleChain.root && !this.config.componentsData.autoAssignToEdgeRuleChainIds.includes(ruleChain.id.id);\n  }\n\n  fetchRuleChains(pageLink: PageLink) {\n    return this.ruleChainService.getRuleChains(pageLink, RuleChainType.CORE);\n  }\n\n  fetchEdgeRuleChains(pageLink: PageLink) {\n    return this.ruleChainService.getAutoAssignToEdgeRuleChains().pipe(\n      mergeMap((ruleChains) => {\n        this.config.componentsData.autoAssignToEdgeRuleChainIds = [];\n        ruleChains.map(ruleChain => this.config.componentsData.autoAssignToEdgeRuleChainIds.push(ruleChain.id.id));\n        return this.ruleChainService.getRuleChains(pageLink, RuleChainType.EDGE);\n      })\n    );\n  }\n}\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, Inject, OnInit, SkipSelf } from '@angular/core';\nimport { ErrorStateMatcher } from '@angular/material/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { FormBuilder, FormControl, FormGroup, FormGroupDirective, NgForm } from '@angular/forms';\nimport { DeviceService } from '@core/http/device.service';\nimport { DeviceCredentials, DeviceProfileInfo, DeviceTransportType } from '@shared/models/device.models';\nimport { DialogComponent } from '@shared/components/dialog.component';\nimport { Router } from '@angular/router';\nimport { DeviceProfileService } from '@core/http/device-profile.service';\nimport { forkJoin } from 'rxjs';\n\nexport interface DeviceCredentialsDialogData {\n  isReadOnly: boolean;\n  deviceId: string;\n  deviceProfileId: string;\n}\n\n@Component({\n  selector: 'tb-device-credentials-dialog',\n  templateUrl: './device-credentials-dialog.component.html',\n  providers: [{provide: ErrorStateMatcher, useExisting: DeviceCredentialsDialogComponent}],\n  styleUrls: []\n})\nexport class DeviceCredentialsDialogComponent extends\n  DialogComponent<DeviceCredentialsDialogComponent, DeviceCredentials> implements OnInit, ErrorStateMatcher {\n\n  deviceCredentialsFormGroup: FormGroup;\n  deviceTransportType: DeviceTransportType;\n  isReadOnly: boolean;\n  loadingCredentials = true;\n\n  private deviceCredentials: DeviceCredentials;\n  private submitted = false;\n\n  constructor(protected store: Store<AppState>,\n              protected router: Router,\n              @Inject(MAT_DIALOG_DATA) public data: DeviceCredentialsDialogData,\n              private deviceService: DeviceService,\n              private deviceProfileService: DeviceProfileService,\n              @SkipSelf() private errorStateMatcher: ErrorStateMatcher,\n              public dialogRef: MatDialogRef<DeviceCredentialsDialogComponent, DeviceCredentials>,\n              public fb: FormBuilder) {\n    super(store, router, dialogRef);\n\n    this.isReadOnly = data.isReadOnly;\n  }\n\n  ngOnInit(): void {\n    this.deviceCredentialsFormGroup = this.fb.group({\n      credential: [null]\n    });\n    if (this.isReadOnly) {\n      this.deviceCredentialsFormGroup.disable({emitEvent: false});\n    }\n    this.loadDeviceCredentials();\n  }\n\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    const originalErrorState = this.errorStateMatcher.isErrorState(control, form);\n    const customErrorState = !!(control && control.invalid && this.submitted);\n    return originalErrorState || customErrorState;\n  }\n\n  loadDeviceCredentials() {\n    const task = [];\n    task.push(this.deviceService.getDeviceCredentials(this.data.deviceId));\n    task.push(this.deviceProfileService.getDeviceProfileInfo(this.data.deviceProfileId));\n    forkJoin(task).subscribe(([deviceCredentials, deviceProfile]: [DeviceCredentials, DeviceProfileInfo]) => {\n      this.deviceTransportType = deviceProfile.transportType;\n      this.deviceCredentials = deviceCredentials;\n      this.deviceCredentialsFormGroup.patchValue({\n        credential: deviceCredentials\n      }, {emitEvent: false});\n      this.loadingCredentials = false;\n    });\n  }\n\n  cancel(): void {\n    this.dialogRef.close(null);\n  }\n\n  save(): void {\n    this.submitted = true;\n    const deviceCredentialsValue = this.deviceCredentialsFormGroup.value.credential;\n    this.deviceCredentials = {...this.deviceCredentials, ...deviceCredentialsValue};\n    this.deviceService.saveDeviceCredentials(this.deviceCredentials).subscribe(\n      (deviceCredentials) => {\n        this.dialogRef.close(deviceCredentials);\n      }\n    );\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<form [formGroup]=\"deviceCredentialsFormGroup\" (ngSubmit)=\"save()\" style=\"min-width: 350px;\">\n  <mat-toolbar color=\"primary\">\n    <h2>{{ 'device.device-credentials' | translate }}</h2>\n    <span fxFlex></span>\n    <button mat-icon-button\n            (click)=\"cancel()\"\n            type=\"button\">\n      <mat-icon class=\"material-icons\">close</mat-icon>\n    </button>\n  </mat-toolbar>\n  <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"(isLoading$ | async) && !loadingCredentials\">\n  </mat-progress-bar>\n  <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async) || loadingCredentials\"></div>\n  <div mat-dialog-content>\n    <section *ngIf=\"!loadingCredentials; else loadCredentials\">\n      <fieldset [disabled]=\"(isLoading$ | async) || isReadOnly\">\n        <tb-device-credentials\n          [deviceTransportType]=\"deviceTransportType\"\n          formControlName=\"credential\">\n        </tb-device-credentials>\n      </fieldset>\n    </section>\n    <ng-template #loadCredentials>\n      <div fxLayout=\"column\" fxLayoutAlign=\"center center\">\n        <mat-spinner color=\"accent\" diameter=\"65\" strokeWidth=\"4\" style=\"margin-bottom: 18px\"></mat-spinner>\n        <span class=\"mat-subheading-2\" style=\"margin-bottom: 0\">\n          {{ 'device.loading-device-credentials' | translate }}\n        </span>\n      </div>\n    </ng-template>\n  </div>\n  <div mat-dialog-actions fxLayoutAlign=\"end center\">\n    <button mat-button color=\"primary\"\n            type=\"button\"\n            [disabled]=\"(isLoading$ | async)\"\n            (click)=\"cancel()\" cdkFocusInitial>\n      {{ (isReadOnly ? 'action.close' : 'action.cancel') | translate }}\n    </button>\n    <button *ngIf=\"!isReadOnly\" mat-raised-button color=\"primary\"\n            type=\"submit\"\n            [disabled]=\"(isLoading$ | async) || deviceCredentialsFormGroup.invalid\n            || !deviceCredentialsFormGroup.dirty\">\n      {{ 'action.save' | translate }}\n    </button>\n  </div>\n</form>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Injectable } from '@angular/core';\nimport {\n  checkBoxCell,\n  DateEntityTableColumn,\n  EntityTableColumn,\n  EntityTableConfig\n} from '@home/models/entity/entities-table-config.models';\nimport { Resolve } from '@angular/router';\nimport { Resource, ResourceInfo, ResourceTypeTranslationMap } from '@shared/models/resource.models';\nimport { EntityType, entityTypeResources, entityTypeTranslations } from '@shared/models/entity-type.models';\nimport { NULL_UUID } from '@shared/models/id/has-uuid';\nimport { DatePipe } from '@angular/common';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ResourceService } from '@core/http/resource.service';\nimport { getCurrentAuthUser } from '@core/auth/auth.selectors';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { Authority } from '@shared/models/authority.enum';\nimport { ResourcesLibraryComponent } from '@home/pages/admin/resource/resources-library.component';\nimport { PageLink } from '@shared/models/page/page-link';\nimport { EntityAction } from '@home/models/entity/entity-component.models';\nimport { map } from 'rxjs/operators';\n\n@Injectable()\nexport class ResourcesLibraryTableConfigResolver implements Resolve<EntityTableConfig<Resource, PageLink, ResourceInfo>> {\n\n  private readonly config: EntityTableConfig<Resource, PageLink, ResourceInfo> = new EntityTableConfig<Resource, PageLink, ResourceInfo>();\n  private readonly resourceTypesTranslationMap = ResourceTypeTranslationMap;\n\n  constructor(private store: Store<AppState>,\n              private resourceService: ResourceService,\n              private translate: TranslateService,\n              private datePipe: DatePipe) {\n\n    this.config.entityType = EntityType.TB_RESOURCE;\n    this.config.entityComponent = ResourcesLibraryComponent;\n    this.config.entityTranslations = entityTypeTranslations.get(EntityType.TB_RESOURCE);\n    this.config.entityResources = entityTypeResources.get(EntityType.TB_RESOURCE);\n\n    this.config.entityTitle = (resource) => resource ?\n      resource.title : '';\n\n    this.config.columns.push(\n      new DateEntityTableColumn<ResourceInfo>('createdTime', 'common.created-time', this.datePipe, '150px'),\n      new EntityTableColumn<ResourceInfo>('title', 'resource.title', '60%'),\n      new EntityTableColumn<ResourceInfo>('resourceType', 'resource.resource-type', '40%',\n        entity => this.resourceTypesTranslationMap.get(entity.resourceType)),\n      new EntityTableColumn<ResourceInfo>('tenantId', 'resource.system', '60px',\n        entity => {\n          return checkBoxCell(entity.tenantId.id === NULL_UUID);\n        }),\n    );\n\n    this.config.cellActionDescriptors.push(\n      {\n        name: this.translate.instant('resource.download'),\n        icon: 'file_download',\n        isEnabled: () => true,\n        onAction: ($event, entity) => this.downloadResource($event, entity)\n      }\n    );\n\n    this.config.deleteEntityTitle = resource => this.translate.instant('resource.delete-resource-title',\n      { resourceTitle: resource.title });\n    this.config.deleteEntityContent = () => this.translate.instant('resource.delete-resource-text');\n    this.config.deleteEntitiesTitle = count => this.translate.instant('resource.delete-resources-title', {count});\n    this.config.deleteEntitiesContent = () => this.translate.instant('resource.delete-resources-text');\n\n    this.config.entitiesFetchFunction = pageLink => this.resourceService.getResources(pageLink);\n    this.config.loadEntity = id => this.resourceService.getResource(id.id);\n    this.config.saveEntity = resource => this.saveResource(resource);\n    this.config.deleteEntity = id => this.resourceService.deleteResource(id.id);\n\n    this.config.onEntityAction = action => this.onResourceAction(action);\n  }\n\n  saveResource(resource) {\n    if (Array.isArray(resource.data)) {\n      const resources = [];\n      resource.data.forEach((data, index) => {\n        resources.push({\n          resourceType: resource.resourceType,\n          data,\n          fileName: resource.fileName[index],\n          title: resource.title\n        });\n      });\n      return this.resourceService.saveResources(resources, {resendRequest: true}).pipe(\n        map((response) => response[0])\n      );\n    } else {\n      return this.resourceService.saveResource(resource);\n    }\n  }\n\n  resolve(): EntityTableConfig<Resource, PageLink, ResourceInfo> {\n    this.config.tableTitle = this.translate.instant('resource.resources-library');\n    const authUser = getCurrentAuthUser(this.store);\n    this.config.deleteEnabled = (resource) => this.isResourceEditable(resource, authUser.authority);\n    this.config.entitySelectionEnabled = (resource) => this.isResourceEditable(resource, authUser.authority);\n    this.config.detailsReadonly = (resource) => !this.isResourceEditable(resource, authUser.authority);\n    return this.config;\n  }\n\n  downloadResource($event: Event, resource: ResourceInfo) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.resourceService.downloadResource(resource.id.id).subscribe();\n  }\n\n  onResourceAction(action: EntityAction<ResourceInfo>): boolean {\n    switch (action.action) {\n      case 'downloadResource':\n        this.downloadResource(action.event, action.entity);\n        return true;\n    }\n    return false;\n  }\n\n  private isResourceEditable(resource: ResourceInfo, authority: Authority): boolean {\n    if (authority === Authority.TENANT_ADMIN) {\n      return resource && resource.tenantId && resource.tenantId.id !== NULL_UUID;\n    } else {\n      return authority === Authority.SYS_ADMIN;\n    }\n  }\n}\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, forwardRef, Input, OnInit } from '@angular/core';\nimport { ControlValueAccessor, FormBuilder, FormGroup, NG_VALUE_ACCESSOR, Validators } from '@angular/forms';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@app/core/core.state';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport {\n  DefaultDeviceConfiguration,\n  DeviceConfiguration,\n  DeviceProfileType\n} from '@shared/models/device.models';\n\n@Component({\n  selector: 'tb-default-device-configuration',\n  templateUrl: './default-device-configuration.component.html',\n  styleUrls: [],\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => DefaultDeviceConfigurationComponent),\n    multi: true\n  }]\n})\nexport class DefaultDeviceConfigurationComponent implements ControlValueAccessor, OnInit {\n\n  defaultDeviceConfigurationFormGroup: FormGroup;\n\n  private requiredValue: boolean;\n  get required(): boolean {\n    return this.requiredValue;\n  }\n  @Input()\n  set required(value: boolean) {\n    this.requiredValue = coerceBooleanProperty(value);\n  }\n\n  @Input()\n  disabled: boolean;\n\n  private propagateChange = (v: any) => { };\n\n  constructor(private store: Store<AppState>,\n              private fb: FormBuilder) {\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  ngOnInit() {\n    this.defaultDeviceConfigurationFormGroup = this.fb.group({\n      configuration: [null, Validators.required]\n    });\n    this.defaultDeviceConfigurationFormGroup.valueChanges.subscribe(() => {\n      this.updateModel();\n    });\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n    if (this.disabled) {\n      this.defaultDeviceConfigurationFormGroup.disable({emitEvent: false});\n    } else {\n      this.defaultDeviceConfigurationFormGroup.enable({emitEvent: false});\n    }\n  }\n\n  writeValue(value: DefaultDeviceConfiguration | null): void {\n    this.defaultDeviceConfigurationFormGroup.patchValue({configuration: value}, {emitEvent: false});\n  }\n\n  private updateModel() {\n    let configuration: DeviceConfiguration = null;\n    if (this.defaultDeviceConfigurationFormGroup.valid) {\n      configuration = this.defaultDeviceConfigurationFormGroup.getRawValue().configuration;\n      configuration.type = DeviceProfileType.DEFAULT;\n    }\n    this.propagateChange(configuration);\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<form [formGroup]=\"defaultDeviceConfigurationFormGroup\" style=\"padding-bottom: 16px;\">\n  <!--tb-json-object-edit\n    [required]=\"required\"\n    label=\"{{ 'device-profile.type-default' | translate }}\"\n    formControlName=\"configuration\">\n  </tb-json-object-edit-->\n</form>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, forwardRef, Input, OnInit } from '@angular/core';\nimport { ControlValueAccessor, FormBuilder, FormGroup, NG_VALUE_ACCESSOR, Validators } from '@angular/forms';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@app/core/core.state';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport {\n  DefaultDeviceTransportConfiguration,\n  DeviceTransportConfiguration,\n  DeviceTransportType\n} from '@shared/models/device.models';\n\n@Component({\n  selector: 'tb-default-device-transport-configuration',\n  templateUrl: './default-device-transport-configuration.component.html',\n  styleUrls: [],\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => DefaultDeviceTransportConfigurationComponent),\n    multi: true\n  }]\n})\nexport class DefaultDeviceTransportConfigurationComponent implements ControlValueAccessor, OnInit {\n\n  defaultDeviceTransportConfigurationFormGroup: FormGroup;\n\n  private requiredValue: boolean;\n  get required(): boolean {\n    return this.requiredValue;\n  }\n  @Input()\n  set required(value: boolean) {\n    this.requiredValue = coerceBooleanProperty(value);\n  }\n\n  @Input()\n  disabled: boolean;\n\n  private propagateChange = (v: any) => { };\n\n  constructor(private store: Store<AppState>,\n              private fb: FormBuilder) {\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  ngOnInit() {\n    this.defaultDeviceTransportConfigurationFormGroup = this.fb.group({\n      configuration: [null, Validators.required]\n    });\n    this.defaultDeviceTransportConfigurationFormGroup.valueChanges.subscribe(() => {\n      this.updateModel();\n    });\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n    if (this.disabled) {\n      this.defaultDeviceTransportConfigurationFormGroup.disable({emitEvent: false});\n    } else {\n      this.defaultDeviceTransportConfigurationFormGroup.enable({emitEvent: false});\n    }\n  }\n\n  writeValue(value: DefaultDeviceTransportConfiguration | null): void {\n    this.defaultDeviceTransportConfigurationFormGroup.patchValue({configuration: value}, {emitEvent: false});\n  }\n\n  private updateModel() {\n    let configuration: DeviceTransportConfiguration = null;\n    if (this.defaultDeviceTransportConfigurationFormGroup.valid) {\n      configuration = this.defaultDeviceTransportConfigurationFormGroup.getRawValue().configuration;\n      configuration.type = DeviceTransportType.DEFAULT;\n    }\n    this.propagateChange(configuration);\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<form [formGroup]=\"defaultDeviceTransportConfigurationFormGroup\" style=\"padding-bottom: 16px;\">\n  <!--tb-json-object-edit\n    [required]=\"required\"\n    label=\"{{ 'device-profile.transport-type-default' | translate }}\"\n    formControlName=\"configuration\">\n  </tb-json-object-edit-->\n</form>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { EntityTabsComponent } from '../../components/entity/entity-tabs.component';\nimport { TenantInfo } from '@shared/models/tenant.model';\n\n@Component({\n  selector: 'tb-tenant-tabs',\n  templateUrl: './tenant-tabs.component.html',\n  styleUrls: []\n})\nexport class TenantTabsComponent extends EntityTabsComponent<TenantInfo> {\n\n  constructor(protected store: Store<AppState>) {\n    super(store);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n  }\n\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'attribute.attributes' | translate }}\" #attributesTab=\"matTab\">\n  <tb-attribute-table [defaultAttributeScope]=\"attributeScopes.SERVER_SCOPE\"\n                      [active]=\"attributesTab.isActive\"\n                      [entityId]=\"entity.id\"\n                      [entityName]=\"entity.name\">\n  </tb-attribute-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'attribute.latest-telemetry' | translate }}\" #telemetryTab=\"matTab\">\n  <tb-attribute-table [defaultAttributeScope]=\"latestTelemetryTypes.LATEST_TELEMETRY\"\n                      disableAttributeScopeSelection\n                      [active]=\"telemetryTab.isActive\"\n                      [entityId]=\"entity.id\"\n                      [entityName]=\"entity.name\">\n  </tb-attribute-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'alarm.alarms' | translate }}\" #alarmsTab=\"matTab\">\n  <tb-alarm-table [active]=\"alarmsTab.isActive\" [entityId]=\"entity.id\"></tb-alarm-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'tenant.events' | translate }}\" #eventsTab=\"matTab\">\n  <tb-event-table [defaultEventType]=\"eventTypes.ERROR\" [active]=\"eventsTab.isActive\" [tenantId]=\"nullUid\"\n                  [entityId]=\"entity.id\"></tb-event-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'relation.relations' | translate }}\" #relationsTab=\"matTab\">\n  <tb-relation-table [active]=\"relationsTab.isActive\" [entityId]=\"entity.id\"></tb-relation-table>\n</mat-tab>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ProfileComponent } from './profile.component';\nimport { SharedModule } from '@shared/shared.module';\nimport { ProfileRoutingModule } from './profile-routing.module';\nimport { ChangePasswordDialogComponent } from '@modules/home/pages/profile/change-password-dialog.component';\n\n@NgModule({\n  declarations: [\n    ProfileComponent,\n    ChangePasswordDialogComponent\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    ProfileRoutingModule\n  ]\n})\nexport class ProfileModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Injectable } from '@angular/core';\n\nimport { Resolve, Router } from '@angular/router';\n\nimport {\n  DateEntityTableColumn,\n  EntityTableColumn,\n  EntityTableConfig\n} from '@home/models/entity/entities-table-config.models';\nimport { TranslateService } from '@ngx-translate/core';\nimport { DatePipe } from '@angular/common';\nimport { EntityType, entityTypeResources, entityTypeTranslations } from '@shared/models/entity-type.models';\nimport { EntityAction } from '@home/models/entity/entity-component.models';\nimport { Customer } from '@app/shared/models/customer.model';\nimport { CustomerService } from '@app/core/http/customer.service';\nimport { CustomerComponent } from '@modules/home/pages/customer/customer.component';\nimport { CustomerTabsComponent } from '@home/pages/customer/customer-tabs.component';\nimport { getCurrentAuthState } from '@core/auth/auth.selectors';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\n\n@Injectable()\nexport class CustomersTableConfigResolver implements Resolve<EntityTableConfig<Customer>> {\n\n  private readonly config: EntityTableConfig<Customer> = new EntityTableConfig<Customer>();\n\n  constructor(private customerService: CustomerService,\n              private translate: TranslateService,\n              private datePipe: DatePipe,\n              private router: Router,\n              private store: Store<AppState>) {\n\n    this.config.entityType = EntityType.CUSTOMER;\n    this.config.entityComponent = CustomerComponent;\n    this.config.entityTabsComponent = CustomerTabsComponent;\n    this.config.entityTranslations = entityTypeTranslations.get(EntityType.CUSTOMER);\n    this.config.entityResources = entityTypeResources.get(EntityType.CUSTOMER);\n    const authState = getCurrentAuthState(this.store);\n\n    this.config.columns.push(\n      new DateEntityTableColumn<Customer>('createdTime', 'common.created-time', this.datePipe, '150px'),\n      new EntityTableColumn<Customer>('title', 'customer.title', '25%'),\n      new EntityTableColumn<Customer>('email', 'contact.email', '25%'),\n      new EntityTableColumn<Customer>('country', 'contact.country', '25%'),\n      new EntityTableColumn<Customer>('city', 'contact.city', '25%')\n    );\n    this.config.cellActionDescriptors.push(\n      {\n        name: this.translate.instant('customer.manage-customer-users'),\n        icon: 'account_circle',\n        isEnabled: (customer) => !customer.additionalInfo || !customer.additionalInfo.isPublic,\n        onAction: ($event, entity) => this.manageCustomerUsers($event, entity)\n      },\n      {\n        name: this.translate.instant('customer.manage-customer-assets'),\n        nameFunction: (customer) => {\n          return customer.additionalInfo && customer.additionalInfo.isPublic\n          ? this.translate.instant('customer.manage-public-assets')\n          : this.translate.instant('customer.manage-customer-assets');\n        },\n        icon: 'domain',\n        isEnabled: (customer) => true,\n        onAction: ($event, entity) => this.manageCustomerAssets($event, entity)\n      },\n      {\n        name: this.translate.instant('customer.manage-customer-devices'),\n        nameFunction: (customer) => {\n          return customer.additionalInfo && customer.additionalInfo.isPublic\n            ? this.translate.instant('customer.manage-public-devices')\n            : this.translate.instant('customer.manage-customer-devices');\n        },\n        icon: 'devices_other',\n        isEnabled: (customer) => true,\n        onAction: ($event, entity) => this.manageCustomerDevices($event, entity)\n      },\n      {\n        name: this.translate.instant('customer.manage-customer-dashboards'),\n        nameFunction: (customer) => {\n          return customer.additionalInfo && customer.additionalInfo.isPublic\n            ? this.translate.instant('customer.manage-public-dashboards')\n            : this.translate.instant('customer.manage-customer-dashboards');\n        },\n        icon: 'dashboard',\n        isEnabled: (customer) => true,\n        onAction: ($event, entity) => this.manageCustomerDashboards($event, entity)\n      });\n    if (authState.edgesSupportEnabled) {\n      this.config.cellActionDescriptors.push(\n        {\n          name: this.translate.instant('customer.manage-customer-edges'),\n          nameFunction: (customer) => {\n            return customer.additionalInfo && customer.additionalInfo.isPublic\n              ? this.translate.instant('customer.manage-public-edges')\n              : this.translate.instant('customer.manage-customer-edges');\n          },\n          icon: 'router',\n          isEnabled: (customer) => true,\n          onAction: ($event, entity) => this.manageCustomerEdges($event, entity)\n        }\n      );\n    }\n\n    this.config.deleteEntityTitle = customer => this.translate.instant('customer.delete-customer-title', { customerTitle: customer.title });\n    this.config.deleteEntityContent = () => this.translate.instant('customer.delete-customer-text');\n    this.config.deleteEntitiesTitle = count => this.translate.instant('customer.delete-customers-title', {count});\n    this.config.deleteEntitiesContent = () => this.translate.instant('customer.delete-customers-text');\n\n    this.config.entitiesFetchFunction = pageLink => this.customerService.getCustomers(pageLink);\n    this.config.loadEntity = id => this.customerService.getCustomer(id.id);\n    this.config.saveEntity = customer => this.customerService.saveCustomer(customer);\n    this.config.deleteEntity = id => this.customerService.deleteCustomer(id.id);\n    this.config.onEntityAction = action => this.onCustomerAction(action);\n    this.config.deleteEnabled = (customer) => customer && (!customer.additionalInfo || !customer.additionalInfo.isPublic);\n    this.config.entitySelectionEnabled = (customer) => customer && (!customer.additionalInfo || !customer.additionalInfo.isPublic);\n    this.config.detailsReadonly = (customer) => customer && customer.additionalInfo && customer.additionalInfo.isPublic;\n  }\n\n  resolve(): EntityTableConfig<Customer> {\n    this.config.tableTitle = this.translate.instant('customer.customers');\n\n    return this.config;\n  }\n\n  manageCustomerUsers($event: Event, customer: Customer) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.router.navigateByUrl(`customers/${customer.id.id}/users`);\n  }\n\n  manageCustomerAssets($event: Event, customer: Customer) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.router.navigateByUrl(`customers/${customer.id.id}/assets`);\n  }\n\n  manageCustomerDevices($event: Event, customer: Customer) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.router.navigateByUrl(`customers/${customer.id.id}/devices`);\n  }\n\n  manageCustomerDashboards($event: Event, customer: Customer) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.router.navigateByUrl(`customers/${customer.id.id}/dashboards`);\n  }\n\n  manageCustomerEdges($event: Event, customer: Customer) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.router.navigateByUrl(`customers/${customer.id.id}/edgeInstances`);\n  }\n\n  onCustomerAction(action: EntityAction<Customer>): boolean {\n    switch (action.action) {\n      case 'manageUsers':\n        this.manageCustomerUsers(action.event, action.entity);\n        return true;\n      case 'manageAssets':\n        this.manageCustomerAssets(action.event, action.entity);\n        return true;\n      case 'manageDevices':\n        this.manageCustomerDevices(action.event, action.entity);\n        return true;\n      case 'manageDashboards':\n        this.manageCustomerDashboards(action.event, action.entity);\n        return true;\n      case 'manageEdges':\n        this.manageCustomerEdges(action.event, action.entity);\n        return true;\n    }\n    return false;\n  }\n\n}\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, forwardRef, Input, OnInit } from '@angular/core';\nimport { ControlValueAccessor, FormBuilder, FormGroup, NG_VALUE_ACCESSOR, Validators } from '@angular/forms';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@app/core/core.state';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport {\n  DeviceTransportConfiguration,\n  DeviceTransportType, MqttDeviceTransportConfiguration\n} from '@shared/models/device.models';\n\n@Component({\n  selector: 'tb-mqtt-device-transport-configuration',\n  templateUrl: './mqtt-device-transport-configuration.component.html',\n  styleUrls: [],\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => MqttDeviceTransportConfigurationComponent),\n    multi: true\n  }]\n})\nexport class MqttDeviceTransportConfigurationComponent implements ControlValueAccessor, OnInit {\n\n  mqttDeviceTransportConfigurationFormGroup: FormGroup;\n\n  private requiredValue: boolean;\n  get required(): boolean {\n    return this.requiredValue;\n  }\n  @Input()\n  set required(value: boolean) {\n    this.requiredValue = coerceBooleanProperty(value);\n  }\n\n  @Input()\n  disabled: boolean;\n\n  private propagateChange = (v: any) => { };\n\n  constructor(private store: Store<AppState>,\n              private fb: FormBuilder) {\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  ngOnInit() {\n    this.mqttDeviceTransportConfigurationFormGroup = this.fb.group({\n      configuration: [null, Validators.required]\n    });\n    this.mqttDeviceTransportConfigurationFormGroup.valueChanges.subscribe(() => {\n      this.updateModel();\n    });\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n    if (this.disabled) {\n      this.mqttDeviceTransportConfigurationFormGroup.disable({emitEvent: false});\n    } else {\n      this.mqttDeviceTransportConfigurationFormGroup.enable({emitEvent: false});\n    }\n  }\n\n  writeValue(value: MqttDeviceTransportConfiguration | null): void {\n    this.mqttDeviceTransportConfigurationFormGroup.patchValue({configuration: value}, {emitEvent: false});\n  }\n\n  private updateModel() {\n    let configuration: DeviceTransportConfiguration = null;\n    if (this.mqttDeviceTransportConfigurationFormGroup.valid) {\n      configuration = this.mqttDeviceTransportConfigurationFormGroup.getRawValue().configuration;\n      configuration.type = DeviceTransportType.MQTT;\n    }\n    this.propagateChange(configuration);\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<form [formGroup]=\"mqttDeviceTransportConfigurationFormGroup\" style=\"padding-bottom: 16px;\">\n  <!--tb-json-object-edit\n    [required]=\"required\"\n    label=\"{{ 'device-profile.transport-type-mqtt' | translate }}\"\n    formControlName=\"configuration\">\n  </tb-json-object-edit-->\n</form>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { EntitiesTableComponent } from '../../components/entity/entities-table.component';\nimport { Authority } from '@shared/models/authority.enum';\nimport { TenantProfilesTableConfigResolver } from './tenant-profiles-table-config.resolver';\n\nconst routes: Routes = [\n  {\n    path: 'tenantProfiles',\n    data: {\n      breadcrumb: {\n        label: 'tenant-profile.tenant-profiles',\n        icon: 'mdi:alpha-t-box'\n      }\n    },\n    children: [\n      {\n        path: '',\n        component: EntitiesTableComponent,\n        data: {\n          auth: [Authority.SYS_ADMIN],\n          title: 'tenant-profile.tenant-profiles'\n        },\n        resolve: {\n          entitiesTableConfig: TenantProfilesTableConfigResolver\n        }\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n  providers: [\n    TenantProfilesTableConfigResolver\n  ]\n})\nexport class TenantProfileRoutingModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\n\nimport { AdminModule } from './admin/admin.module';\nimport { HomeLinksModule } from './home-links/home-links.module';\nimport { ProfileModule } from './profile/profile.module';\nimport { TenantModule } from '@modules/home/pages/tenant/tenant.module';\nimport { CustomerModule } from '@modules/home/pages/customer/customer.module';\nimport { AuditLogModule } from '@modules/home/pages/audit-log/audit-log.module';\nimport { UserModule } from '@modules/home/pages/user/user.module';\nimport { DeviceModule } from '@modules/home/pages/device/device.module';\nimport { AssetModule } from '@modules/home/pages/asset/asset.module';\nimport { EntityViewModule } from '@modules/home/pages/entity-view/entity-view.module';\nimport { RuleChainModule } from '@modules/home/pages/rulechain/rulechain.module';\nimport { WidgetLibraryModule } from '@modules/home/pages/widget/widget-library.module';\nimport { DashboardModule } from '@modules/home/pages/dashboard/dashboard.module';\nimport { TenantProfileModule } from './tenant-profile/tenant-profile.module';\nimport { MODULES_MAP } from '@shared/public-api';\nimport { modulesMap } from '../../common/modules-map';\nimport { DeviceProfileModule } from './device-profile/device-profile.module';\nimport { ApiUsageModule } from '@home/pages/api-usage/api-usage.module';\nimport { EdgeModule } from '@home/pages/edge/edge.module';\nimport { OtaUpdateModule } from '@home/pages/ota-update/ota-update.module';\n\n@NgModule({\n  exports: [\n    AdminModule,\n    HomeLinksModule,\n    ProfileModule,\n    TenantProfileModule,\n    TenantModule,\n    DeviceProfileModule,\n    DeviceModule,\n    AssetModule,\n    EdgeModule,\n    EntityViewModule,\n    CustomerModule,\n    RuleChainModule,\n    WidgetLibraryModule,\n    DashboardModule,\n    AuditLogModule,\n    ApiUsageModule,\n    OtaUpdateModule,\n    UserModule\n  ],\n  providers: [\n    {\n      provide: MODULES_MAP,\n      useValue: modulesMap\n    }\n  ]\n})\nexport class HomePagesModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { EntitiesTableComponent } from '../../components/entity/entities-table.component';\nimport { Authority } from '@shared/models/authority.enum';\nimport { TenantsTableConfigResolver } from '@modules/home/pages/tenant/tenants-table-config.resolver';\nimport { UsersTableConfigResolver } from '../user/users-table-config.resolver';\n\nconst routes: Routes = [\n  {\n    path: 'tenants',\n    data: {\n      breadcrumb: {\n        label: 'tenant.tenants',\n        icon: 'supervisor_account'\n      }\n    },\n    children: [\n      {\n        path: '',\n        component: EntitiesTableComponent,\n        data: {\n          auth: [Authority.SYS_ADMIN],\n          title: 'tenant.tenants'\n        },\n        resolve: {\n          entitiesTableConfig: TenantsTableConfigResolver\n        }\n      },\n      {\n        path: ':tenantId/users',\n        component: EntitiesTableComponent,\n        data: {\n          auth: [Authority.SYS_ADMIN],\n          title: 'user.tenant-admins',\n          breadcrumb: {\n            label: 'user.tenant-admins',\n            icon: 'account_circle'\n          }\n        },\n        resolve: {\n          entitiesTableConfig: UsersTableConfigResolver\n        }\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n  providers: [\n    TenantsTableConfigResolver\n  ]\n})\nexport class TenantRoutingModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from '@shared/shared.module';\nimport { HomeComponentsModule } from '@modules/home/components/home-components.module';\nimport { DeviceProfileTabsComponent } from './device-profile-tabs.component';\nimport { DeviceProfileRoutingModule } from './device-profile-routing.module';\n\n@NgModule({\n  declarations: [\n    DeviceProfileTabsComponent\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    HomeComponentsModule,\n    DeviceProfileRoutingModule\n  ]\n})\nexport class DeviceProfileModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { ChangeDetectorRef, Component, Inject, OnDestroy, OnInit } from '@angular/core';\nimport { combineLatest, Subject } from 'rxjs';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { TranslateService } from '@ngx-translate/core';\nimport { EntityTableConfig } from '@home/models/entity/entities-table-config.models';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { EntityComponent } from '@home/components/entity/entity.component';\nimport {\n  ChecksumAlgorithm,\n  ChecksumAlgorithmTranslationMap,\n  OtaPackage,\n  OtaUpdateType,\n  OtaUpdateTypeTranslationMap\n} from '@shared/models/ota-package.models';\nimport { ActionNotificationShow } from '@core/notification/notification.actions';\nimport { filter, startWith, takeUntil } from 'rxjs/operators';\nimport { isNotEmptyStr } from '@core/utils';\n\n@Component({\n  selector: 'tb-ota-update',\n  templateUrl: './ota-update.component.html'\n})\nexport class OtaUpdateComponent extends EntityComponent<OtaPackage> implements OnInit, OnDestroy {\n\n  private destroy$ = new Subject();\n\n  checksumAlgorithms = Object.values(ChecksumAlgorithm);\n  checksumAlgorithmTranslationMap = ChecksumAlgorithmTranslationMap;\n  packageTypes = Object.values(OtaUpdateType);\n  otaUpdateTypeTranslationMap = OtaUpdateTypeTranslationMap;\n\n  constructor(protected store: Store<AppState>,\n              protected translate: TranslateService,\n              @Inject('entity') protected entityValue: OtaPackage,\n              @Inject('entitiesTableConfig') protected entitiesTableConfigValue: EntityTableConfig<OtaPackage>,\n              public fb: FormBuilder,\n              protected cd: ChangeDetectorRef) {\n    super(store, fb, entityValue, entitiesTableConfigValue, cd);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    if (this.isAdd) {\n      this.entityForm.get('isURL').valueChanges.pipe(\n        takeUntil(this.destroy$)\n      ).subscribe((isURL) => {\n        if (isURL === false) {\n          this.entityForm.get('url').clearValidators();\n          this.entityForm.get('file').setValidators(Validators.required);\n          this.entityForm.get('url').updateValueAndValidity({emitEvent: false});\n          this.entityForm.get('file').updateValueAndValidity({emitEvent: false});\n        } else {\n          this.entityForm.get('file').clearValidators();\n          this.entityForm.get('url').setValidators([Validators.required, Validators.pattern('(.|\\\\s)*\\\\S(.|\\\\s)*')]);\n          this.entityForm.get('file').updateValueAndValidity({emitEvent: false});\n          this.entityForm.get('url').updateValueAndValidity({emitEvent: false});\n        }\n      });\n      combineLatest([\n        this.entityForm.get('title').valueChanges.pipe(startWith('')),\n        this.entityForm.get('version').valueChanges.pipe(startWith(''))\n      ]).pipe(\n        filter(() => this.entityForm.get('tag').pristine),\n        takeUntil(this.destroy$)\n      ).subscribe(([title, version]) => {\n        const tag = (`${title} ${version}`).trim();\n        this.entityForm.get('tag').patchValue(tag);\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  hideDelete() {\n    if (this.entitiesTableConfig) {\n      return !this.entitiesTableConfig.deleteEnabled(this.entity);\n    } else {\n      return false;\n    }\n  }\n\n  buildForm(entity: OtaPackage): FormGroup {\n    const form = this.fb.group({\n      title: [entity ? entity.title : '', [Validators.required, Validators.maxLength(255)]],\n      version: [entity ? entity.version : '', [Validators.required, Validators.maxLength(255)]],\n      tag: [entity ? entity.tag : '', [Validators.maxLength(255)]],\n      type: [entity?.type ? entity.type : OtaUpdateType.FIRMWARE, Validators.required],\n      deviceProfileId: [entity ? entity.deviceProfileId : null, Validators.required],\n      checksumAlgorithm: [entity && entity.checksumAlgorithm ? entity.checksumAlgorithm : ChecksumAlgorithm.SHA256],\n      checksum: [entity ? entity.checksum : '', Validators.maxLength(1020)],\n      url: [entity ? entity.url : ''],\n      isURL: [false],\n      additionalInfo: this.fb.group(\n        {\n          description: [entity && entity.additionalInfo ? entity.additionalInfo.description : ''],\n        }\n      )\n    });\n    if (this.isAdd) {\n      form.addControl('file', this.fb.control(null, Validators.required));\n      form.addControl('generateChecksum', this.fb.control(true));\n    } else {\n      form.addControl('fileName', this.fb.control(null));\n      form.addControl('dataSize', this.fb.control(null));\n      form.addControl('contentType', this.fb.control(null));\n    }\n    return form;\n  }\n\n  updateForm(entity: OtaPackage) {\n    this.entityForm.patchValue({\n      title: entity.title,\n      version: entity.version,\n      tag: entity.tag,\n      type: entity.type,\n      deviceProfileId: entity.deviceProfileId,\n      checksumAlgorithm: entity.checksumAlgorithm,\n      checksum: entity.checksum,\n      fileName: entity.fileName,\n      dataSize: entity.dataSize,\n      contentType: entity.contentType,\n      url: entity.url,\n      isURL: isNotEmptyStr(entity.url),\n      additionalInfo: {\n        description: entity.additionalInfo ? entity.additionalInfo.description : ''\n      }\n    });\n    if (!this.isAdd && this.entityForm.enabled) {\n      this.entityForm.disable({emitEvent: false});\n      this.entityForm.get('additionalInfo').enable({emitEvent: false});\n    }\n  }\n\n  onPackageIdCopied() {\n    this.store.dispatch(new ActionNotificationShow(\n      {\n        message: this.translate.instant('ota-update.idCopiedMessage'),\n        type: 'success',\n        duration: 750,\n        verticalPosition: 'bottom',\n        horizontalPosition: 'right'\n      }));\n  }\n\n  onPackageChecksumCopied() {\n    this.store.dispatch(new ActionNotificationShow(\n      {\n        message: this.translate.instant('ota-update.checksum-copied-message'),\n        type: 'success',\n        duration: 750,\n        verticalPosition: 'bottom',\n        horizontalPosition: 'right'\n      }));\n  }\n\n  onPackageDirectUrlCopied() {\n    this.store.dispatch(new ActionNotificationShow(\n      {\n        message: this.translate.instant('ota-update.checksum-copied-message'),\n        type: 'success',\n        duration: 750,\n        verticalPosition: 'bottom',\n        horizontalPosition: 'right'\n      }));\n  }\n\n  prepareFormValue(formValue: any): any {\n    if (formValue.isURL) {\n      delete formValue.file;\n    } else {\n      delete formValue.url;\n    }\n    delete formValue.generateChecksum;\n    return super.prepareFormValue(formValue);\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div class=\"tb-details-buttons\" fxLayout.xs=\"column\">\n  <button mat-raised-button color=\"primary\" fxFlex.xs\n          [disabled]=\"(isLoading$ | async) || !(entity?.hasData && !entity?.url)\"\n          (click)=\"onEntityAction($event, 'uploadPackage')\"\n          [fxShow]=\"!isEdit\">\n    {{ 'ota-update.download' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\" fxFlex.xs\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'delete')\"\n          [fxShow]=\"!hideDelete() && !isEdit\">\n    {{ 'ota-update.delete' | translate }}\n  </button>\n  <div fxLayout=\"row\" fxLayout.xs=\"column\">\n    <button mat-raised-button\n            ngxClipboard\n            (cbOnSuccess)=\"onPackageIdCopied()\"\n            [cbContent]=\"entity?.id?.id\"\n            [fxShow]=\"!isEdit\">\n      <mat-icon svgIcon=\"mdi:clipboard-arrow-left\"></mat-icon>\n      <span translate>ota-update.copyId</span>\n    </button>\n    <button mat-raised-button\n            ngxClipboard\n            (cbOnSuccess)=\"onPackageChecksumCopied()\"\n            [cbContent]=\"entity?.checksum\"\n            [fxShow]=\"!isEdit && entity?.checksum\">\n      <mat-icon svgIcon=\"mdi:clipboard-arrow-left\"></mat-icon>\n      <span translate>ota-update.copy-checksum</span>\n    </button>\n    <button mat-raised-button\n            ngxClipboard\n            (cbOnSuccess)=\"onPackageDirectUrlCopied()\"\n            [cbContent]=\"entity?.url\"\n            [fxShow]=\"!isEdit && entity?.url\">\n      <mat-icon svgIcon=\"mdi:clipboard-arrow-left\"></mat-icon>\n      <span translate>ota-update.copy-direct-url</span>\n    </button>\n  </div>\n</div>\n<div class=\"mat-padding\" fxLayout=\"column\" fxLayoutGap=\"8px\">\n  <form [formGroup]=\"entityForm\">\n    <fieldset [disabled]=\"(isLoading$ | async) || !isEdit\" fxLayout=\"column\">\n      <div fxLayout=\"row\" fxLayoutGap.gt-xs=\"8px\" fxLayout.xs=\"column\">\n        <mat-form-field class=\"mat-block\" fxFlex=\"45\">\n          <mat-label translate>ota-update.title</mat-label>\n          <input matInput formControlName=\"title\" type=\"text\" required [readonly]=\"!isAdd\">\n          <mat-error *ngIf=\"entityForm.get('title').hasError('required')\">\n            {{ 'ota-update.title-required' | translate }}\n          </mat-error>\n          <mat-error *ngIf=\"entityForm.get('title').hasError('maxlength')\">\n            {{ 'ota-update.title-max-length' | translate }}\n          </mat-error>\n        </mat-form-field>\n        <mat-form-field class=\"mat-block\" fxFlex>\n          <mat-label translate>ota-update.version</mat-label>\n          <input matInput formControlName=\"version\" type=\"text\" required [readonly]=\"!isAdd\">\n          <mat-error *ngIf=\"entityForm.get('version').hasError('required')\">\n            {{ 'ota-update.version-required' | translate }}\n          </mat-error>\n          <mat-error *ngIf=\"entityForm.get('version').hasError('maxlength')\">\n            {{ 'ota-update.version-max-length' | translate }}\n          </mat-error>\n        </mat-form-field>\n      </div>\n      <mat-form-field class=\"mat-block\" fxFlex style=\"margin-bottom: 8px\">\n        <mat-label translate>ota-update.version-tag</mat-label>\n        <input matInput formControlName=\"tag\" type=\"text\" [readonly]=\"!isAdd\">\n        <mat-hint *ngIf=\"isAdd\" translate>ota-update.version-tag-hint</mat-hint>\n      </mat-form-field>\n      <tb-device-profile-autocomplete\n        formControlName=\"deviceProfileId\"\n        required\n        [ngStyle]=\"{'padding-bottom': isAdd ? '16px': 0}\"\n        [hint]=\"'ota-update.chose-compatible-device-profile'\"\n        [editProfileEnabled]=\"false\"\n        [addNewProfile]=\"false\"\n        [selectDefaultProfile]=\"true\">\n      </tb-device-profile-autocomplete>\n      <mat-form-field class=\"mat-block\">\n        <mat-label translate>ota-update.package-type</mat-label>\n        <mat-select formControlName=\"type\" required>\n          <mat-option *ngFor=\"let packageType of packageTypes\" [value]=\"packageType\">\n            {{ otaUpdateTypeTranslationMap.get(packageType) | translate }}\n          </mat-option>\n        </mat-select>\n      </mat-form-field>\n      <section *ngIf=\"isAdd\">\n        <div class=\"mat-caption\" style=\"margin: -8px 0 8px;\" translate>ota-update.warning-after-save-no-edit</div>\n        <mat-radio-group formControlName=\"isURL\" fxLayoutGap=\"16px\">\n          <mat-radio-button [value]=\"false\">{{ \"ota-update.upload-binary-file\" | translate }}</mat-radio-button>\n          <mat-radio-button [value]=\"true\">{{ \"ota-update.use-external-url\" | translate }}</mat-radio-button>\n        </mat-radio-group>\n      </section>\n      <section *ngIf=\"!entityForm.get('isURL').value\">\n        <section *ngIf=\"isAdd\">\n          <tb-file-input\n            formControlName=\"file\"\n            workFromFileObj=\"true\"\n            [required]=\"!entityForm.get('isURL').value\"\n            dropLabel=\"{{'ota-update.drop-file' | translate}}\">\n          </tb-file-input>\n          <mat-checkbox formControlName=\"generateChecksum\" style=\"margin-top: 16px\">\n            {{ 'ota-update.auto-generate-checksum' | translate }}\n          </mat-checkbox>\n        </section>\n        <div fxLayout=\"row\" fxLayoutGap.gt-xs=\"8px\" fxLayoutGap.sm=\"8px\"\n             fxLayout.xs=\"column\" fxLayout.md=\"column\"\n             *ngIf=\"!(isAdd && this.entityForm.get('generateChecksum').value)\">\n          <mat-form-field class=\"mat-block\" fxFlex=\"33\">\n            <mat-label translate>ota-update.checksum-algorithm</mat-label>\n            <mat-select formControlName=\"checksumAlgorithm\">\n              <mat-option *ngFor=\"let checksumAlgorithm of checksumAlgorithms\" [value]=\"checksumAlgorithm\">\n                {{ checksumAlgorithmTranslationMap.get(checksumAlgorithm) }}\n              </mat-option>\n            </mat-select>\n          </mat-form-field>\n          <mat-form-field class=\"mat-block\" fxFlex>\n            <mat-label translate>ota-update.checksum</mat-label>\n            <input matInput formControlName=\"checksum\" type=\"text\">\n            <mat-hint *ngIf=\"isAdd\" translate>ota-update.checksum-hint</mat-hint>\n          </mat-form-field>\n        </div>\n        <section *ngIf=\"!isAdd\">\n          <div fxLayout=\"row\" fxLayoutGap.gt-md=\"8px\" fxLayoutGap.sm=\"8px\" fxLayout.xs=\"column\" fxLayout.md=\"column\">\n            <mat-form-field class=\"mat-block\" fxFlex=\"33\">\n              <mat-label translate>ota-update.file-name</mat-label>\n              <input matInput formControlName=\"fileName\" type=\"text\">\n            </mat-form-field>\n            <mat-form-field class=\"mat-block\" fxFlex>\n              <mat-label translate>ota-update.file-size-bytes</mat-label>\n              <input matInput formControlName=\"dataSize\" type=\"text\">\n            </mat-form-field>\n            <mat-form-field class=\"mat-block\" fxFlex>\n              <mat-label translate>ota-update.content-type</mat-label>\n              <input matInput formControlName=\"contentType\" type=\"text\">\n            </mat-form-field>\n          </div>\n        </section>\n      </section>\n      <section *ngIf=\"entityForm.get('isURL').value\" style=\"margin-top: 8px\">\n        <mat-form-field class=\"mat-block\">\n          <mat-label translate>ota-update.direct-url</mat-label>\n          <input matInput formControlName=\"url\"\n                 type=\"text\"\n                 [required]=\"entityForm.get('isURL').value\">\n          <mat-error *ngIf=\"entityForm.get('url').hasError('required') || entityForm.get('url').hasError('pattern')\"\n                     translate>\n            ota-update.direct-url-required\n          </mat-error>\n        </mat-form-field>\n      </section>\n      <div formGroupName=\"additionalInfo\">\n        <mat-form-field class=\"mat-block\">\n          <mat-label translate>ota-update.description</mat-label>\n          <textarea matInput formControlName=\"description\" rows=\"2\"></textarea>\n        </mat-form-field>\n      </div>\n    </fieldset>\n  </form>\n</div>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Inject, Injectable, NgModule, Optional } from '@angular/core';\nimport {\n  ActivatedRouteSnapshot,\n  CanActivate,\n  Resolve,\n  Router,\n  RouterModule,\n  RouterStateSnapshot,\n  Routes,\n  UrlTree\n} from '@angular/router';\n\nimport { EntitiesTableComponent } from '../../components/entity/entities-table.component';\nimport { Authority } from '@shared/models/authority.enum';\nimport { RuleChainsTableConfigResolver } from '@modules/home/pages/rulechain/rulechains-table-config.resolver';\nimport { from, Observable } from 'rxjs';\nimport { BreadCrumbConfig, BreadCrumbLabelFunction } from '@shared/components/breadcrumb';\nimport {\n  ResolvedRuleChainMetaData,\n  RuleChain, RuleChainType\n} from '@shared/models/rule-chain.models';\nimport { RuleChainService } from '@core/http/rule-chain.service';\nimport { RuleChainPageComponent } from '@home/pages/rulechain/rulechain-page.component';\nimport { RuleNodeComponentDescriptor } from '@shared/models/rule-node.models';\nimport { ConfirmOnExitGuard } from '@core/guards/confirm-on-exit.guard';\nimport { ItemBufferService } from '@core/public-api';\nimport { MODULES_MAP } from '@shared/public-api';\n\n@Injectable()\nexport class RuleChainResolver implements Resolve<RuleChain> {\n\n  constructor(private ruleChainService: RuleChainService) {\n  }\n\n  resolve(route: ActivatedRouteSnapshot): Observable<RuleChain> {\n    const ruleChainId = route.params.ruleChainId;\n    return this.ruleChainService.getRuleChain(ruleChainId);\n  }\n}\n\n@Injectable()\nexport class ResolvedRuleChainMetaDataResolver implements Resolve<ResolvedRuleChainMetaData> {\n\n  constructor(private ruleChainService: RuleChainService) {\n  }\n\n  resolve(route: ActivatedRouteSnapshot): Observable<ResolvedRuleChainMetaData> {\n    const ruleChainId = route.params.ruleChainId;\n    return this.ruleChainService.getResolvedRuleChainMetadata(ruleChainId);\n  }\n}\n\n@Injectable()\nexport class RuleNodeComponentsResolver implements Resolve<Array<RuleNodeComponentDescriptor>> {\n\n  constructor(private ruleChainService: RuleChainService,\n              @Optional() @Inject(MODULES_MAP) private modulesMap: {[key: string]: any}) {\n  }\n\n  resolve(route: ActivatedRouteSnapshot): Observable<Array<RuleNodeComponentDescriptor>> {\n    return this.ruleChainService.getRuleNodeComponents(this.modulesMap, route.data.ruleChainType);\n  }\n}\n\n@Injectable()\nexport class TooltipsterResolver implements Resolve<any> {\n\n  constructor() {\n  }\n\n  resolve(route: ActivatedRouteSnapshot): Observable<any> {\n    return from(import('tooltipster'));\n  }\n}\n\n@Injectable()\nexport class RuleChainImportGuard implements CanActivate {\n\n  constructor(private itembuffer: ItemBufferService,\n              private router: Router) {\n  }\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot):\n    Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n    if (this.itembuffer.hasRuleChainImport()) {\n      return true;\n    } else {\n      return this.router.parseUrl('ruleChains');\n    }\n  }\n\n}\n\nexport const ruleChainBreadcumbLabelFunction: BreadCrumbLabelFunction<RuleChainPageComponent>\n  = ((route, translate, component) => {\n  let label: string = component.ruleChain.name;\n  if (component.ruleChain.root) {\n    label += ` (${translate.instant('rulechain.root')})`;\n  }\n  return label;\n});\n\nexport const importRuleChainBreadcumbLabelFunction: BreadCrumbLabelFunction<RuleChainPageComponent> =\n  ((route, translate, component) => {\n  return `${translate.instant('rulechain.import')}: ${component.ruleChain.name}`;\n});\n\nconst routes: Routes = [\n  {\n    path: 'ruleChains',\n    data: {\n      breadcrumb: {\n        label: 'rulechain.rulechains',\n        icon: 'settings_ethernet'\n      }\n    },\n    children: [\n      {\n        path: '',\n        component: EntitiesTableComponent,\n        data: {\n          auth: [Authority.TENANT_ADMIN],\n          title: 'rulechain.rulechains',\n          ruleChainsType: 'tenant'\n        },\n        resolve: {\n          entitiesTableConfig: RuleChainsTableConfigResolver\n        }\n      },\n      {\n        path: ':ruleChainId',\n        component: RuleChainPageComponent,\n        canDeactivate: [ConfirmOnExitGuard],\n        data: {\n          breadcrumb: {\n            labelFunction: ruleChainBreadcumbLabelFunction,\n            icon: 'settings_ethernet'\n          } as BreadCrumbConfig<RuleChainPageComponent>,\n          auth: [Authority.TENANT_ADMIN],\n          title: 'rulechain.rulechain',\n          import: false,\n          ruleChainType: RuleChainType.CORE\n        },\n        resolve: {\n          ruleChain: RuleChainResolver,\n          ruleChainMetaData: ResolvedRuleChainMetaDataResolver,\n          ruleNodeComponents: RuleNodeComponentsResolver,\n          tooltipster: TooltipsterResolver\n        }\n      },\n      {\n        path: 'ruleChain/import',\n        component: RuleChainPageComponent,\n        canActivate: [RuleChainImportGuard],\n        canDeactivate: [ConfirmOnExitGuard],\n        data: {\n          breadcrumb: {\n            labelFunction: importRuleChainBreadcumbLabelFunction,\n            icon: 'settings_ethernet'\n          } as BreadCrumbConfig<RuleChainPageComponent>,\n          auth: [Authority.TENANT_ADMIN],\n          title: 'rulechain.rulechain',\n          import: true,\n          ruleChainType: RuleChainType.CORE\n        },\n        resolve: {\n          ruleNodeComponents: RuleNodeComponentsResolver,\n          tooltipster: TooltipsterResolver\n        }\n      }\n    ]\n  }\n];\n\n// @dynamic\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n  providers: [\n    RuleChainsTableConfigResolver,\n    RuleChainResolver,\n    ResolvedRuleChainMetaDataResolver,\n    RuleNodeComponentsResolver,\n    TooltipsterResolver,\n    RuleChainImportGuard\n  ]\n})\nexport class RuleChainRoutingModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, OnInit } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { PageComponent } from '@shared/components/page.component';\nimport apiUsageDashboardJson from '!raw-loader!./api_usage_json.raw';\nimport { Dashboard } from '@shared/models/dashboard.models';\n\n@Component({\n  selector: 'tb-api-usage',\n  templateUrl: './api-usage.component.html',\n  styleUrls: ['./api-usage.component.scss']\n})\nexport class ApiUsageComponent extends PageComponent implements OnInit {\n\n  apiUsageDashboard: Dashboard;\n\n  constructor(protected store: Store<AppState>) {\n    super(store);\n  }\n\n  ngOnInit() {\n    this.apiUsageDashboard = JSON.parse(apiUsageDashboardJson);\n  }\n\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<tb-dashboard-page [embedded]=\"true\" [dashboard]=\"apiUsageDashboard\"></tb-dashboard-page>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { EntityTableHeaderComponent } from '../../components/entity/entity-table-header.component';\nimport { EntityType } from '@shared/models/entity-type.models';\nimport { AssetInfo } from '@shared/models/asset.models';\n\n@Component({\n  selector: 'tb-asset-table-header',\n  templateUrl: './asset-table-header.component.html',\n  styleUrls: ['./asset-table-header.component.scss']\n})\nexport class AssetTableHeaderComponent extends EntityTableHeaderComponent<AssetInfo> {\n\n  entityType = EntityType;\n\n  constructor(protected store: Store<AppState>) {\n    super(store);\n  }\n\n  assetTypeChanged(assetType: string) {\n    this.entitiesTableConfig.componentsData.assetType = assetType;\n    this.entitiesTableConfig.table.resetSortAndFilter(true);\n  }\n\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<tb-entity-subtype-select\n  [showLabel]=\"true\"\n  [entityType]=\"entityType.ASSET\"\n  [ngModel]=\"entitiesTableConfig.componentsData.assetType\"\n  (ngModelChange)=\"assetTypeChanged($event)\">\n</tb-entity-subtype-select>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { DialogComponent } from '@shared/components/dialog.component';\nimport { Router } from '@angular/router';\nimport { widgetType, widgetTypesData } from '@shared/models/widget.models';\n\n@Component({\n  selector: 'tb-select-widget-type-dialog',\n  templateUrl: './select-widget-type-dialog.component.html',\n  styleUrls: ['./select-widget-type-dialog.component.scss']\n})\nexport class SelectWidgetTypeDialogComponent extends\n  DialogComponent<SelectWidgetTypeDialogComponent, widgetType> {\n\n  widgetTypes = widgetType;\n\n  allWidgetTypes = Object.keys(widgetType);\n\n  widgetTypesDataMap = widgetTypesData;\n\n  constructor(protected store: Store<AppState>,\n              protected router: Router,\n              public dialogRef: MatDialogRef<SelectWidgetTypeDialogComponent, widgetType>) {\n    super(store, router, dialogRef);\n  }\n\n  cancel(): void {\n    this.dialogRef.close(null);\n  }\n\n  typeSelected(type: widgetType) {\n    this.dialogRef.close(type);\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<form style=\"width: 800px;\">\n  <mat-toolbar color=\"primary\">\n    <h2 translate>widget.select-widget-type</h2>\n    <span fxFlex></span>\n    <button mat-icon-button\n            (click)=\"cancel()\"\n            type=\"button\">\n      <mat-icon class=\"material-icons\">close</mat-icon>\n    </button>\n  </mat-toolbar>\n  <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n  </mat-progress-bar>\n  <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n  <div mat-dialog-content>\n    <fieldset [disabled]=\"(isLoading$ | async)\">\n      <div fxLayout=\"column\" fxLayoutGap=\"16px\" fxLayout.gt-sm=\"row\" fxLayoutAlign=\"center center\">\n        <button *ngFor=\"let type of allWidgetTypes;\" class=\"tb-card-button\" mat-raised-button color=\"primary\"\n                type=\"button\"\n                (click)=\"typeSelected(widgetTypes[type])\">\n          <mat-icon *ngIf=\"!widgetTypesDataMap.get(widgetTypes[type]).isMdiIcon; else mdiIconBlock\" class=\"tb-mat-96\">\n            {{ widgetTypesDataMap.get(widgetTypes[type]).icon }}\n          </mat-icon>\n          <ng-template #mdiIconBlock>\n            <mat-icon class=\"tb-mat-96\" [svgIcon]=\"widgetTypesDataMap.get(widgetTypes[type]).icon\">\n            </mat-icon>\n          </ng-template>\n          <span translate>{{ widgetTypesDataMap.get(widgetTypes[type]).name }}</span>\n        </button>\n      </div>\n    </fieldset>\n  </div>\n  <div mat-dialog-actions fxLayoutAlign=\"end center\">\n    <button mat-button color=\"primary\"\n            type=\"button\"\n            [disabled]=\"(isLoading$ | async)\"\n            (click)=\"cancel()\" cdkFocusInitial>\n      {{ 'action.cancel' | translate }}\n    </button>\n  </div>\n</form>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, OnInit } from '@angular/core';\nimport { UserService } from '@core/http/user.service';\nimport { AuthUser, User } from '@shared/models/user.model';\nimport { Authority } from '@shared/models/authority.enum';\nimport { PageComponent } from '@shared/components/page.component';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { HasConfirmForm } from '@core/guards/confirm-on-exit.guard';\nimport { ActionAuthUpdateUserDetails } from '@core/auth/auth.actions';\nimport { environment as env } from '@env/environment';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ActionSettingsChangeLanguage } from '@core/settings/settings.actions';\nimport { ChangePasswordDialogComponent } from '@modules/home/pages/profile/change-password-dialog.component';\nimport { MatDialog } from '@angular/material/dialog';\nimport { DialogService } from '@core/services/dialog.service';\nimport { AuthService } from '@core/auth/auth.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { isDefinedAndNotNull } from '@core/utils';\nimport { getCurrentAuthUser } from '@core/auth/auth.selectors';\nimport { ActionNotificationShow } from '@core/notification/notification.actions';\nimport { DatePipe } from '@angular/common';\nimport { ClipboardService } from 'ngx-clipboard';\n\n@Component({\n  selector: 'tb-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.scss']\n})\nexport class ProfileComponent extends PageComponent implements OnInit, HasConfirmForm {\n\n  authorities = Authority;\n  profile: FormGroup;\n  user: User;\n  languageList = env.supportedLangs;\n  private readonly authUser: AuthUser;\n\n  get jwtToken(): string {\n    return `Bearer ${localStorage.getItem('jwt_token')}`;\n  }\n\n  get jwtTokenExpiration(): string {\n    return localStorage.getItem('jwt_token_expiration');\n  }\n\n  get expirationJwtData(): string {\n    const expirationData = this.datePipe.transform(this.jwtTokenExpiration, 'yyyy-MM-dd HH:mm:ss');\n    return this.translate.instant('profile.valid-till', { expirationData });\n  }\n\n  constructor(protected store: Store<AppState>,\n              private route: ActivatedRoute,\n              private userService: UserService,\n              private authService: AuthService,\n              private translate: TranslateService,\n              public dialog: MatDialog,\n              public dialogService: DialogService,\n              public fb: FormBuilder,\n              private datePipe: DatePipe,\n              private clipboardService: ClipboardService) {\n    super(store);\n    this.authUser = getCurrentAuthUser(this.store);\n  }\n\n  ngOnInit() {\n    this.buildProfileForm();\n    this.userLoaded(this.route.snapshot.data.user);\n  }\n\n  buildProfileForm() {\n    this.profile = this.fb.group({\n      email: ['', [Validators.required, Validators.email]],\n      firstName: [''],\n      lastName: [''],\n      language: [''],\n      homeDashboardId: [null],\n      homeDashboardHideToolbar: [true]\n    });\n  }\n\n  save(): void {\n    this.user = {...this.user, ...this.profile.value};\n    if (!this.user.additionalInfo) {\n      this.user.additionalInfo = {};\n    }\n    this.user.additionalInfo.lang = this.profile.get('language').value;\n    this.user.additionalInfo.homeDashboardId = this.profile.get('homeDashboardId').value;\n    this.user.additionalInfo.homeDashboardHideToolbar = this.profile.get('homeDashboardHideToolbar').value;\n    this.userService.saveUser(this.user).subscribe(\n      (user) => {\n        this.userLoaded(user);\n        this.store.dispatch(new ActionAuthUpdateUserDetails({ userDetails: {\n            additionalInfo: {...user.additionalInfo},\n            authority: user.authority,\n            createdTime: user.createdTime,\n            tenantId: user.tenantId,\n            customerId: user.customerId,\n            email: user.email,\n            firstName: user.firstName,\n            id: user.id,\n            lastName: user.lastName,\n          } }));\n        this.store.dispatch(new ActionSettingsChangeLanguage({ userLang: user.additionalInfo.lang }));\n      }\n    );\n  }\n\n  changePassword(): void {\n    this.dialog.open(ChangePasswordDialogComponent, {\n      disableClose: true,\n      panelClass: ['tb-dialog', 'tb-fullscreen-dialog']\n    });\n  }\n\n  userLoaded(user: User) {\n    this.user = user;\n    this.profile.reset(user);\n    let lang;\n    let homeDashboardId;\n    let homeDashboardHideToolbar = true;\n    if (user.additionalInfo) {\n      if (user.additionalInfo.lang) {\n        lang = user.additionalInfo.lang;\n      }\n      homeDashboardId = user.additionalInfo.homeDashboardId;\n      if (isDefinedAndNotNull(user.additionalInfo.homeDashboardHideToolbar)) {\n        homeDashboardHideToolbar = user.additionalInfo.homeDashboardHideToolbar;\n      }\n    }\n    if (!lang) {\n      lang = this.translate.currentLang;\n    }\n    this.profile.get('language').setValue(lang);\n    this.profile.get('homeDashboardId').setValue(homeDashboardId);\n    this.profile.get('homeDashboardHideToolbar').setValue(homeDashboardHideToolbar);\n  }\n\n  confirmForm(): FormGroup {\n    return this.profile;\n  }\n\n  isSysAdmin(): boolean {\n    return this.authUser.authority === Authority.SYS_ADMIN;\n  }\n\n  copyToken() {\n    if (+this.jwtTokenExpiration < Date.now()) {\n      this.store.dispatch(new ActionNotificationShow({\n        message: this.translate.instant('profile.tokenCopiedWarnMessage'),\n        type: 'warn',\n        duration: 1500,\n        verticalPosition: 'bottom',\n        horizontalPosition: 'right'\n      }));\n    } else {\n      this.clipboardService.copyFromContent(this.jwtToken);\n      this.store.dispatch(new ActionNotificationShow({\n        message: this.translate.instant('profile.tokenCopiedSuccessMessage'),\n        type: 'success',\n        duration: 750,\n        verticalPosition: 'bottom',\n        horizontalPosition: 'right'\n      }));\n    }\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div>\n  <mat-card class=\"profile-card\">\n    <mat-card-title>\n      <div fxLayout=\"row\" fxLayout.xs=\"column\" fxLayoutGap.xs=\"8px\">\n        <div fxFlex fxLayout=\"column\">\n          <span class=\"mat-headline\" translate>profile.profile</span>\n          <span class=\"profile-email\" style='opacity: 0.7;'>{{ profile ? profile.get('email').value : '' }}</span>\n        </div>\n        <div fxFlex fxLayout=\"column\">\n          <span class=\"mat-subheader\" translate>profile.last-login-time</span>\n          <span class=\"profile-last-login-ts\" style='opacity: 0.7;'>{{ user?.additionalInfo?.lastLoginTs | date:'yyyy-MM-dd HH:mm:ss'  }}</span>\n        </div>\n      </div>\n    </mat-card-title>\n    <mat-card-title>\n    </mat-card-title>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <mat-card-content style=\"padding-top: 16px;\">\n      <form [formGroup]=\"profile\" (ngSubmit)=\"save()\">\n        <fieldset [disabled]=\"isLoading$ | async\">\n          <mat-form-field class=\"mat-block\">\n            <mat-label translate>user.email</mat-label>\n            <input matInput formControlName=\"email\" required/>\n            <mat-error *ngIf=\"profile.get('email').hasError('required')\">\n              {{ 'user.email-required' | translate }}\n            </mat-error>\n            <mat-error *ngIf=\"profile.get('email').hasError('email')\">\n              {{ 'user.invalid-email-format' | translate }}\n            </mat-error>\n          </mat-form-field>\n          <mat-form-field class=\"mat-block\">\n            <mat-label translate>user.first-name</mat-label>\n            <input matInput formControlName=\"firstName\"/>\n          </mat-form-field>\n          <mat-form-field class=\"mat-block\">\n            <mat-label translate>user.last-name</mat-label>\n            <input matInput formControlName=\"lastName\"/>\n          </mat-form-field>\n          <mat-form-field class=\"mat-block\">\n            <mat-label translate>language.language</mat-label>\n            <mat-select formControlName=\"language\">\n              <mat-option *ngFor=\"let lang of languageList\" [value]=\"lang\">\n                {{ lang ? ('language.locales.' + lang | translate) : ''}}\n              </mat-option>\n            </mat-select>\n          </mat-form-field>\n          <section class=\"tb-home-dashboard\" fxFlex fxLayout=\"column\" fxLayout.gt-sm=\"row\" *ngIf=\"!isSysAdmin()\">\n            <tb-dashboard-autocomplete\n              fxFlex\n              placeholder=\"{{ 'dashboard.home-dashboard' | translate }}\"\n              formControlName=\"homeDashboardId\"\n              [dashboardsScope]=\"user?.authority === authorities.TENANT_ADMIN ? 'tenant' : 'customer'\"\n              [tenantId]=\"user?.tenantId?.id\"\n              [customerId]=\"user?.customerId?.id\"\n              [selectFirstDashboard]=\"false\"\n            ></tb-dashboard-autocomplete>\n            <mat-checkbox fxFlex formControlName=\"homeDashboardHideToolbar\">\n              {{ 'dashboard.home-dashboard-hide-toolbar' | translate }}\n            </mat-checkbox>\n          </section>\n          <div fxLayout=\"row\" style=\"padding-bottom: 16px;\">\n            <button mat-button mat-raised-button color=\"primary\"\n                    type=\"button\"\n                    [disabled]=\"(isLoading$ | async)\" (click)=\"changePassword()\">\n              {{'profile.change-password' | translate}}\n            </button>\n          </div>\n          <div fxLayout=\"row\" fxLayoutAlign=\" center\" style=\"padding-bottom: 16px;\">\n            <button mat-raised-button\n                    type=\"button\"\n                    (click)=\"copyToken()\">\n              <mat-icon svgIcon=\"mdi:clipboard-arrow-left\"></mat-icon>\n              <span>{{ 'profile.copy-jwt-token' | translate }}</span>\n            </button>\n            <span class=\"profile-btn-subtext\">{{ expirationJwtData }}</span>\n          </div>\n          <div fxLayout=\"row\" class=\"layout-wrap\">\n            <span fxFlex></span>\n            <button mat-button mat-raised-button color=\"primary\"\n                    type=\"submit\"\n                    [disabled]=\"(isLoading$ | async) || profile.invalid || !profile.dirty\">\n              {{ 'action.save' | translate }}\n            </button>\n          </div>\n        </fieldset>\n      </form>\n    </mat-card-content>\n  </mat-card>\n</div>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { EntityTabsComponent } from '../../components/entity/entity-tabs.component';\nimport { TenantProfile } from '@shared/models/tenant.model';\n\n@Component({\n  selector: 'tb-tenant-profile-tabs',\n  templateUrl: './tenant-profile-tabs.component.html',\n  styleUrls: []\n})\nexport class TenantProfileTabsComponent extends EntityTabsComponent<TenantProfile> {\n\n  constructor(protected store: Store<AppState>) {\n    super(store);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n  }\n\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'attribute.attributes' | translate }}\" #attributesTab=\"matTab\">\n  <tb-attribute-table [defaultAttributeScope]=\"attributeScopes.SERVER_SCOPE\"\n                      [active]=\"attributesTab.isActive\"\n                      [entityId]=\"entity.id\"\n                      [entityName]=\"entity.name\">\n  </tb-attribute-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'attribute.latest-telemetry' | translate }}\" #telemetryTab=\"matTab\">\n  <tb-attribute-table [defaultAttributeScope]=\"latestTelemetryTypes.LATEST_TELEMETRY\"\n                      disableAttributeScopeSelection\n                      [active]=\"telemetryTab.isActive\"\n                      [entityId]=\"entity.id\"\n                      [entityName]=\"entity.name\">\n  </tb-attribute-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'alarm.alarms' | translate }}\" #alarmsTab=\"matTab\">\n  <tb-alarm-table [active]=\"alarmsTab.isActive\" [entityId]=\"entity.id\"></tb-alarm-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'tenant.events' | translate }}\" #eventsTab=\"matTab\">\n  <tb-event-table [defaultEventType]=\"eventTypes.ERROR\" [active]=\"eventsTab.isActive\" [tenantId]=\"nullUid\"\n                  [entityId]=\"entity.id\"></tb-event-table>\n</mat-tab>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from '@shared/shared.module';\nimport { HomeDialogsModule } from '../../dialogs/home-dialogs.module';\nimport { DashboardFormComponent } from '@modules/home/pages/dashboard/dashboard-form.component';\nimport { ManageDashboardCustomersDialogComponent } from '@modules/home/pages/dashboard/manage-dashboard-customers-dialog.component';\nimport { DashboardRoutingModule } from './dashboard-routing.module';\nimport { MakeDashboardPublicDialogComponent } from '@modules/home/pages/dashboard/make-dashboard-public-dialog.component';\nimport { HomeComponentsModule } from '@modules/home/components/home-components.module';\nimport { DashboardTabsComponent } from '@home/pages/dashboard/dashboard-tabs.component';\n\n@NgModule({\n  declarations: [\n    DashboardFormComponent,\n    DashboardTabsComponent,\n    ManageDashboardCustomersDialogComponent,\n    MakeDashboardPublicDialogComponent\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    HomeComponentsModule,\n    HomeDialogsModule,\n    DashboardRoutingModule\n  ]\n})\nexport class DashboardModule { }\n","export default \"{\\n  \\\"title\\\": \\\"Api Usage\\\",\\n  \\\"image\\\": null,\\n  \\\"mobileHide\\\": false,\\n  \\\"mobileOrder\\\": null,\\n  \\\"configuration\\\": {\\n    \\\"description\\\": \\\"\\\",\\n    \\\"widgets\\\": {\\n      \\\"fd6df872-2ddf-0921-3929-2e7f55062fad\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"cards\\\",\\n        \\\"typeAlias\\\": \\\"html_value_card\\\",\\n        \\\"type\\\": \\\"latest\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 7.5,\\n        \\\"sizeY\\\": 3,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"jsExecutionApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"apiState\\\",\\n                  \\\"color\\\": \\\"#2196f3\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.8830669138660703,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"jsExecutionLimit\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"limit\\\",\\n                  \\\"color\\\": \\\"#4caf50\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.5463603803546802,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"jsExecutionCount\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"count\\\",\\n                  \\\"color\\\": \\\"#f44336\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.5564241862015964,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"jsExecutionApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"apiStateClass\\\",\\n                  \\\"color\\\": \\\"#ffc107\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.8737107059960671,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": true,\\n                  \\\"postFuncBody\\\": \\\"return value ? value.toLowerCase() : '';\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"jsExecutionApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"cardId\\\",\\n                  \\\"color\\\": \\\"#607d8b\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.051659774305067296,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": true,\\n                  \\\"postFuncBody\\\": \\\"return (Math.random()*100000).toFixed(0);\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"jsExecutionApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"title\\\",\\n                  \\\"color\\\": \\\"#9c27b0\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.7673280949238444,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": true,\\n                  \\\"postFuncBody\\\": \\\"return \\\\\\\"{i18n:api-usage.javascript}\\\\\\\";\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"jsExecutionApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"unit\\\",\\n                  \\\"color\\\": \\\"#8bc34a\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.7926918686567068,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": true,\\n                  \\\"postFuncBody\\\": \\\"return \\\\\\\"{i18n:api-usage.executions}\\\\\\\";\\\"\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"realtime\\\": {\\n              \\\"timewindowMs\\\": 60000\\n            }\\n          },\\n          \\\"showTitle\\\": false,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"#666666\\\",\\n          \\\"padding\\\": \\\"0\\\",\\n          \\\"settings\\\": {\\n            \\\"cardHtml\\\": \\\"<div class='card ${apiStateClass}'>\\\\n    <img src=\\\\\\\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\\\\\\\" onload=\\\\\\\"initializeCard_${cardId:0}(event);\\\\\\\">\\\\n    <script type=\\\\\\\"text/javascript\\\\\\\">\\\\n        function initializeCard_${cardId:0}(e) {\\\\n            \\\\n            function toShortNumber(number) {\\\\n                var rounder = Math.pow(10, 1);\\\\n                var powers = [\\\\n                  {key: 'Q', value: Math.pow(10, 15)},\\\\n                  {key: 'T', value: Math.pow(10, 12)},\\\\n                  {key: 'B', value: Math.pow(10, 9)},\\\\n                  {key: 'M', value: Math.pow(10, 6)},\\\\n                  {key: 'K', value: 1000}\\\\n                ];\\\\n                \\\\n                var key = '';\\\\n                \\\\n                for (var i = 0; i < powers.length; i++) {\\\\n                    var reduced = number / powers[i].value;\\\\n                    reduced = Math.round(reduced * rounder) / rounder;\\\\n                    if (reduced >= 1) {\\\\n                        number = reduced;\\\\n                        key = powers[i].key;\\\\n                        break;\\\\n                    }\\\\n                }\\\\n                return number + key;\\\\n            }\\\\n            \\\\n            var imgTag = e.target;\\\\n            var parentTag = imgTag.parentNode;\\\\n            var count = \\\\\\\"${count:0}\\\\\\\";\\\\n            var limit = \\\\\\\"${limit:0}\\\\\\\";\\\\n            count = count.length > 0 ? parseInt(count, 10) : 0;\\\\n            limit = limit.length > 0 ? parseInt(limit, 10) : 0;\\\\n            var percentElement = $('#api-usage-percent', parentTag);\\\\n            var valueElement = $('#api-usage-value', parentTag);\\\\n            var barElement = $('#api-usage-bar', parentTag);\\\\n            if (Number.isFinite(limit) && limit > 0) {\\\\n                var percent = Math.min(100, ((count / limit) * 100));\\\\n                barElement.width(percent + '%');\\\\n                percent = percent.toFixed(2);\\\\n                percentElement.text(percent + '%');\\\\n                valueElement.text(toShortNumber(count) + ' / ' + toShortNumber(limit));\\\\n            } else {\\\\n                barElement.width('0%');\\\\n                percentElement.text('');\\\\n                valueElement.text(toShortNumber(count) + ' / ∞');\\\\n            }\\\\n        }\\\\n    </script>\\\\n    <div class='content'>\\\\n        <div class='column'>\\\\n            <div class='title-row'>\\\\n                <div class='title'>${title}</div>\\\\n                <div class='state'>${apiState}</div>\\\\n            </div>    \\\\n            <div class='bar-container'>\\\\n                <div class=\\\\\\\"unit\\\\\\\">${unit}</div>\\\\n                <div class='bar'>\\\\n                    <div class=\\\\\\\"bar-fill\\\\\\\" id=\\\\\\\"api-usage-bar\\\\\\\"></div>\\\\n                </div>    \\\\n                <div class='bar-labels'>\\\\n                    <div id=\\\\\\\"api-usage-percent\\\\\\\"></div>\\\\n                    <div style=\\\\\\\"flex: 1;\\\\\\\"></div>\\\\n                    <div id=\\\\\\\"api-usage-value\\\\\\\"></div>\\\\n                </div>\\\\n            </div>    \\\\n        </div>\\\\n    </div>\\\\n    <div role=\\\\\\\"separator\\\\\\\" class=\\\\\\\"mat-divider mat-divider-horizontal\\\\\\\" aria-orientation=\\\\\\\"horizontal\\\\\\\"></div>\\\\n    <div class='action-row'>\\\\n        <button id=\\\\\\\"javascript_functions_details\\\\\\\" class=\\\\\\\"mat-focus-indicator mat-button mat-button-base mat-primary\\\\\\\">\\\\n            <span class=\\\\\\\"mat-button-wrapper\\\\\\\">{i18n:api-usage.view-details}</span>\\\\n            <span class=\\\\\\\"mat-ripple mat-button-ripple\\\\\\\"></span>\\\\n            <span class=\\\\\\\"mat-button-focus-overlay\\\\\\\"></span>\\\\n        </button>\\\\n    </div> \\\\n</div>\\\",\\n            \\\"cardCss\\\": \\\".card {\\\\n   width: 100%;\\\\n   height: 100%;\\\\n   box-sizing: border-box;\\\\n   display: flex;\\\\n   flex-direction: column;\\\\n}\\\\n\\\\n.card > img {\\\\n    height: 0;\\\\n}\\\\n\\\\n.card .content {\\\\n   flex: 1;    \\\\n   padding: 13px 13px 0;\\\\n   display: flex;\\\\n   box-sizing: border-box;\\\\n}\\\\n\\\\n.card .content .column {\\\\n   display: flex;\\\\n   flex-direction: column;    \\\\n   justify-content: space-around;\\\\n   flex: 1;\\\\n}\\\\n\\\\n.card .content .title-row {\\\\n    display: flex;\\\\n    flex-direction: row;\\\\n    padding-bottom: 10px;\\\\n}\\\\n\\\\n.card .title {\\\\n    flex: 1;\\\\n    font-size: 20px;\\\\n    font-weight: 400;\\\\n    color: #666666;\\\\n}\\\\n\\\\n.card .state {\\\\n    text-transform: uppercase;\\\\n    font-size: 20px;\\\\n    font-weight: bold;\\\\n}\\\\n\\\\n.card.enabled .state {\\\\n    color: #00B260;\\\\n}\\\\n\\\\n.card.warning .state {\\\\n    color: #FFAD6F;\\\\n}\\\\n\\\\n.card.disabled .state {\\\\n    color: #F73243;\\\\n}\\\\n\\\\n.card .bar-container {\\\\n    flex: 1;\\\\n    display: flex;\\\\n    flex-direction: column;\\\\n    justify-content: center;\\\\n}\\\\n\\\\n.card .bar {\\\\n    flex: 1;\\\\n    max-height: 30px;\\\\n    margin-top: 3.5px;\\\\n    margin-bottom: 4px;\\\\n    background-color: #F0F0F0;\\\\n    border: 1px solid #DADCDB;\\\\n    border-radius: 2px;\\\\n    box-shadow: inset 0 1px 3px rgba(0, 0, 0, .2);\\\\n}\\\\n\\\\n.card.enabled .bar {\\\\n    border-color: #00B260;\\\\n    background-color: #F0FBF7;\\\\n}\\\\n\\\\n.card.warning .bar {\\\\n    border-color: #FFAD6F;\\\\n    background-color: #FFFAF6;\\\\n}\\\\n\\\\n.card.disabled .bar {\\\\n    border-color: #F73243;\\\\n    background-color: #FFF0F0;\\\\n}\\\\n\\\\n.card .bar .bar-fill {\\\\n    background-color: #F0F0F0;\\\\n    border-radius: 2px;\\\\n    height: 100%;\\\\n    width: 0%;\\\\n}\\\\n\\\\n.card.enabled .bar-fill {\\\\n    background-color: #00C46C;\\\\n}\\\\n\\\\n.card.warning .bar-fill {\\\\n    background-color: #FFD099;\\\\n}\\\\n\\\\n.card.disabled .bar-fill {\\\\n    background-color: #FF9494;\\\\n}\\\\n\\\\n.card .bar-labels {\\\\n    height: 20px;\\\\n    font-size: 16px;\\\\n    color: #666;\\\\n    display: flex;\\\\n    flex-direction: row;\\\\n}\\\\n\\\\n\\\\n.card .mat-button {\\\\n    text-transform: uppercase;\\\\n    white-space: nowrap;\\\\n    overflow: hidden;\\\\n    text-overflow: ellipsis;\\\\n}\\\\n\\\\n.card .mat-button-wrapper {\\\\n    pointer-events: none;\\\\n}\\\\n\\\\n.card .action-row {\\\\n    display: flex;\\\\n    flex-direction: row;\\\\n    justify-content: flex-end;\\\\n    padding: 8px 0;\\\\n}\\\\n\\\\n@media screen and (min-width: 960px) and (max-width: 1279px) {\\\\n  .card .title {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .state {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .unit {\\\\n      font-size: 8px;\\\\n  }\\\\n  .card .bar-labels {\\\\n      font-size: 8px;\\\\n  }\\\\n  .card .mat-button {\\\\n      font-size: 8px;\\\\n  }\\\\n  .card .action-row {\\\\n      padding: 0;\\\\n  }\\\\n}\\\\n\\\\n@media screen and (min-width: 1280px) and (max-width: 1599px) {\\\\n  .card .title {\\\\n      font-size: 14px;\\\\n  }\\\\n  .card .state {\\\\n      font-size: 14px;\\\\n  }\\\\n  .card .unit {\\\\n      font-size: 10px;\\\\n  }\\\\n  .card .bar-labels {\\\\n      font-size: 10px;\\\\n  }\\\\n  .card .mat-button {\\\\n      font-size: 10px;\\\\n  }\\\\n  .card .action-row {\\\\n      padding: 0;\\\\n  }\\\\n}\\\\n\\\\n@media screen and (min-width: 1600px) and (max-width: 1919px) {\\\\n  .card .title {\\\\n      font-size: 16px;\\\\n  }\\\\n  .card .state {\\\\n      font-size: 16px;\\\\n  }\\\\n  .card .unit {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .bar-labels {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .mat-button {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .action-row {\\\\n      padding: 0;\\\\n  }\\\\n}    \\\\n\\\\n\\\\n\\\"\\n          },\\n          \\\"title\\\": \\\"JavaScript functions\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": false,\\n          \\\"widgetStyle\\\": {\\n            \\\"cursor\\\": \\\"default\\\"\\n          },\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"20px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"useDashboardTimewindow\\\": true,\\n          \\\"showLegend\\\": false,\\n          \\\"actions\\\": {\\n            \\\"elementClick\\\": [\\n              {\\n                \\\"name\\\": \\\"javascript_functions_details\\\",\\n                \\\"icon\\\": \\\"insert_chart\\\",\\n                \\\"type\\\": \\\"openDashboardState\\\",\\n                \\\"targetDashboardStateId\\\": \\\"javascript_functions\\\",\\n                \\\"setEntityId\\\": false,\\n                \\\"stateEntityParamName\\\": null,\\n                \\\"openRightLayout\\\": false,\\n                \\\"id\\\": \\\"d4961bea-84de-e1af-e50f-666b98d34cd5\\\"\\n              }\\n            ]\\n          },\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\"\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"fd6df872-2ddf-0921-3929-2e7f55062fad\\\"\\n      },\\n      \\\"7e235874-461b-e7c2-2fdd-d8762a020773\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"cards\\\",\\n        \\\"typeAlias\\\": \\\"html_value_card\\\",\\n        \\\"type\\\": \\\"latest\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 7.5,\\n        \\\"sizeY\\\": 3,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"dbApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"apiState\\\",\\n                  \\\"color\\\": \\\"#2196f3\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.8830669138660703,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"storageDataPointsLimit\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"limit\\\",\\n                  \\\"color\\\": \\\"#4caf50\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.5463603803546802,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"storageDataPointsCount\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"count\\\",\\n                  \\\"color\\\": \\\"#f44336\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.5564241862015964,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"dbApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"apiStateClass\\\",\\n                  \\\"color\\\": \\\"#ffc107\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.8737107059960671,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": true,\\n                  \\\"postFuncBody\\\": \\\"return value ? value.toLowerCase() : '';\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"dbApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"cardId\\\",\\n                  \\\"color\\\": \\\"#607d8b\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.051659774305067296,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": true,\\n                  \\\"postFuncBody\\\": \\\"return (Math.random()*100000).toFixed(0);\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"dbApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"title\\\",\\n                  \\\"color\\\": \\\"#9c27b0\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.6301889725474652,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": true,\\n                  \\\"postFuncBody\\\": \\\"return \\\\\\\"{i18n:api-usage.telemetry}\\\\\\\";\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"dbApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"unit\\\",\\n                  \\\"color\\\": \\\"#8bc34a\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.0027742924142306613,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": true,\\n                  \\\"postFuncBody\\\": \\\"return \\\\\\\"{i18n:api-usage.data-points-storage-days}\\\\\\\";\\\"\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"realtime\\\": {\\n              \\\"timewindowMs\\\": 60000\\n            }\\n          },\\n          \\\"showTitle\\\": false,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"#666666\\\",\\n          \\\"padding\\\": \\\"0\\\",\\n          \\\"settings\\\": {\\n            \\\"cardHtml\\\": \\\"<div class='card ${apiStateClass}'>\\\\n    <img src=\\\\\\\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\\\\\\\" onload=\\\\\\\"initializeCard_${cardId:0}(event);\\\\\\\">\\\\n    <script type=\\\\\\\"text/javascript\\\\\\\">\\\\n        function initializeCard_${cardId:0}(e) {\\\\n            \\\\n            function toShortNumber(number) {\\\\n                var rounder = Math.pow(10, 1);\\\\n                var powers = [\\\\n                  {key: 'Q', value: Math.pow(10, 15)},\\\\n                  {key: 'T', value: Math.pow(10, 12)},\\\\n                  {key: 'B', value: Math.pow(10, 9)},\\\\n                  {key: 'M', value: Math.pow(10, 6)},\\\\n                  {key: 'K', value: 1000}\\\\n                ];\\\\n                \\\\n                var key = '';\\\\n                \\\\n                for (var i = 0; i < powers.length; i++) {\\\\n                    var reduced = number / powers[i].value;\\\\n                    reduced = Math.round(reduced * rounder) / rounder;\\\\n                    if (reduced >= 1) {\\\\n                        number = reduced;\\\\n                        key = powers[i].key;\\\\n                        break;\\\\n                    }\\\\n                }\\\\n                return number + key;\\\\n            }\\\\n            \\\\n            var imgTag = e.target;\\\\n            var parentTag = imgTag.parentNode;\\\\n            var count = \\\\\\\"${count:0}\\\\\\\";\\\\n            var limit = \\\\\\\"${limit:0}\\\\\\\";\\\\n            count = count.length > 0 ? parseInt(count, 10) : 0;\\\\n            limit = limit.length > 0 ? parseInt(limit, 10) : 0;\\\\n            var percentElement = $('#api-usage-percent', parentTag);\\\\n            var valueElement = $('#api-usage-value', parentTag);\\\\n            var barElement = $('#api-usage-bar', parentTag);\\\\n            if (Number.isFinite(limit) && limit > 0) {\\\\n                var percent = Math.min(100, ((count / limit) * 100));\\\\n                barElement.width(percent + '%');\\\\n                percent = percent.toFixed(2);\\\\n                percentElement.text(percent + '%');\\\\n                valueElement.text(toShortNumber(count) + ' / ' + toShortNumber(limit));\\\\n            } else {\\\\n                barElement.width('0%');\\\\n                percentElement.text('');\\\\n                valueElement.text(toShortNumber(count) + ' / ∞');\\\\n            }\\\\n        }\\\\n    </script>\\\\n    <div class='content'>\\\\n        <div class='column'>\\\\n            <div class='title-row'>\\\\n                <div class='title'>${title}</div>\\\\n                <div class='state'>${apiState}</div>\\\\n            </div>    \\\\n            <div class='bar-container'>\\\\n                <div class=\\\\\\\"unit\\\\\\\">${unit}</div>\\\\n                <div class='bar'>\\\\n                    <div class=\\\\\\\"bar-fill\\\\\\\" id=\\\\\\\"api-usage-bar\\\\\\\"></div>\\\\n                </div>    \\\\n                <div class='bar-labels'>\\\\n                    <div id=\\\\\\\"api-usage-percent\\\\\\\"></div>\\\\n                    <div style=\\\\\\\"flex: 1;\\\\\\\"></div>\\\\n                    <div id=\\\\\\\"api-usage-value\\\\\\\"></div>\\\\n                </div>\\\\n            </div>    \\\\n        </div>\\\\n    </div>\\\\n    <div role=\\\\\\\"separator\\\\\\\" class=\\\\\\\"mat-divider mat-divider-horizontal\\\\\\\" aria-orientation=\\\\\\\"horizontal\\\\\\\"></div>\\\\n    <div class='action-row'>\\\\n        <button id=\\\\\\\"telemetry_persistence_details\\\\\\\" class=\\\\\\\"mat-focus-indicator mat-button mat-button-base mat-primary\\\\\\\">\\\\n            <span class=\\\\\\\"mat-button-wrapper\\\\\\\">{i18n:api-usage.view-details}</span>\\\\n            <span class=\\\\\\\"mat-ripple mat-button-ripple\\\\\\\"></span>\\\\n            <span class=\\\\\\\"mat-button-focus-overlay\\\\\\\"></span>\\\\n        </button>\\\\n    </div> \\\\n</div>\\\",\\n            \\\"cardCss\\\": \\\".card {\\\\n   width: 100%;\\\\n   height: 100%;\\\\n   box-sizing: border-box;\\\\n   display: flex;\\\\n   flex-direction: column;\\\\n}\\\\n\\\\n.card > img {\\\\n    height: 0;\\\\n}\\\\n\\\\n.card .content {\\\\n   flex: 1;    \\\\n   padding: 13px 13px 0;\\\\n   display: flex;\\\\n   box-sizing: border-box;\\\\n}\\\\n\\\\n.card .content .column {\\\\n   display: flex;\\\\n   flex-direction: column;    \\\\n   justify-content: space-around;\\\\n   flex: 1;\\\\n}\\\\n\\\\n.card .content .title-row {\\\\n    display: flex;\\\\n    flex-direction: row;\\\\n    padding-bottom: 10px;\\\\n}\\\\n\\\\n.card .title {\\\\n    flex: 1;\\\\n    font-size: 20px;\\\\n    font-weight: 400;\\\\n    color: #666666;\\\\n}\\\\n\\\\n.card .state {\\\\n    text-transform: uppercase;\\\\n    font-size: 20px;\\\\n    font-weight: bold;\\\\n}\\\\n\\\\n.card.enabled .state {\\\\n    color: #00B260;\\\\n}\\\\n\\\\n.card.warning .state {\\\\n    color: #FFAD6F;\\\\n}\\\\n\\\\n.card.disabled .state {\\\\n    color: #F73243;\\\\n}\\\\n\\\\n.card .bar-container {\\\\n    flex: 1;\\\\n    display: flex;\\\\n    flex-direction: column;\\\\n    justify-content: center;\\\\n}\\\\n\\\\n.card .bar {\\\\n    flex: 1;\\\\n    max-height: 30px;\\\\n    margin-top: 3.5px;\\\\n    margin-bottom: 4px;\\\\n    background-color: #F0F0F0;\\\\n    border: 1px solid #DADCDB;\\\\n    border-radius: 2px;\\\\n    box-shadow: inset 0 1px 3px rgba(0, 0, 0, .2);\\\\n}\\\\n\\\\n.card.enabled .bar {\\\\n    border-color: #00B260;\\\\n    background-color: #F0FBF7;\\\\n}\\\\n\\\\n.card.warning .bar {\\\\n    border-color: #FFAD6F;\\\\n    background-color: #FFFAF6;\\\\n}\\\\n\\\\n.card.disabled .bar {\\\\n    border-color: #F73243;\\\\n    background-color: #FFF0F0;\\\\n}\\\\n\\\\n.card .bar .bar-fill {\\\\n    background-color: #F0F0F0;\\\\n    border-radius: 2px;\\\\n    height: 100%;\\\\n    width: 0%;\\\\n}\\\\n\\\\n.card.enabled .bar-fill {\\\\n    background-color: #00C46C;\\\\n}\\\\n\\\\n.card.warning .bar-fill {\\\\n    background-color: #FFD099;\\\\n}\\\\n\\\\n.card.disabled .bar-fill {\\\\n    background-color: #FF9494;\\\\n}\\\\n\\\\n.card .bar-labels {\\\\n    height: 20px;\\\\n    font-size: 16px;\\\\n    color: #666;\\\\n    display: flex;\\\\n    flex-direction: row;\\\\n}\\\\n\\\\n\\\\n.card .mat-button {\\\\n    text-transform: uppercase;\\\\n    white-space: nowrap;\\\\n    overflow: hidden;\\\\n    text-overflow: ellipsis;\\\\n}\\\\n\\\\n.card .mat-button-wrapper {\\\\n    pointer-events: none;\\\\n}\\\\n\\\\n.card .action-row {\\\\n    display: flex;\\\\n    flex-direction: row;\\\\n    justify-content: flex-end;\\\\n    padding: 8px 0;\\\\n}\\\\n\\\\n@media screen and (min-width: 960px) and (max-width: 1279px) {\\\\n  .card .title {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .state {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .unit {\\\\n      font-size: 8px;\\\\n  }\\\\n  .card .bar-labels {\\\\n      font-size: 8px;\\\\n  }\\\\n  .card .mat-button {\\\\n      font-size: 8px;\\\\n  }\\\\n  .card .action-row {\\\\n      padding: 0;\\\\n  }\\\\n}\\\\n\\\\n@media screen and (min-width: 1280px) and (max-width: 1599px) {\\\\n  .card .title {\\\\n      font-size: 14px;\\\\n  }\\\\n  .card .state {\\\\n      font-size: 14px;\\\\n  }\\\\n  .card .unit {\\\\n      font-size: 10px;\\\\n  }\\\\n  .card .bar-labels {\\\\n      font-size: 10px;\\\\n  }\\\\n  .card .mat-button {\\\\n      font-size: 10px;\\\\n  }\\\\n  .card .action-row {\\\\n      padding: 0;\\\\n  }\\\\n}\\\\n\\\\n@media screen and (min-width: 1600px) and (max-width: 1919px) {\\\\n  .card .title {\\\\n      font-size: 16px;\\\\n  }\\\\n  .card .state {\\\\n      font-size: 16px;\\\\n  }\\\\n  .card .unit {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .bar-labels {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .mat-button {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .action-row {\\\\n      padding: 0;\\\\n  }\\\\n}    \\\\n\\\\n\\\\n\\\"\\n          },\\n          \\\"title\\\": \\\"Telemetry persistence\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": false,\\n          \\\"widgetStyle\\\": {\\n            \\\"cursor\\\": \\\"default\\\"\\n          },\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"20px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"useDashboardTimewindow\\\": true,\\n          \\\"showLegend\\\": false,\\n          \\\"actions\\\": {\\n            \\\"elementClick\\\": [\\n              {\\n                \\\"name\\\": \\\"telemetry_persistence_details\\\",\\n                \\\"icon\\\": \\\"insert_chart\\\",\\n                \\\"type\\\": \\\"openDashboardState\\\",\\n                \\\"targetDashboardStateId\\\": \\\"telemetry_persistence\\\",\\n                \\\"setEntityId\\\": false,\\n                \\\"stateEntityParamName\\\": null,\\n                \\\"openRightLayout\\\": false,\\n                \\\"id\\\": \\\"6248831c-5b3f-8879-8548-afcf43f10610\\\"\\n              }\\n            ]\\n          },\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\"\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"7e235874-461b-e7c2-2fdd-d8762a020773\\\"\\n      },\\n      \\\"08545554-a0e8-05c7-66df-6000cfeff8a4\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"cards\\\",\\n        \\\"typeAlias\\\": \\\"html_value_card\\\",\\n        \\\"type\\\": \\\"latest\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 7.5,\\n        \\\"sizeY\\\": 3,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"ruleEngineApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"apiState\\\",\\n                  \\\"color\\\": \\\"#2196f3\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.8830669138660703,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"ruleEngineExecutionLimit\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"limit\\\",\\n                  \\\"color\\\": \\\"#4caf50\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.5463603803546802,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"ruleEngineExecutionCount\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"count\\\",\\n                  \\\"color\\\": \\\"#f44336\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.5564241862015964,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"ruleEngineApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"apiStateClass\\\",\\n                  \\\"color\\\": \\\"#ffc107\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.8737107059960671,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": true,\\n                  \\\"postFuncBody\\\": \\\"return value ? value.toLowerCase() : '';\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"ruleEngineApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"cardId\\\",\\n                  \\\"color\\\": \\\"#607d8b\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.051659774305067296,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": true,\\n                  \\\"postFuncBody\\\": \\\"return (Math.random()*100000).toFixed(0);\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"ruleEngineApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"title\\\",\\n                  \\\"color\\\": \\\"#9c27b0\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.3551317421302518,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": true,\\n                  \\\"postFuncBody\\\": \\\"return \\\\\\\"{i18n:api-usage.rule-engine}\\\\\\\";\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"ruleEngineApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"unit\\\",\\n                  \\\"color\\\": \\\"#8bc34a\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.5100381746798048,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": true,\\n                  \\\"postFuncBody\\\": \\\"return \\\\\\\"{i18n:api-usage.executions}\\\\\\\";\\\"\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"realtime\\\": {\\n              \\\"timewindowMs\\\": 60000\\n            }\\n          },\\n          \\\"showTitle\\\": false,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"#666666\\\",\\n          \\\"padding\\\": \\\"0\\\",\\n          \\\"settings\\\": {\\n            \\\"cardCss\\\": \\\".card {\\\\n   width: 100%;\\\\n   height: 100%;\\\\n   box-sizing: border-box;\\\\n   display: flex;\\\\n   flex-direction: column;\\\\n}\\\\n\\\\n.card > img {\\\\n    height: 0;\\\\n}\\\\n\\\\n.card .content {\\\\n   flex: 1;    \\\\n   padding: 13px 13px 0;\\\\n   display: flex;\\\\n   box-sizing: border-box;\\\\n}\\\\n\\\\n.card .content .column {\\\\n   display: flex;\\\\n   flex-direction: column;    \\\\n   justify-content: space-around;\\\\n   flex: 1;\\\\n}\\\\n\\\\n.card .content .title-row {\\\\n    display: flex;\\\\n    flex-direction: row;\\\\n    padding-bottom: 10px;\\\\n}\\\\n\\\\n.card .title {\\\\n    flex: 1;\\\\n    font-size: 20px;\\\\n    font-weight: 400;\\\\n    color: #666666;\\\\n}\\\\n\\\\n.card .state {\\\\n    text-transform: uppercase;\\\\n    font-size: 20px;\\\\n    font-weight: bold;\\\\n}\\\\n\\\\n.card.enabled .state {\\\\n    color: #00B260;\\\\n}\\\\n\\\\n.card.warning .state {\\\\n    color: #FFAD6F;\\\\n}\\\\n\\\\n.card.disabled .state {\\\\n    color: #F73243;\\\\n}\\\\n\\\\n.card .bar-container {\\\\n    flex: 1;\\\\n    display: flex;\\\\n    flex-direction: column;\\\\n    justify-content: center;\\\\n}\\\\n\\\\n.card .bar {\\\\n    flex: 1;\\\\n    max-height: 30px;\\\\n    margin-top: 3.5px;\\\\n    margin-bottom: 4px;\\\\n    background-color: #F0F0F0;\\\\n    border: 1px solid #DADCDB;\\\\n    border-radius: 2px;\\\\n    box-shadow: inset 0 1px 3px rgba(0, 0, 0, .2);\\\\n}\\\\n\\\\n.card.enabled .bar {\\\\n    border-color: #00B260;\\\\n    background-color: #F0FBF7;\\\\n}\\\\n\\\\n.card.warning .bar {\\\\n    border-color: #FFAD6F;\\\\n    background-color: #FFFAF6;\\\\n}\\\\n\\\\n.card.disabled .bar {\\\\n    border-color: #F73243;\\\\n    background-color: #FFF0F0;\\\\n}\\\\n\\\\n.card .bar .bar-fill {\\\\n    background-color: #F0F0F0;\\\\n    border-radius: 2px;\\\\n    height: 100%;\\\\n    width: 0%;\\\\n}\\\\n\\\\n.card.enabled .bar-fill {\\\\n    background-color: #00C46C;\\\\n}\\\\n\\\\n.card.warning .bar-fill {\\\\n    background-color: #FFD099;\\\\n}\\\\n\\\\n.card.disabled .bar-fill {\\\\n    background-color: #FF9494;\\\\n}\\\\n\\\\n.card .bar-labels {\\\\n    height: 20px;\\\\n    font-size: 16px;\\\\n    color: #666;\\\\n    display: flex;\\\\n    flex-direction: row;\\\\n}\\\\n\\\\n\\\\n.card .mat-button {\\\\n    text-transform: uppercase;\\\\n    white-space: nowrap;\\\\n    overflow: hidden;\\\\n    text-overflow: ellipsis;\\\\n}\\\\n\\\\n.card .mat-button-wrapper {\\\\n    pointer-events: none;\\\\n}\\\\n\\\\n.card .action-row {\\\\n    display: flex;\\\\n    flex-direction: row;\\\\n    justify-content: flex-end;\\\\n    padding: 8px 0;\\\\n}\\\\n\\\\n@media screen and (min-width: 960px) and (max-width: 1279px) {\\\\n  .card .title {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .state {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .unit {\\\\n      font-size: 8px;\\\\n  }\\\\n  .card .bar-labels {\\\\n      font-size: 8px;\\\\n  }\\\\n  .card .mat-button {\\\\n      font-size: 8px;\\\\n  }\\\\n  .card .action-row {\\\\n      padding: 0;\\\\n  }\\\\n}\\\\n\\\\n@media screen and (min-width: 1280px) and (max-width: 1599px) {\\\\n  .card .title {\\\\n      font-size: 14px;\\\\n  }\\\\n  .card .state {\\\\n      font-size: 14px;\\\\n  }\\\\n  .card .unit {\\\\n      font-size: 10px;\\\\n  }\\\\n  .card .bar-labels {\\\\n      font-size: 10px;\\\\n  }\\\\n  .card .mat-button {\\\\n      font-size: 10px;\\\\n  }\\\\n  .card .action-row {\\\\n      padding: 0;\\\\n  }\\\\n}\\\\n\\\\n@media screen and (min-width: 1600px) and (max-width: 1919px) {\\\\n  .card .title {\\\\n      font-size: 16px;\\\\n  }\\\\n  .card .state {\\\\n      font-size: 16px;\\\\n  }\\\\n  .card .unit {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .bar-labels {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .mat-button {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .action-row {\\\\n      padding: 0;\\\\n  }\\\\n}    \\\\n\\\\n\\\\n\\\",\\n            \\\"cardHtml\\\": \\\"<div class='card ${apiStateClass}'>\\\\n    <img src=\\\\\\\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\\\\\\\" onload=\\\\\\\"initializeCard_${cardId:0}(event);\\\\\\\">\\\\n    <script type=\\\\\\\"text/javascript\\\\\\\">\\\\n        function initializeCard_${cardId:0}(e) {\\\\n            \\\\n            function toShortNumber(number) {\\\\n                var rounder = Math.pow(10, 1);\\\\n                var powers = [\\\\n                  {key: 'Q', value: Math.pow(10, 15)},\\\\n                  {key: 'T', value: Math.pow(10, 12)},\\\\n                  {key: 'B', value: Math.pow(10, 9)},\\\\n                  {key: 'M', value: Math.pow(10, 6)},\\\\n                  {key: 'K', value: 1000}\\\\n                ];\\\\n                \\\\n                var key = '';\\\\n                \\\\n                for (var i = 0; i < powers.length; i++) {\\\\n                    var reduced = number / powers[i].value;\\\\n                    reduced = Math.round(reduced * rounder) / rounder;\\\\n                    if (reduced >= 1) {\\\\n                        number = reduced;\\\\n                        key = powers[i].key;\\\\n                        break;\\\\n                    }\\\\n                }\\\\n                return number + key;\\\\n            }\\\\n            \\\\n            var imgTag = e.target;\\\\n            var parentTag = imgTag.parentNode;\\\\n            var count = \\\\\\\"${count:0}\\\\\\\";\\\\n            var limit = \\\\\\\"${limit:0}\\\\\\\";\\\\n            count = count.length > 0 ? parseInt(count, 10) : 0;\\\\n            limit = limit.length > 0 ? parseInt(limit, 10) : 0;\\\\n            var percentElement = $('#api-usage-percent', parentTag);\\\\n            var valueElement = $('#api-usage-value', parentTag);\\\\n            var barElement = $('#api-usage-bar', parentTag);\\\\n            if (Number.isFinite(limit) && limit > 0) {\\\\n                var percent = Math.min(100, ((count / limit) * 100));\\\\n                barElement.width(percent + '%');\\\\n                percent = percent.toFixed(2);\\\\n                percentElement.text(percent + '%');\\\\n                valueElement.text(toShortNumber(count) + ' / ' + toShortNumber(limit));\\\\n            } else {\\\\n                barElement.width('0%');\\\\n                percentElement.text('');\\\\n                valueElement.text(toShortNumber(count) + ' / ∞');\\\\n            }\\\\n        }\\\\n    </script>\\\\n    <div class='content'>\\\\n        <div class='column'>\\\\n            <div class='title-row'>\\\\n                <div class='title'>${title}</div>\\\\n                <div class='state'>${apiState}</div>\\\\n            </div>    \\\\n            <div class='bar-container'>\\\\n                <div class=\\\\\\\"unit\\\\\\\">${unit}</div>\\\\n                <div class='bar'>\\\\n                    <div class=\\\\\\\"bar-fill\\\\\\\" id=\\\\\\\"api-usage-bar\\\\\\\"></div>\\\\n                </div>    \\\\n                <div class='bar-labels'>\\\\n                    <div id=\\\\\\\"api-usage-percent\\\\\\\"></div>\\\\n                    <div style=\\\\\\\"flex: 1;\\\\\\\"></div>\\\\n                    <div id=\\\\\\\"api-usage-value\\\\\\\"></div>\\\\n                </div>\\\\n            </div>    \\\\n        </div>\\\\n    </div>\\\\n    <div role=\\\\\\\"separator\\\\\\\" class=\\\\\\\"mat-divider mat-divider-horizontal\\\\\\\" aria-orientation=\\\\\\\"horizontal\\\\\\\"></div>\\\\n    <div class='action-row'>\\\\n        <button id=\\\\\\\"rule_engine_statistics_details\\\\\\\" class=\\\\\\\"mat-focus-indicator mat-button mat-button-base mat-primary\\\\\\\">\\\\n            <span class=\\\\\\\"mat-button-wrapper\\\\\\\">{i18n:api-usage.view-statistics}</span>\\\\n            <span class=\\\\\\\"mat-ripple mat-button-ripple\\\\\\\"></span>\\\\n            <span class=\\\\\\\"mat-button-focus-overlay\\\\\\\"></span>\\\\n        </button>\\\\n        <button id=\\\\\\\"rule_engine_execution_details\\\\\\\" class=\\\\\\\"mat-focus-indicator mat-button mat-button-base mat-primary\\\\\\\">\\\\n            <span class=\\\\\\\"mat-button-wrapper\\\\\\\">{i18n:api-usage.view-details}</span>\\\\n            <span class=\\\\\\\"mat-ripple mat-button-ripple\\\\\\\"></span>\\\\n            <span class=\\\\\\\"mat-button-focus-overlay\\\\\\\"></span>\\\\n        </button>\\\\n    </div> \\\\n</div>\\\"\\n          },\\n          \\\"title\\\": \\\"Rule Engine execution\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": false,\\n          \\\"widgetStyle\\\": {\\n            \\\"cursor\\\": \\\"default\\\"\\n          },\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"20px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"useDashboardTimewindow\\\": true,\\n          \\\"showLegend\\\": false,\\n          \\\"actions\\\": {\\n            \\\"elementClick\\\": [\\n              {\\n                \\\"name\\\": \\\"rule_engine_execution_details\\\",\\n                \\\"icon\\\": \\\"insert_chart\\\",\\n                \\\"type\\\": \\\"openDashboardState\\\",\\n                \\\"targetDashboardStateId\\\": \\\"rule_engine_execution\\\",\\n                \\\"setEntityId\\\": false,\\n                \\\"stateEntityParamName\\\": null,\\n                \\\"openRightLayout\\\": false,\\n                \\\"id\\\": \\\"3c30248f-0cd8-fb97-a917-bc1e09984a79\\\"\\n              },\\n              {\\n                \\\"name\\\": \\\"rule_engine_statistics_details\\\",\\n                \\\"icon\\\": \\\"show_chart\\\",\\n                \\\"type\\\": \\\"openDashboardState\\\",\\n                \\\"targetDashboardStateId\\\": \\\"rule_engine_statistics\\\",\\n                \\\"setEntityId\\\": false,\\n                \\\"stateEntityParamName\\\": null,\\n                \\\"openRightLayout\\\": false,\\n                \\\"id\\\": \\\"04e4565a-9e24-23df-f376-f2ec70a8165f\\\"\\n              }\\n            ]\\n          },\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\"\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"08545554-a0e8-05c7-66df-6000cfeff8a4\\\"\\n      },\\n      \\\"a245c67e-53ec-d299-fa89-69fe2062ccb2\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"cards\\\",\\n        \\\"typeAlias\\\": \\\"html_value_card\\\",\\n        \\\"type\\\": \\\"latest\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 7.5,\\n        \\\"sizeY\\\": 3,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"transportApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"apiState\\\",\\n                  \\\"color\\\": \\\"#2196f3\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.8830669138660703,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"transportMsgLimit\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"limit\\\",\\n                  \\\"color\\\": \\\"#4caf50\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.5463603803546802,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"transportMsgCount\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"count\\\",\\n                  \\\"color\\\": \\\"#f44336\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.5564241862015964,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"transportApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"apiStateClass\\\",\\n                  \\\"color\\\": \\\"#ffc107\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.8737107059960671,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": true,\\n                  \\\"postFuncBody\\\": \\\"return value ? value.toLowerCase() : '';\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"transportApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"cardId\\\",\\n                  \\\"color\\\": \\\"#607d8b\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.051659774305067296,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": true,\\n                  \\\"postFuncBody\\\": \\\"return (Math.random()*100000).toFixed(0);\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"transportDataPointsLimit\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"pointsLimit\\\",\\n                  \\\"color\\\": \\\"#9c27b0\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.22082255831864894,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"transportDataPointsCount\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"pointsCount\\\",\\n                  \\\"color\\\": \\\"#8bc34a\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.6340356364819146,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"transportApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"title\\\",\\n                  \\\"color\\\": \\\"#3f51b5\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.6894070537030252,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": true,\\n                  \\\"postFuncBody\\\": \\\"return \\\\\\\"{i18n:api-usage.transport}\\\\\\\";\\\"\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"realtime\\\": {\\n              \\\"timewindowMs\\\": 60000\\n            }\\n          },\\n          \\\"showTitle\\\": false,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"#666666\\\",\\n          \\\"padding\\\": \\\"0\\\",\\n          \\\"settings\\\": {\\n            \\\"cardHtml\\\": \\\"<div class='card ${apiStateClass}'>\\\\n    <img src=\\\\\\\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\\\\\\\" onload=\\\\\\\"initializeCard_${cardId:0}(event);\\\\\\\">\\\\n    <script type=\\\\\\\"text/javascript\\\\\\\">\\\\n        function initializeCard_${cardId:0}(e) {\\\\n            \\\\n            function toShortNumber(number) {\\\\n                var rounder = Math.pow(10, 1);\\\\n                var powers = [\\\\n                  {key: 'Q', value: Math.pow(10, 15)},\\\\n                  {key: 'T', value: Math.pow(10, 12)},\\\\n                  {key: 'B', value: Math.pow(10, 9)},\\\\n                  {key: 'M', value: Math.pow(10, 6)},\\\\n                  {key: 'K', value: 1000}\\\\n                ];\\\\n                \\\\n                var key = '';\\\\n                \\\\n                for (var i = 0; i < powers.length; i++) {\\\\n                    var reduced = number / powers[i].value;\\\\n                    reduced = Math.round(reduced * rounder) / rounder;\\\\n                    if (reduced >= 1) {\\\\n                        number = reduced;\\\\n                        key = powers[i].key;\\\\n                        break;\\\\n                    }\\\\n                }\\\\n                return number + key;\\\\n            }\\\\n            \\\\n            var imgTag = e.target;\\\\n            var parentTag = imgTag.parentNode;\\\\n            var count = \\\\\\\"${count:0}\\\\\\\";\\\\n            var limit = \\\\\\\"${limit:0}\\\\\\\";\\\\n            count = count.length > 0 ? parseInt(count, 10) : 0;\\\\n            limit = limit.length > 0 ? parseInt(limit, 10) : 0;\\\\n            var percentElement = $('#api-usage-percent', parentTag);\\\\n            var valueElement = $('#api-usage-value', parentTag);\\\\n            var barElement = $('#api-usage-bar', parentTag);\\\\n            if (Number.isFinite(limit) && limit > 0) {\\\\n                var percent = Math.min(100, ((count / limit) * 100));\\\\n                barElement.width(percent + '%');\\\\n                percent = percent.toFixed(2);\\\\n                percentElement.text(percent + '%');\\\\n                valueElement.text(toShortNumber(count) + ' / ' + toShortNumber(limit));\\\\n            } else {\\\\n                barElement.width('0%');\\\\n                percentElement.text('');\\\\n                valueElement.text(toShortNumber(count) + ' / ∞');\\\\n            }\\\\n            var pointsCount = \\\\\\\"${pointsCount:0}\\\\\\\";\\\\n            var pointsLimit = \\\\\\\"${pointsLimit:0}\\\\\\\";\\\\n            pointsCount = pointsCount.length > 0 ? parseInt(pointsCount, 10) : 0;\\\\n            pointsLimit = pointsLimit.length > 0 ? parseInt(pointsLimit, 10) : 0;\\\\n            var pointsPercentElement = $('#api-usage-percent2', parentTag);\\\\n            var pointsValueElement = $('#api-usage-value2', parentTag);\\\\n            var pointsBarElement = $('#api-usage-bar2', parentTag);\\\\n            if (Number.isFinite(pointsLimit) && pointsLimit > 0) {\\\\n                var percent = Math.min(100, ((pointsCount / pointsLimit) * 100));\\\\n                pointsBarElement.width(percent + '%');\\\\n                percent = percent.toFixed(2);\\\\n                pointsPercentElement.text(percent + '%');\\\\n                pointsValueElement.text(toShortNumber(pointsCount) + ' / ' + toShortNumber(pointsLimit));\\\\n            } else {\\\\n                pointsBarElement.width('0%');\\\\n                pointsPercentElement.text('');\\\\n                pointsValueElement.text(toShortNumber(pointsCount) + ' / ∞');\\\\n            }\\\\n        }\\\\n    </script>\\\\n    <div class='content'>\\\\n        <div class='column'>\\\\n            <div class='title-row'>\\\\n                <div class='title'>\\\\n                    <span>${title}</span>\\\\n                </div>\\\\n                <div class='state'>${apiState}</div>\\\\n            </div>\\\\n            <div class=\\\\\\\"bars-row\\\\\\\">\\\\n                <div class=\\\\\\\"bar-column\\\\\\\" style=\\\\\\\"margin-right: 10px;\\\\\\\">\\\\n                    <div class='bar-container'>\\\\n                        <div class=\\\\\\\"unit\\\\\\\">{i18n:api-usage.messages}</div>\\\\n                        <div class='bar'>\\\\n                            <div class=\\\\\\\"bar-fill\\\\\\\" id=\\\\\\\"api-usage-bar\\\\\\\"></div>\\\\n                        </div>\\\\n                        <div class='bar-labels'>\\\\n                            <div id=\\\\\\\"api-usage-percent\\\\\\\"></div>\\\\n                            <div style=\\\\\\\"flex: 1;\\\\\\\"></div>\\\\n                            <div id=\\\\\\\"api-usage-value\\\\\\\"></div>\\\\n                        </div>\\\\n                    </div>    \\\\n                </div>\\\\n                <div class=\\\\\\\"bar-column\\\\\\\" style=\\\\\\\"margin-left: 10px;\\\\\\\">\\\\n                    <div class='bar-container'>\\\\n                        <div class=\\\\\\\"unit\\\\\\\">{i18n:api-usage.data-points}</div>\\\\n                        <div class='bar'>\\\\n                            <div class=\\\\\\\"bar-fill\\\\\\\" id=\\\\\\\"api-usage-bar2\\\\\\\"></div>\\\\n                        </div>    \\\\n                        <div class='bar-labels'>\\\\n                            <div id=\\\\\\\"api-usage-percent2\\\\\\\"></div>\\\\n                            <div style=\\\\\\\"flex: 1;\\\\\\\"></div>\\\\n                            <div id=\\\\\\\"api-usage-value2\\\\\\\"></div>\\\\n                        </div>\\\\n                    </div>    \\\\n                </div>\\\\n            </div>\\\\n        </div>\\\\n    </div>\\\\n    <div role=\\\\\\\"separator\\\\\\\" class=\\\\\\\"mat-divider mat-divider-horizontal\\\\\\\" aria-orientation=\\\\\\\"horizontal\\\\\\\"></div>\\\\n    <div class='action-row'>\\\\n        <button id=\\\\\\\"transport_details\\\\\\\" class=\\\\\\\"mat-focus-indicator mat-button mat-button-base mat-primary\\\\\\\">\\\\n            <span class=\\\\\\\"mat-button-wrapper\\\\\\\">{i18n:api-usage.view-details}</span>\\\\n            <span class=\\\\\\\"mat-ripple mat-button-ripple\\\\\\\"></span>\\\\n            <span class=\\\\\\\"mat-button-focus-overlay\\\\\\\"></span>\\\\n        </button>\\\\n    </div>    \\\\n</div>\\\",\\n            \\\"cardCss\\\": \\\".card {\\\\n   width: 100%;\\\\n   height: 100%;\\\\n   box-sizing: border-box;\\\\n   display: flex;\\\\n   flex-direction: column;\\\\n}\\\\n\\\\n.card > img {\\\\n    height: 0;\\\\n}\\\\n\\\\n.card .content {\\\\n   flex: 1;    \\\\n   padding: 13px 13px 0;\\\\n   display: flex;\\\\n   box-sizing: border-box;\\\\n}\\\\n\\\\n.card .content .column {\\\\n   display: flex;\\\\n   flex-direction: column;    \\\\n   justify-content: space-around;\\\\n   flex: 1;\\\\n}\\\\n\\\\n.card .content .title-row {\\\\n    display: flex;\\\\n    flex-direction: row;\\\\n    padding-bottom: 10px;\\\\n}\\\\n\\\\n.card .title {\\\\n    flex: 1;\\\\n    font-size: 20px;\\\\n    font-weight: 400;\\\\n    color: #666666;\\\\n}\\\\n\\\\n.card .state {\\\\n    text-transform: uppercase;\\\\n    font-size: 20px;\\\\n    font-weight: bold;\\\\n}\\\\n\\\\n.card.enabled .state {\\\\n    color: #00B260;\\\\n}\\\\n\\\\n.card.warning .state {\\\\n    color: #FFAD6F;\\\\n}\\\\n\\\\n.card.disabled .state {\\\\n    color: #F73243;\\\\n}\\\\n\\\\n.card .bars-row {\\\\n    flex: 1;\\\\n    display: flex;\\\\n    flex-direction: row;\\\\n}\\\\n\\\\n.card .bar-column {\\\\n    flex: 1;\\\\n    display: flex;\\\\n    flex-direction: column;\\\\n}\\\\n\\\\n.card .bar-container {\\\\n    flex: 1;\\\\n    display: flex;\\\\n    flex-direction: column;\\\\n    justify-content: center;\\\\n}\\\\n\\\\n.card .bar {\\\\n    flex: 1;\\\\n    max-height: 30px;\\\\n    margin-top: 3.5px;\\\\n    margin-bottom: 4px;\\\\n    background-color: #F0F0F0;\\\\n    border: 1px solid #DADCDB;\\\\n    border-radius: 2px;\\\\n    box-shadow: inset 0 1px 3px rgba(0, 0, 0, .2);\\\\n}\\\\n\\\\n.card.enabled .bar {\\\\n    border-color: #00B260;\\\\n    background-color: #F0FBF7;\\\\n}\\\\n\\\\n.card.warning .bar {\\\\n    border-color: #FFAD6F;\\\\n    background-color: #FFFAF6;\\\\n}\\\\n\\\\n.card.disabled .bar {\\\\n    border-color: #F73243;\\\\n    background-color: #FFF0F0;\\\\n}\\\\n\\\\n.card .bar .bar-fill {\\\\n    background-color: #F0F0F0;\\\\n    border-radius: 2px;\\\\n    height: 100%;\\\\n    width: 0%;\\\\n}\\\\n\\\\n.card.enabled .bar-fill {\\\\n    background-color: #00C46C;\\\\n}\\\\n\\\\n.card.warning .bar-fill {\\\\n    background-color: #FFD099;\\\\n}\\\\n\\\\n.card.disabled .bar-fill {\\\\n    background-color: #FF9494;\\\\n}\\\\n\\\\n.card .bar-labels {\\\\n    height: 20px;\\\\n    font-size: 16px;\\\\n    color: #666;\\\\n    display: flex;\\\\n    flex-direction: row;\\\\n}\\\\n\\\\n.card .mat-button {\\\\n    text-transform: uppercase;\\\\n    white-space: nowrap;\\\\n    overflow: hidden;\\\\n    text-overflow: ellipsis;\\\\n}\\\\n\\\\n.card .mat-button-wrapper {\\\\n    pointer-events: none;\\\\n}\\\\n\\\\n.card .action-row {\\\\n    display: flex;\\\\n    flex-direction: row;\\\\n    justify-content: flex-end;\\\\n    padding: 8px 0;\\\\n}\\\\n\\\\n\\\\n@media screen and (min-width: 960px) and (max-width: 1279px) {\\\\n  .card .title {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .state {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .unit {\\\\n      font-size: 8px;\\\\n  }\\\\n  .card .bar-labels {\\\\n      font-size: 6px;\\\\n  }\\\\n  .card .mat-button {\\\\n      font-size: 8px;\\\\n  }\\\\n  .card .action-row {\\\\n      padding: 0;\\\\n  }\\\\n}\\\\n\\\\n@media screen and (min-width: 1280px) and (max-width: 1599px) {\\\\n  .card .title {\\\\n      font-size: 14px;\\\\n  }\\\\n  .card .state {\\\\n      font-size: 14px;\\\\n  }\\\\n  .card .unit {\\\\n      font-size: 10px;\\\\n  }\\\\n  .card .bar-labels {\\\\n      font-size: 8px;\\\\n  }\\\\n  .card .mat-button {\\\\n      font-size: 10px;\\\\n  }\\\\n  .card .action-row {\\\\n      padding: 0;\\\\n  }\\\\n}\\\\n\\\\n@media screen and (min-width: 1600px) and (max-width: 1919px) {\\\\n  .card .title {\\\\n      font-size: 16px;\\\\n  }\\\\n  .card .state {\\\\n      font-size: 16px;\\\\n  }\\\\n  .card .unit {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .bar-labels {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .mat-button {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .action-row {\\\\n      padding: 0;\\\\n  }\\\\n}    \\\\n\\\\n\\\"\\n          },\\n          \\\"title\\\": \\\"Transport\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": false,\\n          \\\"widgetStyle\\\": {\\n            \\\"cursor\\\": \\\"default\\\"\\n          },\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"20px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"useDashboardTimewindow\\\": true,\\n          \\\"showLegend\\\": false,\\n          \\\"actions\\\": {\\n            \\\"elementClick\\\": [\\n              {\\n                \\\"name\\\": \\\"transport_details\\\",\\n                \\\"icon\\\": \\\"insert_chart\\\",\\n                \\\"type\\\": \\\"openDashboardState\\\",\\n                \\\"targetDashboardStateId\\\": \\\"transport\\\",\\n                \\\"setEntityId\\\": false,\\n                \\\"stateEntityParamName\\\": null,\\n                \\\"openRightLayout\\\": false,\\n                \\\"id\\\": \\\"46b7cefe-e1f2-67c1-4055-3a214520f869\\\"\\n              }\\n            ]\\n          },\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\"\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"a245c67e-53ec-d299-fa89-69fe2062ccb2\\\"\\n      },\\n      \\\"a151ae60-0326-6116-d818-9070dda8e9c7\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"cards\\\",\\n        \\\"typeAlias\\\": \\\"html_value_card\\\",\\n        \\\"type\\\": \\\"latest\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 7.5,\\n        \\\"sizeY\\\": 3,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"alarmApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"apiState\\\",\\n                  \\\"color\\\": \\\"#2196f3\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.8830669138660703,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"createdAlarmsLimit\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"limit\\\",\\n                  \\\"color\\\": \\\"#4caf50\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.5463603803546802,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"createdAlarmsCount\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"count\\\",\\n                  \\\"color\\\": \\\"#f44336\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.5564241862015964,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"alarmApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"apiStateClass\\\",\\n                  \\\"color\\\": \\\"#ffc107\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.8737107059960671,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": true,\\n                  \\\"postFuncBody\\\": \\\"return value ? value.toLowerCase() : '';\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"alarmApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"cardId\\\",\\n                  \\\"color\\\": \\\"#607d8b\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.051659774305067296,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": true,\\n                  \\\"postFuncBody\\\": \\\"return (Math.random()*100000).toFixed(0);\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"alarmApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"title\\\",\\n                  \\\"color\\\": \\\"#9c27b0\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.43439375716502227,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": true,\\n                  \\\"postFuncBody\\\": \\\"return \\\\\\\"{i18n:api-usage.alarm}\\\\\\\";\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"alarmApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"unit\\\",\\n                  \\\"color\\\": \\\"#8bc34a\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.9964061963495883,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": true,\\n                  \\\"postFuncBody\\\": \\\"return \\\\\\\"{i18n:api-usage.alarms-created}\\\\\\\";\\\"\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"realtime\\\": {\\n              \\\"timewindowMs\\\": 60000\\n            }\\n          },\\n          \\\"showTitle\\\": false,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"#666666\\\",\\n          \\\"padding\\\": \\\"0\\\",\\n          \\\"settings\\\": {\\n            \\\"cardHtml\\\": \\\"<div class='card ${apiStateClass}'>\\\\n    <img src=\\\\\\\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\\\\\\\" onload=\\\\\\\"initializeCard_${cardId:0}(event);\\\\\\\">\\\\n    <script type=\\\\\\\"text/javascript\\\\\\\">\\\\n        function initializeCard_${cardId:0}(e) {\\\\n            \\\\n            function toShortNumber(number) {\\\\n                var rounder = Math.pow(10, 1);\\\\n                var powers = [\\\\n                  {key: 'Q', value: Math.pow(10, 15)},\\\\n                  {key: 'T', value: Math.pow(10, 12)},\\\\n                  {key: 'B', value: Math.pow(10, 9)},\\\\n                  {key: 'M', value: Math.pow(10, 6)},\\\\n                  {key: 'K', value: 1000}\\\\n                ];\\\\n                \\\\n                var key = '';\\\\n                \\\\n                for (var i = 0; i < powers.length; i++) {\\\\n                    var reduced = number / powers[i].value;\\\\n                    reduced = Math.round(reduced * rounder) / rounder;\\\\n                    if (reduced >= 1) {\\\\n                        number = reduced;\\\\n                        key = powers[i].key;\\\\n                        break;\\\\n                    }\\\\n                }\\\\n                return number + key;\\\\n            }\\\\n            \\\\n            var imgTag = e.target;\\\\n            var parentTag = imgTag.parentNode;\\\\n            var count = \\\\\\\"${count:0}\\\\\\\";\\\\n            var limit = \\\\\\\"${limit:0}\\\\\\\";\\\\n            count = count.length > 0 ? parseInt(count, 10) : 0;\\\\n            limit = limit.length > 0 ? parseInt(limit, 10) : 0;\\\\n            var percentElement = $('#api-usage-percent', parentTag);\\\\n            var valueElement = $('#api-usage-value', parentTag);\\\\n            var barElement = $('#api-usage-bar', parentTag);\\\\n            if (Number.isFinite(limit) && limit > 0) {\\\\n                var percent = Math.min(100, ((count / limit) * 100));\\\\n                barElement.width(percent + '%');\\\\n                percent = percent.toFixed(2);\\\\n                percentElement.text(percent + '%');\\\\n                valueElement.text(toShortNumber(count) + ' / ' + toShortNumber(limit));\\\\n            } else {\\\\n                barElement.width('0%');\\\\n                percentElement.text('');\\\\n                valueElement.text(toShortNumber(count) + ' / ∞');\\\\n            }\\\\n        }\\\\n    </script>\\\\n    <div class='content'>\\\\n        <div class='column'>\\\\n            <div class='title-row'>\\\\n                <div class='title'>${title}</div>\\\\n                <div class='state'>${apiState}</div>\\\\n            </div>    \\\\n            <div class='bar-container'>\\\\n                <div class=\\\\\\\"unit\\\\\\\">${unit}</div>\\\\n                <div class='bar'>\\\\n                    <div class=\\\\\\\"bar-fill\\\\\\\" id=\\\\\\\"api-usage-bar\\\\\\\"></div>\\\\n                </div>    \\\\n                <div class='bar-labels'>\\\\n                    <div id=\\\\\\\"api-usage-percent\\\\\\\"></div>\\\\n                    <div style=\\\\\\\"flex: 1;\\\\\\\"></div>\\\\n                    <div id=\\\\\\\"api-usage-value\\\\\\\"></div>\\\\n                </div>\\\\n            </div>    \\\\n        </div>\\\\n    </div>\\\\n    <div role=\\\\\\\"separator\\\\\\\" class=\\\\\\\"mat-divider mat-divider-horizontal\\\\\\\" aria-orientation=\\\\\\\"horizontal\\\\\\\"></div>\\\\n    <div class='action-row'>\\\\n        <button id=\\\\\\\"email_messages_details\\\\\\\" class=\\\\\\\"mat-focus-indicator mat-button mat-button-base mat-primary\\\\\\\">\\\\n            <span class=\\\\\\\"mat-button-wrapper\\\\\\\">{i18n:api-usage.view-details}</span>\\\\n            <span class=\\\\\\\"mat-ripple mat-button-ripple\\\\\\\"></span>\\\\n            <span class=\\\\\\\"mat-button-focus-overlay\\\\\\\"></span>\\\\n        </button>\\\\n    </div> \\\\n</div>\\\",\\n            \\\"cardCss\\\": \\\".card {\\\\n   width: 100%;\\\\n   height: 100%;\\\\n   box-sizing: border-box;\\\\n   display: flex;\\\\n   flex-direction: column;\\\\n}\\\\n\\\\n.card > img {\\\\n    height: 0;\\\\n}\\\\n\\\\n.card .content {\\\\n   flex: 1;    \\\\n   padding: 13px 13px 0;\\\\n   display: flex;\\\\n   box-sizing: border-box;\\\\n}\\\\n\\\\n.card .content .column {\\\\n   display: flex;\\\\n   flex-direction: column;    \\\\n   justify-content: space-around;\\\\n   flex: 1;\\\\n}\\\\n\\\\n.card .content .title-row {\\\\n    display: flex;\\\\n    flex-direction: row;\\\\n    padding-bottom: 10px;\\\\n}\\\\n\\\\n.card .title {\\\\n    flex: 1;\\\\n    font-size: 20px;\\\\n    font-weight: 400;\\\\n    color: #666666;\\\\n}\\\\n\\\\n.card .state {\\\\n    text-transform: uppercase;\\\\n    font-size: 20px;\\\\n    font-weight: bold;\\\\n}\\\\n\\\\n.card.enabled .state {\\\\n    color: #00B260;\\\\n}\\\\n\\\\n.card.warning .state {\\\\n    color: #FFAD6F;\\\\n}\\\\n\\\\n.card.disabled .state {\\\\n    color: #F73243;\\\\n}\\\\n\\\\n.card .bar-container {\\\\n    flex: 1;\\\\n    display: flex;\\\\n    flex-direction: column;\\\\n    justify-content: center;\\\\n}\\\\n\\\\n.card .bar {\\\\n    flex: 1;\\\\n    max-height: 30px;\\\\n    margin-top: 3.5px;\\\\n    margin-bottom: 4px;\\\\n    background-color: #F0F0F0;\\\\n    border: 1px solid #DADCDB;\\\\n    border-radius: 2px;\\\\n    box-shadow: inset 0 1px 3px rgba(0, 0, 0, .2);\\\\n}\\\\n\\\\n.card.enabled .bar {\\\\n    border-color: #00B260;\\\\n    background-color: #F0FBF7;\\\\n}\\\\n\\\\n.card.warning .bar {\\\\n    border-color: #FFAD6F;\\\\n    background-color: #FFFAF6;\\\\n}\\\\n\\\\n.card.disabled .bar {\\\\n    border-color: #F73243;\\\\n    background-color: #FFF0F0;\\\\n}\\\\n\\\\n.card .bar .bar-fill {\\\\n    background-color: #F0F0F0;\\\\n    border-radius: 2px;\\\\n    height: 100%;\\\\n    width: 0%;\\\\n}\\\\n\\\\n.card.enabled .bar-fill {\\\\n    background-color: #00C46C;\\\\n}\\\\n\\\\n.card.warning .bar-fill {\\\\n    background-color: #FFD099;\\\\n}\\\\n\\\\n.card.disabled .bar-fill {\\\\n    background-color: #FF9494;\\\\n}\\\\n\\\\n.card .bar-labels {\\\\n    height: 20px;\\\\n    font-size: 16px;\\\\n    color: #666;\\\\n    display: flex;\\\\n    flex-direction: row;\\\\n}\\\\n\\\\n\\\\n.card .mat-button {\\\\n    text-transform: uppercase;\\\\n    white-space: nowrap;\\\\n    overflow: hidden;\\\\n    text-overflow: ellipsis;\\\\n}\\\\n\\\\n.card .mat-button-wrapper {\\\\n    pointer-events: none;\\\\n}\\\\n\\\\n.card .action-row {\\\\n    display: flex;\\\\n    flex-direction: row;\\\\n    justify-content: flex-end;\\\\n    padding: 8px 0;\\\\n}\\\\n\\\\n@media screen and (min-width: 960px) and (max-width: 1279px) {\\\\n  .card .title {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .state {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .unit {\\\\n      font-size: 8px;\\\\n  }\\\\n  .card .bar-labels {\\\\n      font-size: 8px;\\\\n  }\\\\n  .card .mat-button {\\\\n      font-size: 8px;\\\\n  }\\\\n  .card .action-row {\\\\n      padding: 0;\\\\n  }\\\\n}\\\\n\\\\n@media screen and (min-width: 1280px) and (max-width: 1599px) {\\\\n  .card .title {\\\\n      font-size: 14px;\\\\n  }\\\\n  .card .state {\\\\n      font-size: 14px;\\\\n  }\\\\n  .card .unit {\\\\n      font-size: 10px;\\\\n  }\\\\n  .card .bar-labels {\\\\n      font-size: 10px;\\\\n  }\\\\n  .card .mat-button {\\\\n      font-size: 10px;\\\\n  }\\\\n  .card .action-row {\\\\n      padding: 0;\\\\n  }\\\\n}\\\\n\\\\n@media screen and (min-width: 1600px) and (max-width: 1919px) {\\\\n  .card .title {\\\\n      font-size: 16px;\\\\n  }\\\\n  .card .state {\\\\n      font-size: 16px;\\\\n  }\\\\n  .card .unit {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .bar-labels {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .mat-button {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .action-row {\\\\n      padding: 0;\\\\n  }\\\\n}    \\\\n\\\\n\\\\n\\\"\\n          },\\n          \\\"title\\\": \\\"Alarm created\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": false,\\n          \\\"widgetStyle\\\": {\\n            \\\"cursor\\\": \\\"default\\\"\\n          },\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"20px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"useDashboardTimewindow\\\": true,\\n          \\\"showLegend\\\": false,\\n          \\\"actions\\\": {\\n            \\\"elementClick\\\": [\\n              {\\n                \\\"name\\\": \\\"email_messages_details\\\",\\n                \\\"icon\\\": \\\"insert_chart\\\",\\n                \\\"type\\\": \\\"openDashboardState\\\",\\n                \\\"targetDashboardStateId\\\": \\\"alarms_created\\\",\\n                \\\"setEntityId\\\": false,\\n                \\\"stateEntityParamName\\\": null,\\n                \\\"openInSeparateDialog\\\": null,\\n                \\\"dialogTitle\\\": null,\\n                \\\"dialogHideDashboardToolbar\\\": true,\\n                \\\"dialogWidth\\\": null,\\n                \\\"dialogHeight\\\": null,\\n                \\\"openRightLayout\\\": false,\\n                \\\"id\\\": \\\"946ba769-84ac-1507-6baa-94701de8967b\\\"\\n              }\\n            ]\\n          },\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\"\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"a151ae60-0326-6116-d818-9070dda8e9c7\\\"\\n      },\\n      \\\"68e16e98-0420-f72c-4848-41dedffd3904\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"charts\\\",\\n        \\\"typeAlias\\\": \\\"timeseries_bars_flot\\\",\\n        \\\"type\\\": \\\"timeseries\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 8,\\n        \\\"sizeY\\\": 5,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"ruleEngineExecutionCountHourly\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.rule-engine-executions}\\\",\\n                  \\\"color\\\": \\\"#ab00ff\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": false,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.0661644137210089,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"hideInterval\\\": false,\\n            \\\"hideAggregation\\\": false,\\n            \\\"hideAggInterval\\\": false,\\n            \\\"selectedTab\\\": 0,\\n            \\\"realtime\\\": {\\n              \\\"timewindowMs\\\": 86400000,\\n              \\\"interval\\\": 3600000\\n            },\\n            \\\"aggregation\\\": {\\n              \\\"type\\\": \\\"NONE\\\",\\n              \\\"limit\\\": 1000\\n            }\\n          },\\n          \\\"showTitle\\\": true,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"padding\\\": \\\"8px\\\",\\n          \\\"settings\\\": {\\n            \\\"shadowSize\\\": 4,\\n            \\\"fontColor\\\": \\\"#545454\\\",\\n            \\\"fontSize\\\": 10,\\n            \\\"xaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\"\\n            },\\n            \\\"yaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"ticksFormatter\\\": \\\"var rounder = Math.pow(10, 1);\\\\nvar powers = [\\\\n  {key: 'Q', value: Math.pow(10, 15)},\\\\n  {key: 'T', value: Math.pow(10, 12)},\\\\n  {key: 'B', value: Math.pow(10, 9)},\\\\n  {key: 'M', value: Math.pow(10, 6)},\\\\n  {key: 'K', value: 1000}\\\\n];\\\\n\\\\nvar key = '';\\\\n\\\\nfor (var i = 0; i < powers.length; i++) {\\\\n    var reduced = value / powers[i].value;\\\\n    reduced = Math.round(reduced * rounder) / rounder;\\\\n    if (reduced >= 1) {\\\\n        value = reduced;\\\\n        key = powers[i].key;\\\\n        break;\\\\n    }\\\\n}\\\\nreturn value + key;\\\",\\n              \\\"min\\\": 0,\\n              \\\"tickDecimals\\\": 0\\n            },\\n            \\\"grid\\\": {\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"tickColor\\\": \\\"#DDDDDD\\\",\\n              \\\"verticalLines\\\": true,\\n              \\\"horizontalLines\\\": true,\\n              \\\"outlineWidth\\\": 1\\n            },\\n            \\\"stack\\\": false,\\n            \\\"tooltipIndividual\\\": false,\\n            \\\"defaultBarWidth\\\": 2400000,\\n            \\\"barAlignment\\\": \\\"left\\\",\\n            \\\"timeForComparison\\\": \\\"months\\\",\\n            \\\"xaxisSecond\\\": {\\n              \\\"axisPosition\\\": \\\"top\\\",\\n              \\\"showLabels\\\": true\\n            }\\n          },\\n          \\\"title\\\": \\\"{i18n:api-usage.rule-engine-hourly-activity}\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": true,\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"16px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"widgetStyle\\\": {},\\n          \\\"useDashboardTimewindow\\\": false,\\n          \\\"showLegend\\\": true,\\n          \\\"actions\\\": {\\n            \\\"headerButton\\\": [\\n              {\\n                \\\"name\\\": \\\"{i18n:api-usage.view-statistics}\\\",\\n                \\\"icon\\\": \\\"show_chart\\\",\\n                \\\"type\\\": \\\"openDashboardState\\\",\\n                \\\"targetDashboardStateId\\\": \\\"rule_engine_statistics\\\",\\n                \\\"setEntityId\\\": false,\\n                \\\"stateEntityParamName\\\": null,\\n                \\\"openRightLayout\\\": false,\\n                \\\"id\\\": \\\"f9f08190-9ed9-d802-5b7a-c57ff84b5648\\\"\\n              },\\n              {\\n                \\\"name\\\": \\\"{i18n:api-usage.view-details}\\\",\\n                \\\"icon\\\": \\\"insert_chart\\\",\\n                \\\"type\\\": \\\"openDashboardState\\\",\\n                \\\"targetDashboardStateId\\\": \\\"rule_engine_execution\\\",\\n                \\\"setEntityId\\\": false,\\n                \\\"stateEntityParamName\\\": null,\\n                \\\"openRightLayout\\\": false,\\n                \\\"id\\\": \\\"1aec196b-44ba-ddf4-c4dc-c3f60c1eb6fc\\\"\\n              }\\n            ]\\n          },\\n          \\\"displayTimewindow\\\": true,\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\",\\n          \\\"legendConfig\\\": {\\n            \\\"direction\\\": \\\"column\\\",\\n            \\\"position\\\": \\\"bottom\\\",\\n            \\\"sortDataKeys\\\": false,\\n            \\\"showMin\\\": false,\\n            \\\"showMax\\\": false,\\n            \\\"showAvg\\\": false,\\n            \\\"showTotal\\\": true\\n          }\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"68e16e98-0420-f72c-4848-41dedffd3904\\\"\\n      },\\n      \\\"2aa6b499-6e27-b315-6833-89c4d58485ce\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"charts\\\",\\n        \\\"typeAlias\\\": \\\"timeseries_bars_flot\\\",\\n        \\\"type\\\": \\\"timeseries\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 8,\\n        \\\"sizeY\\\": 5,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"transportMsgCountHourly\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.transport-messages}\\\",\\n                  \\\"color\\\": \\\"#2196f3\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": false,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.0661644137210089,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"transportDataPointsCountHourly\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.transport-data-points}\\\",\\n                  \\\"color\\\": \\\"#4caf50\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": false,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.46849996721308895,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"hideInterval\\\": false,\\n            \\\"hideAggregation\\\": false,\\n            \\\"hideAggInterval\\\": false,\\n            \\\"selectedTab\\\": 0,\\n            \\\"realtime\\\": {\\n              \\\"timewindowMs\\\": 86400000,\\n              \\\"interval\\\": 3600000\\n            },\\n            \\\"aggregation\\\": {\\n              \\\"type\\\": \\\"NONE\\\",\\n              \\\"limit\\\": 1000\\n            }\\n          },\\n          \\\"showTitle\\\": true,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"padding\\\": \\\"8px\\\",\\n          \\\"settings\\\": {\\n            \\\"shadowSize\\\": 4,\\n            \\\"fontColor\\\": \\\"#545454\\\",\\n            \\\"fontSize\\\": 10,\\n            \\\"xaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\"\\n            },\\n            \\\"yaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"ticksFormatter\\\": \\\"var rounder = Math.pow(10, 1);\\\\nvar powers = [\\\\n  {key: 'Q', value: Math.pow(10, 15)},\\\\n  {key: 'T', value: Math.pow(10, 12)},\\\\n  {key: 'B', value: Math.pow(10, 9)},\\\\n  {key: 'M', value: Math.pow(10, 6)},\\\\n  {key: 'K', value: 1000}\\\\n];\\\\n\\\\nvar key = '';\\\\n\\\\nfor (var i = 0; i < powers.length; i++) {\\\\n    var reduced = value / powers[i].value;\\\\n    reduced = Math.round(reduced * rounder) / rounder;\\\\n    if (reduced >= 1) {\\\\n        value = reduced;\\\\n        key = powers[i].key;\\\\n        break;\\\\n    }\\\\n}\\\\nreturn value + key;\\\",\\n              \\\"min\\\": 0,\\n              \\\"tickDecimals\\\": 0\\n            },\\n            \\\"grid\\\": {\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"tickColor\\\": \\\"#DDDDDD\\\",\\n              \\\"verticalLines\\\": true,\\n              \\\"horizontalLines\\\": true,\\n              \\\"outlineWidth\\\": 1\\n            },\\n            \\\"stack\\\": true,\\n            \\\"tooltipIndividual\\\": false,\\n            \\\"defaultBarWidth\\\": 2400000,\\n            \\\"barAlignment\\\": \\\"left\\\",\\n            \\\"timeForComparison\\\": \\\"months\\\",\\n            \\\"xaxisSecond\\\": {\\n              \\\"axisPosition\\\": \\\"top\\\",\\n              \\\"showLabels\\\": true\\n            },\\n            \\\"tooltipCumulative\\\": false\\n          },\\n          \\\"title\\\": \\\"{i18n:api-usage.transport-hourly-activity}\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": true,\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"16px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"widgetStyle\\\": {},\\n          \\\"useDashboardTimewindow\\\": false,\\n          \\\"showLegend\\\": true,\\n          \\\"actions\\\": {\\n            \\\"headerButton\\\": [\\n              {\\n                \\\"name\\\": \\\"{i18n:api-usage.view-details}\\\",\\n                \\\"icon\\\": \\\"insert_chart\\\",\\n                \\\"type\\\": \\\"openDashboardState\\\",\\n                \\\"targetDashboardStateId\\\": \\\"transport\\\",\\n                \\\"setEntityId\\\": false,\\n                \\\"stateEntityParamName\\\": null,\\n                \\\"openRightLayout\\\": false,\\n                \\\"id\\\": \\\"6ef12f6a-0266-25cf-6ca5-5dcb772252c6\\\"\\n              }\\n            ]\\n          },\\n          \\\"displayTimewindow\\\": true,\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\",\\n          \\\"legendConfig\\\": {\\n            \\\"direction\\\": \\\"column\\\",\\n            \\\"position\\\": \\\"bottom\\\",\\n            \\\"sortDataKeys\\\": false,\\n            \\\"showMin\\\": false,\\n            \\\"showMax\\\": false,\\n            \\\"showAvg\\\": false,\\n            \\\"showTotal\\\": true\\n          }\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"2aa6b499-6e27-b315-6833-89c4d58485ce\\\"\\n      },\\n      \\\"d890cea3-fba0-6474-9a21-fa780230dc62\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"charts\\\",\\n        \\\"typeAlias\\\": \\\"timeseries_bars_flot\\\",\\n        \\\"type\\\": \\\"timeseries\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 8,\\n        \\\"sizeY\\\": 5,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"jsExecutionCountHourly\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.javascript-executions}\\\",\\n                  \\\"color\\\": \\\"#ff9900\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": false,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.0661644137210089,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"hideInterval\\\": false,\\n            \\\"hideAggregation\\\": false,\\n            \\\"hideAggInterval\\\": false,\\n            \\\"selectedTab\\\": 0,\\n            \\\"realtime\\\": {\\n              \\\"timewindowMs\\\": 86400000,\\n              \\\"interval\\\": 3600000\\n            },\\n            \\\"aggregation\\\": {\\n              \\\"type\\\": \\\"NONE\\\",\\n              \\\"limit\\\": 1000\\n            }\\n          },\\n          \\\"showTitle\\\": true,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"padding\\\": \\\"8px\\\",\\n          \\\"settings\\\": {\\n            \\\"shadowSize\\\": 4,\\n            \\\"fontColor\\\": \\\"#545454\\\",\\n            \\\"fontSize\\\": 10,\\n            \\\"xaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\"\\n            },\\n            \\\"yaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"ticksFormatter\\\": \\\"var rounder = Math.pow(10, 1);\\\\nvar powers = [\\\\n  {key: 'Q', value: Math.pow(10, 15)},\\\\n  {key: 'T', value: Math.pow(10, 12)},\\\\n  {key: 'B', value: Math.pow(10, 9)},\\\\n  {key: 'M', value: Math.pow(10, 6)},\\\\n  {key: 'K', value: 1000}\\\\n];\\\\n\\\\nvar key = '';\\\\n\\\\nfor (var i = 0; i < powers.length; i++) {\\\\n    var reduced = value / powers[i].value;\\\\n    reduced = Math.round(reduced * rounder) / rounder;\\\\n    if (reduced >= 1) {\\\\n        value = reduced;\\\\n        key = powers[i].key;\\\\n        break;\\\\n    }\\\\n}\\\\nreturn value + key;\\\",\\n              \\\"min\\\": 0,\\n              \\\"tickDecimals\\\": 0\\n            },\\n            \\\"grid\\\": {\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"tickColor\\\": \\\"#DDDDDD\\\",\\n              \\\"verticalLines\\\": true,\\n              \\\"horizontalLines\\\": true,\\n              \\\"outlineWidth\\\": 1\\n            },\\n            \\\"stack\\\": false,\\n            \\\"tooltipIndividual\\\": false,\\n            \\\"defaultBarWidth\\\": 2400000,\\n            \\\"barAlignment\\\": \\\"left\\\",\\n            \\\"timeForComparison\\\": \\\"months\\\",\\n            \\\"xaxisSecond\\\": {\\n              \\\"axisPosition\\\": \\\"top\\\",\\n              \\\"showLabels\\\": true\\n            }\\n          },\\n          \\\"title\\\": \\\"{i18n:api-usage.javascript-functions-hourly-activity}\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": true,\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"16px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"widgetStyle\\\": {},\\n          \\\"useDashboardTimewindow\\\": false,\\n          \\\"showLegend\\\": true,\\n          \\\"actions\\\": {\\n            \\\"headerButton\\\": [\\n              {\\n                \\\"name\\\": \\\"{i18n:api-usage.view-details}\\\",\\n                \\\"icon\\\": \\\"insert_chart\\\",\\n                \\\"type\\\": \\\"openDashboardState\\\",\\n                \\\"targetDashboardStateId\\\": \\\"javascript_functions\\\",\\n                \\\"setEntityId\\\": false,\\n                \\\"stateEntityParamName\\\": null,\\n                \\\"openRightLayout\\\": false,\\n                \\\"id\\\": \\\"4687d3f6-8800-a3b6-26e5-0d33f3b828a9\\\"\\n              }\\n            ]\\n          },\\n          \\\"displayTimewindow\\\": true,\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\",\\n          \\\"legendConfig\\\": {\\n            \\\"direction\\\": \\\"column\\\",\\n            \\\"position\\\": \\\"bottom\\\",\\n            \\\"sortDataKeys\\\": false,\\n            \\\"showMin\\\": false,\\n            \\\"showMax\\\": false,\\n            \\\"showAvg\\\": false,\\n            \\\"showTotal\\\": true\\n          }\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"d890cea3-fba0-6474-9a21-fa780230dc62\\\"\\n      },\\n      \\\"84b6cfa5-1449-e0f2-3560-f810d2dd7ead\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"charts\\\",\\n        \\\"typeAlias\\\": \\\"timeseries_bars_flot\\\",\\n        \\\"type\\\": \\\"timeseries\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 8,\\n        \\\"sizeY\\\": 5,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"storageDataPointsCountHourly\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.data-points-storage-days}\\\",\\n                  \\\"color\\\": \\\"#1039ee\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": false,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.0661644137210089,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"hideInterval\\\": false,\\n            \\\"hideAggregation\\\": false,\\n            \\\"hideAggInterval\\\": false,\\n            \\\"selectedTab\\\": 0,\\n            \\\"realtime\\\": {\\n              \\\"timewindowMs\\\": 86400000,\\n              \\\"interval\\\": 3600000\\n            },\\n            \\\"aggregation\\\": {\\n              \\\"type\\\": \\\"NONE\\\",\\n              \\\"limit\\\": 1000\\n            }\\n          },\\n          \\\"showTitle\\\": true,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"padding\\\": \\\"8px\\\",\\n          \\\"settings\\\": {\\n            \\\"shadowSize\\\": 4,\\n            \\\"fontColor\\\": \\\"#545454\\\",\\n            \\\"fontSize\\\": 10,\\n            \\\"xaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\"\\n            },\\n            \\\"yaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"ticksFormatter\\\": \\\"var rounder = Math.pow(10, 1);\\\\nvar powers = [\\\\n  {key: 'Q', value: Math.pow(10, 15)},\\\\n  {key: 'T', value: Math.pow(10, 12)},\\\\n  {key: 'B', value: Math.pow(10, 9)},\\\\n  {key: 'M', value: Math.pow(10, 6)},\\\\n  {key: 'K', value: 1000}\\\\n];\\\\n\\\\nvar key = '';\\\\n\\\\nfor (var i = 0; i < powers.length; i++) {\\\\n    var reduced = value / powers[i].value;\\\\n    reduced = Math.round(reduced * rounder) / rounder;\\\\n    if (reduced >= 1) {\\\\n        value = reduced;\\\\n        key = powers[i].key;\\\\n        break;\\\\n    }\\\\n}\\\\nreturn value + key;\\\",\\n              \\\"min\\\": 0,\\n              \\\"tickDecimals\\\": 0\\n            },\\n            \\\"grid\\\": {\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"tickColor\\\": \\\"#DDDDDD\\\",\\n              \\\"verticalLines\\\": true,\\n              \\\"horizontalLines\\\": true,\\n              \\\"outlineWidth\\\": 1\\n            },\\n            \\\"stack\\\": false,\\n            \\\"tooltipIndividual\\\": false,\\n            \\\"defaultBarWidth\\\": 2400000,\\n            \\\"barAlignment\\\": \\\"left\\\",\\n            \\\"timeForComparison\\\": \\\"months\\\",\\n            \\\"xaxisSecond\\\": {\\n              \\\"axisPosition\\\": \\\"top\\\",\\n              \\\"showLabels\\\": true\\n            }\\n          },\\n          \\\"title\\\": \\\"{i18n:api-usage.telemetry-persistence-hourly-activity}\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": true,\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"16px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"widgetStyle\\\": {},\\n          \\\"useDashboardTimewindow\\\": false,\\n          \\\"showLegend\\\": true,\\n          \\\"actions\\\": {\\n            \\\"headerButton\\\": [\\n              {\\n                \\\"name\\\": \\\"{i18n:api-usage.view-details}\\\",\\n                \\\"icon\\\": \\\"insert_chart\\\",\\n                \\\"type\\\": \\\"openDashboardState\\\",\\n                \\\"targetDashboardStateId\\\": \\\"telemetry_persistence\\\",\\n                \\\"setEntityId\\\": false,\\n                \\\"stateEntityParamName\\\": null,\\n                \\\"openRightLayout\\\": false,\\n                \\\"id\\\": \\\"16707efb-e572-bd02-c219-55fc1b0f672a\\\"\\n              }\\n            ]\\n          },\\n          \\\"displayTimewindow\\\": true,\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\",\\n          \\\"legendConfig\\\": {\\n            \\\"direction\\\": \\\"column\\\",\\n            \\\"position\\\": \\\"bottom\\\",\\n            \\\"sortDataKeys\\\": false,\\n            \\\"showMin\\\": false,\\n            \\\"showMax\\\": false,\\n            \\\"showAvg\\\": false,\\n            \\\"showTotal\\\": true\\n          }\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"84b6cfa5-1449-e0f2-3560-f810d2dd7ead\\\"\\n      },\\n      \\\"d296b566-a000-7402-ae9d-c815381c5435\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"charts\\\",\\n        \\\"typeAlias\\\": \\\"timeseries_bars_flot\\\",\\n        \\\"type\\\": \\\"timeseries\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 8,\\n        \\\"sizeY\\\": 5,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"createdAlarmsCountHourly\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.alarms-created}\\\",\\n                  \\\"color\\\": \\\"#d35a00\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": false,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"var size = radius * Math.sqrt(Math.PI) / 2;\\\\nctx.moveTo(x - size, y - size);\\\\nctx.lineTo(x + size, y + size);\\\\nctx.moveTo(x - size, y + size);\\\\nctx.lineTo(x + size, y - size);\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.0661644137210089,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"hideInterval\\\": false,\\n            \\\"hideAggregation\\\": false,\\n            \\\"hideAggInterval\\\": false,\\n            \\\"selectedTab\\\": 0,\\n            \\\"realtime\\\": {\\n              \\\"timewindowMs\\\": 86400000,\\n              \\\"interval\\\": 3600000\\n            },\\n            \\\"aggregation\\\": {\\n              \\\"type\\\": \\\"NONE\\\",\\n              \\\"limit\\\": 1000\\n            }\\n          },\\n          \\\"showTitle\\\": true,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"padding\\\": \\\"8px\\\",\\n          \\\"settings\\\": {\\n            \\\"shadowSize\\\": 4,\\n            \\\"fontColor\\\": \\\"#545454\\\",\\n            \\\"fontSize\\\": 10,\\n            \\\"xaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\"\\n            },\\n            \\\"yaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"ticksFormatter\\\": \\\"var rounder = Math.pow(10, 1);\\\\nvar powers = [\\\\n  {key: 'Q', value: Math.pow(10, 15)},\\\\n  {key: 'T', value: Math.pow(10, 12)},\\\\n  {key: 'B', value: Math.pow(10, 9)},\\\\n  {key: 'M', value: Math.pow(10, 6)},\\\\n  {key: 'K', value: 1000}\\\\n];\\\\n\\\\nvar key = '';\\\\n\\\\nfor (var i = 0; i < powers.length; i++) {\\\\n    var reduced = value / powers[i].value;\\\\n    reduced = Math.round(reduced * rounder) / rounder;\\\\n    if (reduced >= 1) {\\\\n        value = reduced;\\\\n        key = powers[i].key;\\\\n        break;\\\\n    }\\\\n}\\\\nreturn value + key;\\\",\\n              \\\"min\\\": 0,\\n              \\\"tickDecimals\\\": 0\\n            },\\n            \\\"grid\\\": {\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"tickColor\\\": \\\"#DDDDDD\\\",\\n              \\\"verticalLines\\\": true,\\n              \\\"horizontalLines\\\": true,\\n              \\\"outlineWidth\\\": 1\\n            },\\n            \\\"stack\\\": false,\\n            \\\"tooltipIndividual\\\": false,\\n            \\\"defaultBarWidth\\\": 2400000,\\n            \\\"barAlignment\\\": \\\"left\\\",\\n            \\\"timeForComparison\\\": \\\"months\\\",\\n            \\\"xaxisSecond\\\": {\\n              \\\"axisPosition\\\": \\\"top\\\",\\n              \\\"showLabels\\\": true\\n            }\\n          },\\n          \\\"title\\\": \\\"{i18n:api-usage.alarms-created-hourly-activity}\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": true,\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"16px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"widgetStyle\\\": {},\\n          \\\"useDashboardTimewindow\\\": false,\\n          \\\"showLegend\\\": true,\\n          \\\"actions\\\": {\\n            \\\"headerButton\\\": [\\n              {\\n                \\\"name\\\": \\\"{i18n:api-usage.view-details}\\\",\\n                \\\"icon\\\": \\\"insert_chart\\\",\\n                \\\"type\\\": \\\"openDashboardState\\\",\\n                \\\"targetDashboardStateId\\\": \\\"alarms_created\\\",\\n                \\\"setEntityId\\\": false,\\n                \\\"stateEntityParamName\\\": null,\\n                \\\"openInSeparateDialog\\\": null,\\n                \\\"dialogTitle\\\": null,\\n                \\\"dialogHideDashboardToolbar\\\": true,\\n                \\\"dialogWidth\\\": null,\\n                \\\"dialogHeight\\\": null,\\n                \\\"openRightLayout\\\": false,\\n                \\\"id\\\": \\\"371882f9-ea23-3abc-fca8-9449c5dfdd6b\\\"\\n              }\\n            ]\\n          },\\n          \\\"displayTimewindow\\\": true,\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\",\\n          \\\"legendConfig\\\": {\\n            \\\"direction\\\": \\\"column\\\",\\n            \\\"position\\\": \\\"bottom\\\",\\n            \\\"sortDataKeys\\\": false,\\n            \\\"showMin\\\": false,\\n            \\\"showMax\\\": false,\\n            \\\"showAvg\\\": false,\\n            \\\"showTotal\\\": true\\n          }\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"d296b566-a000-7402-ae9d-c815381c5435\\\"\\n      },\\n      \\\"00a02464-9509-911b-3b5e-21fb37629822\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"charts\\\",\\n        \\\"typeAlias\\\": \\\"timeseries_bars_flot\\\",\\n        \\\"type\\\": \\\"timeseries\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 8,\\n        \\\"sizeY\\\": 5,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"emailCountHourly\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.email-messages}\\\",\\n                  \\\"color\\\": \\\"#4caf50\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": false,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"var size = radius * Math.sqrt(Math.PI) / 2;\\\\nctx.moveTo(x - size, y - size);\\\\nctx.lineTo(x + size, y + size);\\\\nctx.moveTo(x - size, y + size);\\\\nctx.lineTo(x + size, y - size);\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.1348755140779876,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"smsCountHourly\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.sms-messages}\\\",\\n                  \\\"color\\\": \\\"#f36021\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": false,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.0661644137210089,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"hideInterval\\\": false,\\n            \\\"hideAggregation\\\": false,\\n            \\\"hideAggInterval\\\": false,\\n            \\\"selectedTab\\\": 0,\\n            \\\"realtime\\\": {\\n              \\\"timewindowMs\\\": 86400000,\\n              \\\"interval\\\": 3600000\\n            },\\n            \\\"aggregation\\\": {\\n              \\\"type\\\": \\\"NONE\\\",\\n              \\\"limit\\\": 1000\\n            }\\n          },\\n          \\\"showTitle\\\": true,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"padding\\\": \\\"8px\\\",\\n          \\\"settings\\\": {\\n            \\\"shadowSize\\\": 4,\\n            \\\"fontColor\\\": \\\"#545454\\\",\\n            \\\"fontSize\\\": 10,\\n            \\\"xaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\"\\n            },\\n            \\\"yaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"ticksFormatter\\\": \\\"var rounder = Math.pow(10, 1);\\\\nvar powers = [\\\\n  {key: 'Q', value: Math.pow(10, 15)},\\\\n  {key: 'T', value: Math.pow(10, 12)},\\\\n  {key: 'B', value: Math.pow(10, 9)},\\\\n  {key: 'M', value: Math.pow(10, 6)},\\\\n  {key: 'K', value: 1000}\\\\n];\\\\n\\\\nvar key = '';\\\\n\\\\nfor (var i = 0; i < powers.length; i++) {\\\\n    var reduced = value / powers[i].value;\\\\n    reduced = Math.round(reduced * rounder) / rounder;\\\\n    if (reduced >= 1) {\\\\n        value = reduced;\\\\n        key = powers[i].key;\\\\n        break;\\\\n    }\\\\n}\\\\nreturn value + key;\\\",\\n              \\\"min\\\": 0,\\n              \\\"tickDecimals\\\": 0\\n            },\\n            \\\"grid\\\": {\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"tickColor\\\": \\\"#DDDDDD\\\",\\n              \\\"verticalLines\\\": true,\\n              \\\"horizontalLines\\\": true,\\n              \\\"outlineWidth\\\": 1\\n            },\\n            \\\"stack\\\": false,\\n            \\\"tooltipIndividual\\\": false,\\n            \\\"defaultBarWidth\\\": 2400000,\\n            \\\"barAlignment\\\": \\\"left\\\",\\n            \\\"timeForComparison\\\": \\\"months\\\",\\n            \\\"xaxisSecond\\\": {\\n              \\\"axisPosition\\\": \\\"top\\\",\\n              \\\"showLabels\\\": true\\n            }\\n          },\\n          \\\"title\\\": \\\"{i18n:api-usage.notifications-hourly-activity}\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": true,\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"16px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"widgetStyle\\\": {},\\n          \\\"useDashboardTimewindow\\\": false,\\n          \\\"showLegend\\\": true,\\n          \\\"actions\\\": {\\n            \\\"headerButton\\\": [\\n              {\\n                \\\"name\\\": \\\"{i18n:api-usage.view-details}\\\",\\n                \\\"icon\\\": \\\"insert_chart\\\",\\n                \\\"type\\\": \\\"openDashboardState\\\",\\n                \\\"targetDashboardStateId\\\": \\\"notifications\\\",\\n                \\\"setEntityId\\\": false,\\n                \\\"stateEntityParamName\\\": null,\\n                \\\"openInSeparateDialog\\\": null,\\n                \\\"dialogTitle\\\": null,\\n                \\\"dialogHideDashboardToolbar\\\": true,\\n                \\\"dialogWidth\\\": null,\\n                \\\"dialogHeight\\\": null,\\n                \\\"openRightLayout\\\": false,\\n                \\\"id\\\": \\\"49aefac0-ec5e-d6f3-f39c-8744759f4b19\\\"\\n              }\\n            ]\\n          },\\n          \\\"displayTimewindow\\\": true,\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\",\\n          \\\"legendConfig\\\": {\\n            \\\"direction\\\": \\\"column\\\",\\n            \\\"position\\\": \\\"bottom\\\",\\n            \\\"sortDataKeys\\\": false,\\n            \\\"showMin\\\": false,\\n            \\\"showMax\\\": false,\\n            \\\"showAvg\\\": false,\\n            \\\"showTotal\\\": true\\n          }\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"00a02464-9509-911b-3b5e-21fb37629822\\\"\\n      },\\n      \\\"74199074-7873-6c6a-2a51-3fc614769f03\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"charts\\\",\\n        \\\"typeAlias\\\": \\\"timeseries_bars_flot\\\",\\n        \\\"type\\\": \\\"timeseries\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 8,\\n        \\\"sizeY\\\": 5,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"ruleEngineExecutionCountHourly\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.rule-engine-executions}\\\",\\n                  \\\"color\\\": \\\"#ab00ff\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": false,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.0661644137210089,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"hideInterval\\\": false,\\n            \\\"hideAggregation\\\": false,\\n            \\\"hideAggInterval\\\": false,\\n            \\\"selectedTab\\\": 1,\\n            \\\"history\\\": {\\n              \\\"historyType\\\": 0,\\n              \\\"timewindowMs\\\": 2592000000,\\n              \\\"interval\\\": 86400000\\n            },\\n            \\\"aggregation\\\": {\\n              \\\"type\\\": \\\"SUM\\\",\\n              \\\"limit\\\": 1000\\n            }\\n          },\\n          \\\"showTitle\\\": true,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"padding\\\": \\\"8px\\\",\\n          \\\"settings\\\": {\\n            \\\"shadowSize\\\": 4,\\n            \\\"fontColor\\\": \\\"#545454\\\",\\n            \\\"fontSize\\\": 10,\\n            \\\"xaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\"\\n            },\\n            \\\"yaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"ticksFormatter\\\": \\\"var rounder = Math.pow(10, 1);\\\\nvar powers = [\\\\n  {key: 'Q', value: Math.pow(10, 15)},\\\\n  {key: 'T', value: Math.pow(10, 12)},\\\\n  {key: 'B', value: Math.pow(10, 9)},\\\\n  {key: 'M', value: Math.pow(10, 6)},\\\\n  {key: 'K', value: 1000}\\\\n];\\\\n\\\\nvar key = '';\\\\n\\\\nfor (var i = 0; i < powers.length; i++) {\\\\n    var reduced = value / powers[i].value;\\\\n    reduced = Math.round(reduced * rounder) / rounder;\\\\n    if (reduced >= 1) {\\\\n        value = reduced;\\\\n        key = powers[i].key;\\\\n        break;\\\\n    }\\\\n}\\\\nreturn value + key;\\\",\\n              \\\"min\\\": 0,\\n              \\\"tickDecimals\\\": 0\\n            },\\n            \\\"grid\\\": {\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"tickColor\\\": \\\"#DDDDDD\\\",\\n              \\\"verticalLines\\\": true,\\n              \\\"horizontalLines\\\": true,\\n              \\\"outlineWidth\\\": 1\\n            },\\n            \\\"stack\\\": false,\\n            \\\"tooltipIndividual\\\": false,\\n            \\\"defaultBarWidth\\\": 1800000,\\n            \\\"barAlignment\\\": \\\"left\\\",\\n            \\\"timeForComparison\\\": \\\"months\\\",\\n            \\\"xaxisSecond\\\": {\\n              \\\"axisPosition\\\": \\\"top\\\",\\n              \\\"showLabels\\\": true\\n            }\\n          },\\n          \\\"title\\\": \\\"{i18n:api-usage.rule-engine-daily-activity}\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": true,\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"16px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"widgetStyle\\\": {},\\n          \\\"useDashboardTimewindow\\\": false,\\n          \\\"showLegend\\\": true,\\n          \\\"actions\\\": {},\\n          \\\"displayTimewindow\\\": true,\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\",\\n          \\\"legendConfig\\\": {\\n            \\\"direction\\\": \\\"column\\\",\\n            \\\"position\\\": \\\"bottom\\\",\\n            \\\"sortDataKeys\\\": false,\\n            \\\"showMin\\\": false,\\n            \\\"showMax\\\": false,\\n            \\\"showAvg\\\": false,\\n            \\\"showTotal\\\": true\\n          }\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"74199074-7873-6c6a-2a51-3fc614769f03\\\"\\n      },\\n      \\\"00006bc3-8a8d-b55e-ed39-e318f1bcd090\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"charts\\\",\\n        \\\"typeAlias\\\": \\\"timeseries_bars_flot\\\",\\n        \\\"type\\\": \\\"timeseries\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 8,\\n        \\\"sizeY\\\": 5,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"ruleEngineExecutionCount\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.rule-engine-executions}\\\",\\n                  \\\"color\\\": \\\"#ab00ff\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": false,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.0661644137210089,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"hideInterval\\\": false,\\n            \\\"hideAggregation\\\": false,\\n            \\\"hideAggInterval\\\": false,\\n            \\\"selectedTab\\\": 1,\\n            \\\"history\\\": {\\n              \\\"historyType\\\": 0,\\n              \\\"timewindowMs\\\": 31536000000,\\n              \\\"interval\\\": 1000\\n            },\\n            \\\"aggregation\\\": {\\n              \\\"type\\\": \\\"NONE\\\",\\n              \\\"limit\\\": 1000\\n            }\\n          },\\n          \\\"showTitle\\\": true,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"padding\\\": \\\"8px\\\",\\n          \\\"settings\\\": {\\n            \\\"shadowSize\\\": 4,\\n            \\\"fontColor\\\": \\\"#545454\\\",\\n            \\\"fontSize\\\": 10,\\n            \\\"xaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\"\\n            },\\n            \\\"yaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"ticksFormatter\\\": \\\"var rounder = Math.pow(10, 1);\\\\nvar powers = [\\\\n  {key: 'Q', value: Math.pow(10, 15)},\\\\n  {key: 'T', value: Math.pow(10, 12)},\\\\n  {key: 'B', value: Math.pow(10, 9)},\\\\n  {key: 'M', value: Math.pow(10, 6)},\\\\n  {key: 'K', value: 1000}\\\\n];\\\\n\\\\nvar key = '';\\\\n\\\\nfor (var i = 0; i < powers.length; i++) {\\\\n    var reduced = value / powers[i].value;\\\\n    reduced = Math.round(reduced * rounder) / rounder;\\\\n    if (reduced >= 1) {\\\\n        value = reduced;\\\\n        key = powers[i].key;\\\\n        break;\\\\n    }\\\\n}\\\\nreturn value + key;\\\",\\n              \\\"min\\\": 0,\\n              \\\"tickDecimals\\\": 0\\n            },\\n            \\\"grid\\\": {\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"tickColor\\\": \\\"#DDDDDD\\\",\\n              \\\"verticalLines\\\": true,\\n              \\\"horizontalLines\\\": true,\\n              \\\"outlineWidth\\\": 1\\n            },\\n            \\\"stack\\\": false,\\n            \\\"tooltipIndividual\\\": false,\\n            \\\"defaultBarWidth\\\": 900000000,\\n            \\\"barAlignment\\\": \\\"left\\\",\\n            \\\"timeForComparison\\\": \\\"months\\\",\\n            \\\"xaxisSecond\\\": {\\n              \\\"axisPosition\\\": \\\"top\\\",\\n              \\\"showLabels\\\": true\\n            }\\n          },\\n          \\\"title\\\": \\\"{i18n:api-usage.rule-engine-monthly-activity}\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": true,\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"16px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"widgetStyle\\\": {},\\n          \\\"useDashboardTimewindow\\\": false,\\n          \\\"showLegend\\\": true,\\n          \\\"actions\\\": {},\\n          \\\"displayTimewindow\\\": true,\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\",\\n          \\\"legendConfig\\\": {\\n            \\\"direction\\\": \\\"column\\\",\\n            \\\"position\\\": \\\"bottom\\\",\\n            \\\"sortDataKeys\\\": false,\\n            \\\"showMin\\\": false,\\n            \\\"showMax\\\": false,\\n            \\\"showAvg\\\": false,\\n            \\\"showTotal\\\": true\\n          }\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"00006bc3-8a8d-b55e-ed39-e318f1bcd090\\\"\\n      },\\n      \\\"5f5ca59c-e507-5301-5910-7ad8cd34df40\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"charts\\\",\\n        \\\"typeAlias\\\": \\\"timeseries_bars_flot\\\",\\n        \\\"type\\\": \\\"timeseries\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 8,\\n        \\\"sizeY\\\": 5,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"jsExecutionCountHourly\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.javascript-executions}\\\",\\n                  \\\"color\\\": \\\"#ff9900\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": false,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.0661644137210089,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"hideInterval\\\": false,\\n            \\\"hideAggregation\\\": false,\\n            \\\"hideAggInterval\\\": false,\\n            \\\"selectedTab\\\": 1,\\n            \\\"history\\\": {\\n              \\\"historyType\\\": 0,\\n              \\\"timewindowMs\\\": 2592000000,\\n              \\\"interval\\\": 86400000\\n            },\\n            \\\"aggregation\\\": {\\n              \\\"type\\\": \\\"SUM\\\",\\n              \\\"limit\\\": 1000\\n            }\\n          },\\n          \\\"showTitle\\\": true,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"padding\\\": \\\"8px\\\",\\n          \\\"settings\\\": {\\n            \\\"shadowSize\\\": 4,\\n            \\\"fontColor\\\": \\\"#545454\\\",\\n            \\\"fontSize\\\": 10,\\n            \\\"xaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\"\\n            },\\n            \\\"yaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"min\\\": 0,\\n              \\\"tickDecimals\\\": 0,\\n              \\\"ticksFormatter\\\": \\\"var rounder = Math.pow(10, 1);\\\\nvar powers = [\\\\n  {key: 'Q', value: Math.pow(10, 15)},\\\\n  {key: 'T', value: Math.pow(10, 12)},\\\\n  {key: 'B', value: Math.pow(10, 9)},\\\\n  {key: 'M', value: Math.pow(10, 6)},\\\\n  {key: 'K', value: 1000}\\\\n];\\\\n\\\\nvar key = '';\\\\n\\\\nfor (var i = 0; i < powers.length; i++) {\\\\n    var reduced = value / powers[i].value;\\\\n    reduced = Math.round(reduced * rounder) / rounder;\\\\n    if (reduced >= 1) {\\\\n        value = reduced;\\\\n        key = powers[i].key;\\\\n        break;\\\\n    }\\\\n}\\\\nreturn value + key;\\\"\\n            },\\n            \\\"grid\\\": {\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"tickColor\\\": \\\"#DDDDDD\\\",\\n              \\\"verticalLines\\\": true,\\n              \\\"horizontalLines\\\": true,\\n              \\\"outlineWidth\\\": 1\\n            },\\n            \\\"stack\\\": false,\\n            \\\"tooltipIndividual\\\": false,\\n            \\\"defaultBarWidth\\\": 1800000,\\n            \\\"barAlignment\\\": \\\"left\\\",\\n            \\\"timeForComparison\\\": \\\"months\\\",\\n            \\\"xaxisSecond\\\": {\\n              \\\"axisPosition\\\": \\\"top\\\",\\n              \\\"showLabels\\\": true\\n            }\\n          },\\n          \\\"title\\\": \\\"{i18n:api-usage.javascript-functions-daily-activity}\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": true,\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"16px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"widgetStyle\\\": {},\\n          \\\"useDashboardTimewindow\\\": false,\\n          \\\"showLegend\\\": true,\\n          \\\"actions\\\": {},\\n          \\\"displayTimewindow\\\": true,\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\",\\n          \\\"legendConfig\\\": {\\n            \\\"direction\\\": \\\"column\\\",\\n            \\\"position\\\": \\\"bottom\\\",\\n            \\\"sortDataKeys\\\": false,\\n            \\\"showMin\\\": false,\\n            \\\"showMax\\\": false,\\n            \\\"showAvg\\\": false,\\n            \\\"showTotal\\\": true\\n          }\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"5f5ca59c-e507-5301-5910-7ad8cd34df40\\\"\\n      },\\n      \\\"ada32ee9-44ed-48d1-c368-fd0c94b7607f\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"charts\\\",\\n        \\\"typeAlias\\\": \\\"timeseries_bars_flot\\\",\\n        \\\"type\\\": \\\"timeseries\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 8,\\n        \\\"sizeY\\\": 5,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"jsExecutionCount\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.javascript-executions}\\\",\\n                  \\\"color\\\": \\\"#ff9900\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": false,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.0661644137210089,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"hideInterval\\\": false,\\n            \\\"hideAggregation\\\": false,\\n            \\\"hideAggInterval\\\": false,\\n            \\\"selectedTab\\\": 1,\\n            \\\"history\\\": {\\n              \\\"historyType\\\": 0,\\n              \\\"timewindowMs\\\": 31536000000,\\n              \\\"interval\\\": 1000\\n            },\\n            \\\"aggregation\\\": {\\n              \\\"type\\\": \\\"NONE\\\",\\n              \\\"limit\\\": 1000\\n            }\\n          },\\n          \\\"showTitle\\\": true,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"padding\\\": \\\"8px\\\",\\n          \\\"settings\\\": {\\n            \\\"shadowSize\\\": 4,\\n            \\\"fontColor\\\": \\\"#545454\\\",\\n            \\\"fontSize\\\": 10,\\n            \\\"xaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\"\\n            },\\n            \\\"yaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"min\\\": 0,\\n              \\\"tickDecimals\\\": 0,\\n              \\\"ticksFormatter\\\": \\\"var rounder = Math.pow(10, 1);\\\\nvar powers = [\\\\n  {key: 'Q', value: Math.pow(10, 15)},\\\\n  {key: 'T', value: Math.pow(10, 12)},\\\\n  {key: 'B', value: Math.pow(10, 9)},\\\\n  {key: 'M', value: Math.pow(10, 6)},\\\\n  {key: 'K', value: 1000}\\\\n];\\\\n\\\\nvar key = '';\\\\n\\\\nfor (var i = 0; i < powers.length; i++) {\\\\n    var reduced = value / powers[i].value;\\\\n    reduced = Math.round(reduced * rounder) / rounder;\\\\n    if (reduced >= 1) {\\\\n        value = reduced;\\\\n        key = powers[i].key;\\\\n        break;\\\\n    }\\\\n}\\\\nreturn value + key;\\\"\\n            },\\n            \\\"grid\\\": {\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"tickColor\\\": \\\"#DDDDDD\\\",\\n              \\\"verticalLines\\\": true,\\n              \\\"horizontalLines\\\": true,\\n              \\\"outlineWidth\\\": 1\\n            },\\n            \\\"stack\\\": false,\\n            \\\"tooltipIndividual\\\": false,\\n            \\\"defaultBarWidth\\\": 900000000,\\n            \\\"barAlignment\\\": \\\"left\\\",\\n            \\\"timeForComparison\\\": \\\"months\\\",\\n            \\\"xaxisSecond\\\": {\\n              \\\"axisPosition\\\": \\\"top\\\",\\n              \\\"showLabels\\\": true\\n            }\\n          },\\n          \\\"title\\\": \\\"{i18n:api-usage.javascript-functions-monthly-activity}\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": true,\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"16px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"widgetStyle\\\": {},\\n          \\\"useDashboardTimewindow\\\": false,\\n          \\\"showLegend\\\": true,\\n          \\\"actions\\\": {},\\n          \\\"displayTimewindow\\\": true,\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\",\\n          \\\"legendConfig\\\": {\\n            \\\"direction\\\": \\\"column\\\",\\n            \\\"position\\\": \\\"bottom\\\",\\n            \\\"sortDataKeys\\\": false,\\n            \\\"showMin\\\": false,\\n            \\\"showMax\\\": false,\\n            \\\"showAvg\\\": false,\\n            \\\"showTotal\\\": true\\n          }\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"ada32ee9-44ed-48d1-c368-fd0c94b7607f\\\"\\n      },\\n      \\\"98bae68b-0f35-72f2-a428-9b06889f1554\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"charts\\\",\\n        \\\"typeAlias\\\": \\\"timeseries_bars_flot\\\",\\n        \\\"type\\\": \\\"timeseries\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 8,\\n        \\\"sizeY\\\": 5,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"transportMsgCountHourly\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.transport-messages}\\\",\\n                  \\\"color\\\": \\\"#2196f3\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": false,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.0661644137210089,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"transportDataPointsCountHourly\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.transport-data-points}\\\",\\n                  \\\"color\\\": \\\"#4caf50\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": false,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.46849996721308895,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"hideInterval\\\": false,\\n            \\\"hideAggregation\\\": false,\\n            \\\"hideAggInterval\\\": false,\\n            \\\"selectedTab\\\": 1,\\n            \\\"history\\\": {\\n              \\\"historyType\\\": 0,\\n              \\\"timewindowMs\\\": 2592000000,\\n              \\\"interval\\\": 86400000\\n            },\\n            \\\"aggregation\\\": {\\n              \\\"type\\\": \\\"SUM\\\",\\n              \\\"limit\\\": 1000\\n            }\\n          },\\n          \\\"showTitle\\\": true,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"padding\\\": \\\"8px\\\",\\n          \\\"settings\\\": {\\n            \\\"shadowSize\\\": 4,\\n            \\\"fontColor\\\": \\\"#545454\\\",\\n            \\\"fontSize\\\": 10,\\n            \\\"xaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\"\\n            },\\n            \\\"yaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"ticksFormatter\\\": \\\"var rounder = Math.pow(10, 1);\\\\nvar powers = [\\\\n  {key: 'Q', value: Math.pow(10, 15)},\\\\n  {key: 'T', value: Math.pow(10, 12)},\\\\n  {key: 'B', value: Math.pow(10, 9)},\\\\n  {key: 'M', value: Math.pow(10, 6)},\\\\n  {key: 'K', value: 1000}\\\\n];\\\\n\\\\nvar key = '';\\\\n\\\\nfor (var i = 0; i < powers.length; i++) {\\\\n    var reduced = value / powers[i].value;\\\\n    reduced = Math.round(reduced * rounder) / rounder;\\\\n    if (reduced >= 1) {\\\\n        value = reduced;\\\\n        key = powers[i].key;\\\\n        break;\\\\n    }\\\\n}\\\\nreturn value + key;\\\",\\n              \\\"min\\\": 0,\\n              \\\"tickDecimals\\\": 0\\n            },\\n            \\\"grid\\\": {\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"tickColor\\\": \\\"#DDDDDD\\\",\\n              \\\"verticalLines\\\": true,\\n              \\\"horizontalLines\\\": true,\\n              \\\"outlineWidth\\\": 1\\n            },\\n            \\\"stack\\\": true,\\n            \\\"tooltipIndividual\\\": false,\\n            \\\"defaultBarWidth\\\": 1800000,\\n            \\\"barAlignment\\\": \\\"left\\\",\\n            \\\"timeForComparison\\\": \\\"months\\\",\\n            \\\"xaxisSecond\\\": {\\n              \\\"axisPosition\\\": \\\"top\\\",\\n              \\\"showLabels\\\": true\\n            },\\n            \\\"tooltipCumulative\\\": false\\n          },\\n          \\\"title\\\": \\\"{i18n:api-usage.transport-daily-activity}\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": true,\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"16px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"widgetStyle\\\": {},\\n          \\\"useDashboardTimewindow\\\": false,\\n          \\\"showLegend\\\": true,\\n          \\\"actions\\\": {},\\n          \\\"displayTimewindow\\\": true,\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\",\\n          \\\"legendConfig\\\": {\\n            \\\"direction\\\": \\\"column\\\",\\n            \\\"position\\\": \\\"bottom\\\",\\n            \\\"sortDataKeys\\\": false,\\n            \\\"showMin\\\": false,\\n            \\\"showMax\\\": false,\\n            \\\"showAvg\\\": false,\\n            \\\"showTotal\\\": true\\n          }\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"98bae68b-0f35-72f2-a428-9b06889f1554\\\"\\n      },\\n      \\\"e61e5477-5a09-cc25-966b-f613d81da833\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"charts\\\",\\n        \\\"typeAlias\\\": \\\"timeseries_bars_flot\\\",\\n        \\\"type\\\": \\\"timeseries\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 8,\\n        \\\"sizeY\\\": 5,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"transportMsgCount\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.transport-messages}\\\",\\n                  \\\"color\\\": \\\"#2196f3\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": false,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.0661644137210089,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"transportDataPointsCount\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.transport-data-points}\\\",\\n                  \\\"color\\\": \\\"#4caf50\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": false,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.46849996721308895,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"hideInterval\\\": false,\\n            \\\"hideAggregation\\\": false,\\n            \\\"hideAggInterval\\\": false,\\n            \\\"selectedTab\\\": 1,\\n            \\\"history\\\": {\\n              \\\"historyType\\\": 0,\\n              \\\"timewindowMs\\\": 31536000000,\\n              \\\"interval\\\": 2592000000\\n            },\\n            \\\"aggregation\\\": {\\n              \\\"type\\\": \\\"NONE\\\",\\n              \\\"limit\\\": 1000\\n            }\\n          },\\n          \\\"showTitle\\\": true,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"padding\\\": \\\"8px\\\",\\n          \\\"settings\\\": {\\n            \\\"shadowSize\\\": 4,\\n            \\\"fontColor\\\": \\\"#545454\\\",\\n            \\\"fontSize\\\": 10,\\n            \\\"xaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\"\\n            },\\n            \\\"yaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"ticksFormatter\\\": \\\"var rounder = Math.pow(10, 1);\\\\nvar powers = [\\\\n  {key: 'Q', value: Math.pow(10, 15)},\\\\n  {key: 'T', value: Math.pow(10, 12)},\\\\n  {key: 'B', value: Math.pow(10, 9)},\\\\n  {key: 'M', value: Math.pow(10, 6)},\\\\n  {key: 'K', value: 1000}\\\\n];\\\\n\\\\nvar key = '';\\\\n\\\\nfor (var i = 0; i < powers.length; i++) {\\\\n    var reduced = value / powers[i].value;\\\\n    reduced = Math.round(reduced * rounder) / rounder;\\\\n    if (reduced >= 1) {\\\\n        value = reduced;\\\\n        key = powers[i].key;\\\\n        break;\\\\n    }\\\\n}\\\\nreturn value + key;\\\",\\n              \\\"min\\\": 0,\\n              \\\"tickDecimals\\\": 0\\n            },\\n            \\\"grid\\\": {\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"tickColor\\\": \\\"#DDDDDD\\\",\\n              \\\"verticalLines\\\": true,\\n              \\\"horizontalLines\\\": true,\\n              \\\"outlineWidth\\\": 1\\n            },\\n            \\\"stack\\\": true,\\n            \\\"tooltipIndividual\\\": false,\\n            \\\"defaultBarWidth\\\": 900000000,\\n            \\\"barAlignment\\\": \\\"left\\\",\\n            \\\"timeForComparison\\\": \\\"months\\\",\\n            \\\"xaxisSecond\\\": {\\n              \\\"axisPosition\\\": \\\"top\\\",\\n              \\\"showLabels\\\": true\\n            },\\n            \\\"tooltipCumulative\\\": false\\n          },\\n          \\\"title\\\": \\\"{i18n:api-usage.transport-monthly-activity}\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": true,\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"16px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"widgetStyle\\\": {},\\n          \\\"useDashboardTimewindow\\\": false,\\n          \\\"showLegend\\\": true,\\n          \\\"actions\\\": {},\\n          \\\"displayTimewindow\\\": true,\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\",\\n          \\\"legendConfig\\\": {\\n            \\\"direction\\\": \\\"column\\\",\\n            \\\"position\\\": \\\"bottom\\\",\\n            \\\"sortDataKeys\\\": false,\\n            \\\"showMin\\\": false,\\n            \\\"showMax\\\": false,\\n            \\\"showAvg\\\": false,\\n            \\\"showTotal\\\": true\\n          }\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"e61e5477-5a09-cc25-966b-f613d81da833\\\"\\n      },\\n      \\\"85fe0738-5326-f069-ab3f-30594bde5fed\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"charts\\\",\\n        \\\"typeAlias\\\": \\\"timeseries_bars_flot\\\",\\n        \\\"type\\\": \\\"timeseries\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 8,\\n        \\\"sizeY\\\": 5,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"storageDataPointsCountHourly\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.data-points-storage-days}\\\",\\n                  \\\"color\\\": \\\"#1039ee\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": false,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.0661644137210089,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"hideInterval\\\": false,\\n            \\\"hideAggregation\\\": false,\\n            \\\"hideAggInterval\\\": false,\\n            \\\"selectedTab\\\": 1,\\n            \\\"history\\\": {\\n              \\\"historyType\\\": 0,\\n              \\\"timewindowMs\\\": 2592000000,\\n              \\\"interval\\\": 86400000\\n            },\\n            \\\"aggregation\\\": {\\n              \\\"type\\\": \\\"SUM\\\",\\n              \\\"limit\\\": 1000\\n            }\\n          },\\n          \\\"showTitle\\\": true,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"padding\\\": \\\"8px\\\",\\n          \\\"settings\\\": {\\n            \\\"shadowSize\\\": 4,\\n            \\\"fontColor\\\": \\\"#545454\\\",\\n            \\\"fontSize\\\": 10,\\n            \\\"xaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\"\\n            },\\n            \\\"yaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"min\\\": 0,\\n              \\\"tickDecimals\\\": 0,\\n              \\\"ticksFormatter\\\": \\\"var rounder = Math.pow(10, 1);\\\\nvar powers = [\\\\n  {key: 'Q', value: Math.pow(10, 15)},\\\\n  {key: 'T', value: Math.pow(10, 12)},\\\\n  {key: 'B', value: Math.pow(10, 9)},\\\\n  {key: 'M', value: Math.pow(10, 6)},\\\\n  {key: 'K', value: 1000}\\\\n];\\\\n\\\\nvar key = '';\\\\n\\\\nfor (var i = 0; i < powers.length; i++) {\\\\n    var reduced = value / powers[i].value;\\\\n    reduced = Math.round(reduced * rounder) / rounder;\\\\n    if (reduced >= 1) {\\\\n        value = reduced;\\\\n        key = powers[i].key;\\\\n        break;\\\\n    }\\\\n}\\\\nreturn value + key;\\\"\\n            },\\n            \\\"grid\\\": {\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"tickColor\\\": \\\"#DDDDDD\\\",\\n              \\\"verticalLines\\\": true,\\n              \\\"horizontalLines\\\": true,\\n              \\\"outlineWidth\\\": 1\\n            },\\n            \\\"stack\\\": false,\\n            \\\"tooltipIndividual\\\": false,\\n            \\\"defaultBarWidth\\\": 1800000,\\n            \\\"barAlignment\\\": \\\"left\\\",\\n            \\\"timeForComparison\\\": \\\"months\\\",\\n            \\\"xaxisSecond\\\": {\\n              \\\"axisPosition\\\": \\\"top\\\",\\n              \\\"showLabels\\\": true\\n            }\\n          },\\n          \\\"title\\\": \\\"{i18n:api-usage.telemetry-persistence-daily-activity}\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": true,\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"16px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"widgetStyle\\\": {},\\n          \\\"useDashboardTimewindow\\\": false,\\n          \\\"showLegend\\\": true,\\n          \\\"actions\\\": {},\\n          \\\"displayTimewindow\\\": true,\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\",\\n          \\\"legendConfig\\\": {\\n            \\\"direction\\\": \\\"column\\\",\\n            \\\"position\\\": \\\"bottom\\\",\\n            \\\"sortDataKeys\\\": false,\\n            \\\"showMin\\\": false,\\n            \\\"showMax\\\": false,\\n            \\\"showAvg\\\": false,\\n            \\\"showTotal\\\": true\\n          }\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"85fe0738-5326-f069-ab3f-30594bde5fed\\\"\\n      },\\n      \\\"eaeb381a-437e-f6e9-60c9-6bc8826fdd44\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"charts\\\",\\n        \\\"typeAlias\\\": \\\"timeseries_bars_flot\\\",\\n        \\\"type\\\": \\\"timeseries\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 8,\\n        \\\"sizeY\\\": 5,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"storageDataPointsCount\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.data-points-storage-days}\\\",\\n                  \\\"color\\\": \\\"#1039ee\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": false,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.0661644137210089,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"hideInterval\\\": false,\\n            \\\"hideAggregation\\\": false,\\n            \\\"hideAggInterval\\\": false,\\n            \\\"selectedTab\\\": 1,\\n            \\\"history\\\": {\\n              \\\"historyType\\\": 0,\\n              \\\"timewindowMs\\\": 31536000000,\\n              \\\"interval\\\": 1000\\n            },\\n            \\\"aggregation\\\": {\\n              \\\"type\\\": \\\"NONE\\\",\\n              \\\"limit\\\": 1000\\n            }\\n          },\\n          \\\"showTitle\\\": true,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"padding\\\": \\\"8px\\\",\\n          \\\"settings\\\": {\\n            \\\"shadowSize\\\": 4,\\n            \\\"fontColor\\\": \\\"#545454\\\",\\n            \\\"fontSize\\\": 10,\\n            \\\"xaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\"\\n            },\\n            \\\"yaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"min\\\": 0,\\n              \\\"tickDecimals\\\": 0,\\n              \\\"ticksFormatter\\\": \\\"var rounder = Math.pow(10, 1);\\\\nvar powers = [\\\\n  {key: 'Q', value: Math.pow(10, 15)},\\\\n  {key: 'T', value: Math.pow(10, 12)},\\\\n  {key: 'B', value: Math.pow(10, 9)},\\\\n  {key: 'M', value: Math.pow(10, 6)},\\\\n  {key: 'K', value: 1000}\\\\n];\\\\n\\\\nvar key = '';\\\\n\\\\nfor (var i = 0; i < powers.length; i++) {\\\\n    var reduced = value / powers[i].value;\\\\n    reduced = Math.round(reduced * rounder) / rounder;\\\\n    if (reduced >= 1) {\\\\n        value = reduced;\\\\n        key = powers[i].key;\\\\n        break;\\\\n    }\\\\n}\\\\nreturn value + key;\\\"\\n            },\\n            \\\"grid\\\": {\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"tickColor\\\": \\\"#DDDDDD\\\",\\n              \\\"verticalLines\\\": true,\\n              \\\"horizontalLines\\\": true,\\n              \\\"outlineWidth\\\": 1\\n            },\\n            \\\"stack\\\": false,\\n            \\\"tooltipIndividual\\\": false,\\n            \\\"defaultBarWidth\\\": 900000000,\\n            \\\"barAlignment\\\": \\\"left\\\",\\n            \\\"timeForComparison\\\": \\\"months\\\",\\n            \\\"xaxisSecond\\\": {\\n              \\\"axisPosition\\\": \\\"top\\\",\\n              \\\"showLabels\\\": true\\n            }\\n          },\\n          \\\"title\\\": \\\"{i18n:api-usage.telemetry-persistence-monthly-activity}\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": true,\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"16px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"widgetStyle\\\": {},\\n          \\\"useDashboardTimewindow\\\": false,\\n          \\\"showLegend\\\": true,\\n          \\\"actions\\\": {},\\n          \\\"displayTimewindow\\\": true,\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\",\\n          \\\"legendConfig\\\": {\\n            \\\"direction\\\": \\\"column\\\",\\n            \\\"position\\\": \\\"bottom\\\",\\n            \\\"sortDataKeys\\\": false,\\n            \\\"showMin\\\": false,\\n            \\\"showMax\\\": false,\\n            \\\"showAvg\\\": false,\\n            \\\"showTotal\\\": true\\n          }\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"eaeb381a-437e-f6e9-60c9-6bc8826fdd44\\\"\\n      },\\n      \\\"4b798823-b97d-9d6a-59dc-fcafd897fc23\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"charts\\\",\\n        \\\"typeAlias\\\": \\\"timeseries_bars_flot\\\",\\n        \\\"type\\\": \\\"timeseries\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 8,\\n        \\\"sizeY\\\": 5,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"createdAlarmsCountHourly\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.alarms-created}\\\",\\n                  \\\"color\\\": \\\"#d35a00\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": false,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"var size = radius * Math.sqrt(Math.PI) / 2;\\\\nctx.moveTo(x - size, y - size);\\\\nctx.lineTo(x + size, y + size);\\\\nctx.moveTo(x - size, y + size);\\\\nctx.lineTo(x + size, y - size);\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.0661644137210089,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"hideInterval\\\": false,\\n            \\\"hideAggregation\\\": false,\\n            \\\"hideAggInterval\\\": false,\\n            \\\"selectedTab\\\": 1,\\n            \\\"history\\\": {\\n              \\\"historyType\\\": 0,\\n              \\\"timewindowMs\\\": 2592000000,\\n              \\\"interval\\\": 86400000\\n            },\\n            \\\"aggregation\\\": {\\n              \\\"type\\\": \\\"SUM\\\",\\n              \\\"limit\\\": 1000\\n            }\\n          },\\n          \\\"showTitle\\\": true,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"padding\\\": \\\"8px\\\",\\n          \\\"settings\\\": {\\n            \\\"shadowSize\\\": 4,\\n            \\\"fontColor\\\": \\\"#545454\\\",\\n            \\\"fontSize\\\": 10,\\n            \\\"xaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\"\\n            },\\n            \\\"yaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"min\\\": 0,\\n              \\\"tickDecimals\\\": 0,\\n              \\\"ticksFormatter\\\": \\\"var rounder = Math.pow(10, 1);\\\\nvar powers = [\\\\n  {key: 'Q', value: Math.pow(10, 15)},\\\\n  {key: 'T', value: Math.pow(10, 12)},\\\\n  {key: 'B', value: Math.pow(10, 9)},\\\\n  {key: 'M', value: Math.pow(10, 6)},\\\\n  {key: 'K', value: 1000}\\\\n];\\\\n\\\\nvar key = '';\\\\n\\\\nfor (var i = 0; i < powers.length; i++) {\\\\n    var reduced = value / powers[i].value;\\\\n    reduced = Math.round(reduced * rounder) / rounder;\\\\n    if (reduced >= 1) {\\\\n        value = reduced;\\\\n        key = powers[i].key;\\\\n        break;\\\\n    }\\\\n}\\\\nreturn value + key;\\\"\\n            },\\n            \\\"grid\\\": {\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"tickColor\\\": \\\"#DDDDDD\\\",\\n              \\\"verticalLines\\\": true,\\n              \\\"horizontalLines\\\": true,\\n              \\\"outlineWidth\\\": 1\\n            },\\n            \\\"stack\\\": false,\\n            \\\"tooltipIndividual\\\": false,\\n            \\\"defaultBarWidth\\\": 1800000,\\n            \\\"barAlignment\\\": \\\"left\\\",\\n            \\\"timeForComparison\\\": \\\"months\\\",\\n            \\\"xaxisSecond\\\": {\\n              \\\"axisPosition\\\": \\\"top\\\",\\n              \\\"showLabels\\\": true\\n            }\\n          },\\n          \\\"title\\\": \\\"{i18n:api-usage.alarms-created-daily-activity}\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": true,\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"16px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"widgetStyle\\\": {},\\n          \\\"useDashboardTimewindow\\\": false,\\n          \\\"showLegend\\\": true,\\n          \\\"actions\\\": {},\\n          \\\"displayTimewindow\\\": true,\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\",\\n          \\\"legendConfig\\\": {\\n            \\\"direction\\\": \\\"column\\\",\\n            \\\"position\\\": \\\"bottom\\\",\\n            \\\"sortDataKeys\\\": false,\\n            \\\"showMin\\\": false,\\n            \\\"showMax\\\": false,\\n            \\\"showAvg\\\": false,\\n            \\\"showTotal\\\": true\\n          }\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"4b798823-b97d-9d6a-59dc-fcafd897fc23\\\"\\n      },\\n      \\\"6a981580-7490-19dd-f937-b64cbf67a982\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"charts\\\",\\n        \\\"typeAlias\\\": \\\"timeseries_bars_flot\\\",\\n        \\\"type\\\": \\\"timeseries\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 8,\\n        \\\"sizeY\\\": 5,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"createdAlarmsCount\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.alarms-created}\\\",\\n                  \\\"color\\\": \\\"#d35a00\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": false,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"var size = radius * Math.sqrt(Math.PI) / 2;\\\\nctx.moveTo(x - size, y - size);\\\\nctx.lineTo(x + size, y + size);\\\\nctx.moveTo(x - size, y + size);\\\\nctx.lineTo(x + size, y - size);\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.0661644137210089,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"hideInterval\\\": false,\\n            \\\"hideAggregation\\\": false,\\n            \\\"hideAggInterval\\\": false,\\n            \\\"selectedTab\\\": 1,\\n            \\\"history\\\": {\\n              \\\"historyType\\\": 0,\\n              \\\"timewindowMs\\\": 31536000000,\\n              \\\"interval\\\": 1000\\n            },\\n            \\\"aggregation\\\": {\\n              \\\"type\\\": \\\"NONE\\\",\\n              \\\"limit\\\": 1000\\n            }\\n          },\\n          \\\"showTitle\\\": true,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"padding\\\": \\\"8px\\\",\\n          \\\"settings\\\": {\\n            \\\"shadowSize\\\": 4,\\n            \\\"fontColor\\\": \\\"#545454\\\",\\n            \\\"fontSize\\\": 10,\\n            \\\"xaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\"\\n            },\\n            \\\"yaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"min\\\": 0,\\n              \\\"tickDecimals\\\": 0,\\n              \\\"ticksFormatter\\\": \\\"var rounder = Math.pow(10, 1);\\\\nvar powers = [\\\\n  {key: 'Q', value: Math.pow(10, 15)},\\\\n  {key: 'T', value: Math.pow(10, 12)},\\\\n  {key: 'B', value: Math.pow(10, 9)},\\\\n  {key: 'M', value: Math.pow(10, 6)},\\\\n  {key: 'K', value: 1000}\\\\n];\\\\n\\\\nvar key = '';\\\\n\\\\nfor (var i = 0; i < powers.length; i++) {\\\\n    var reduced = value / powers[i].value;\\\\n    reduced = Math.round(reduced * rounder) / rounder;\\\\n    if (reduced >= 1) {\\\\n        value = reduced;\\\\n        key = powers[i].key;\\\\n        break;\\\\n    }\\\\n}\\\\nreturn value + key;\\\"\\n            },\\n            \\\"grid\\\": {\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"tickColor\\\": \\\"#DDDDDD\\\",\\n              \\\"verticalLines\\\": true,\\n              \\\"horizontalLines\\\": true,\\n              \\\"outlineWidth\\\": 1\\n            },\\n            \\\"stack\\\": false,\\n            \\\"tooltipIndividual\\\": false,\\n            \\\"defaultBarWidth\\\": 900000000,\\n            \\\"barAlignment\\\": \\\"left\\\",\\n            \\\"timeForComparison\\\": \\\"months\\\",\\n            \\\"xaxisSecond\\\": {\\n              \\\"axisPosition\\\": \\\"top\\\",\\n              \\\"showLabels\\\": true\\n            }\\n          },\\n          \\\"title\\\": \\\"{i18n:api-usage.alarms-created-monthly-activity}\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": true,\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"16px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"widgetStyle\\\": {},\\n          \\\"useDashboardTimewindow\\\": false,\\n          \\\"showLegend\\\": true,\\n          \\\"actions\\\": {},\\n          \\\"displayTimewindow\\\": true,\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\",\\n          \\\"legendConfig\\\": {\\n            \\\"direction\\\": \\\"column\\\",\\n            \\\"position\\\": \\\"bottom\\\",\\n            \\\"sortDataKeys\\\": false,\\n            \\\"showMin\\\": false,\\n            \\\"showMax\\\": false,\\n            \\\"showAvg\\\": false,\\n            \\\"showTotal\\\": true\\n          }\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"6a981580-7490-19dd-f937-b64cbf67a982\\\"\\n      },\\n      \\\"7302df65-1b0c-579e-bbdb-145126ae3392\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"charts\\\",\\n        \\\"typeAlias\\\": \\\"timeseries_bars_flot\\\",\\n        \\\"type\\\": \\\"timeseries\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 8,\\n        \\\"sizeY\\\": 5,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"smsCountHourly\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.sms-messages}\\\",\\n                  \\\"color\\\": \\\"#f36021\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": false,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.0661644137210089,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"hideInterval\\\": false,\\n            \\\"hideAggregation\\\": false,\\n            \\\"hideAggInterval\\\": false,\\n            \\\"selectedTab\\\": 1,\\n            \\\"history\\\": {\\n              \\\"historyType\\\": 0,\\n              \\\"timewindowMs\\\": 2592000000,\\n              \\\"interval\\\": 86400000\\n            },\\n            \\\"aggregation\\\": {\\n              \\\"type\\\": \\\"SUM\\\",\\n              \\\"limit\\\": 1000\\n            }\\n          },\\n          \\\"showTitle\\\": true,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"padding\\\": \\\"8px\\\",\\n          \\\"settings\\\": {\\n            \\\"shadowSize\\\": 4,\\n            \\\"fontColor\\\": \\\"#545454\\\",\\n            \\\"fontSize\\\": 10,\\n            \\\"xaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\"\\n            },\\n            \\\"yaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"min\\\": 0,\\n              \\\"tickDecimals\\\": 0,\\n              \\\"ticksFormatter\\\": \\\"var rounder = Math.pow(10, 1);\\\\nvar powers = [\\\\n  {key: 'Q', value: Math.pow(10, 15)},\\\\n  {key: 'T', value: Math.pow(10, 12)},\\\\n  {key: 'B', value: Math.pow(10, 9)},\\\\n  {key: 'M', value: Math.pow(10, 6)},\\\\n  {key: 'K', value: 1000}\\\\n];\\\\n\\\\nvar key = '';\\\\n\\\\nfor (var i = 0; i < powers.length; i++) {\\\\n    var reduced = value / powers[i].value;\\\\n    reduced = Math.round(reduced * rounder) / rounder;\\\\n    if (reduced >= 1) {\\\\n        value = reduced;\\\\n        key = powers[i].key;\\\\n        break;\\\\n    }\\\\n}\\\\nreturn value + key;\\\"\\n            },\\n            \\\"grid\\\": {\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"tickColor\\\": \\\"#DDDDDD\\\",\\n              \\\"verticalLines\\\": true,\\n              \\\"horizontalLines\\\": true,\\n              \\\"outlineWidth\\\": 1\\n            },\\n            \\\"stack\\\": false,\\n            \\\"tooltipIndividual\\\": false,\\n            \\\"defaultBarWidth\\\": 1800000,\\n            \\\"barAlignment\\\": \\\"left\\\",\\n            \\\"timeForComparison\\\": \\\"months\\\",\\n            \\\"xaxisSecond\\\": {\\n              \\\"axisPosition\\\": \\\"top\\\",\\n              \\\"showLabels\\\": true\\n            }\\n          },\\n          \\\"title\\\": \\\"{i18n:api-usage.sms-messages-daily-activity}\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": true,\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"16px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"widgetStyle\\\": {},\\n          \\\"useDashboardTimewindow\\\": false,\\n          \\\"showLegend\\\": true,\\n          \\\"actions\\\": {},\\n          \\\"displayTimewindow\\\": true,\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\",\\n          \\\"legendConfig\\\": {\\n            \\\"direction\\\": \\\"column\\\",\\n            \\\"position\\\": \\\"bottom\\\",\\n            \\\"sortDataKeys\\\": false,\\n            \\\"showMin\\\": false,\\n            \\\"showMax\\\": false,\\n            \\\"showAvg\\\": false,\\n            \\\"showTotal\\\": true\\n          }\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"7302df65-1b0c-579e-bbdb-145126ae3392\\\"\\n      },\\n      \\\"fdb385e7-14fe-fc9f-ebdc-b400f26fc66b\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"charts\\\",\\n        \\\"typeAlias\\\": \\\"timeseries_bars_flot\\\",\\n        \\\"type\\\": \\\"timeseries\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 8,\\n        \\\"sizeY\\\": 5,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"smsCount\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.sms-messages}\\\",\\n                  \\\"color\\\": \\\"#f36021\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": false,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.0661644137210089,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"hideInterval\\\": false,\\n            \\\"hideAggregation\\\": false,\\n            \\\"hideAggInterval\\\": false,\\n            \\\"selectedTab\\\": 1,\\n            \\\"history\\\": {\\n              \\\"historyType\\\": 0,\\n              \\\"timewindowMs\\\": 31536000000,\\n              \\\"interval\\\": 1000\\n            },\\n            \\\"aggregation\\\": {\\n              \\\"type\\\": \\\"NONE\\\",\\n              \\\"limit\\\": 1000\\n            }\\n          },\\n          \\\"showTitle\\\": true,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"padding\\\": \\\"8px\\\",\\n          \\\"settings\\\": {\\n            \\\"shadowSize\\\": 4,\\n            \\\"fontColor\\\": \\\"#545454\\\",\\n            \\\"fontSize\\\": 10,\\n            \\\"xaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\"\\n            },\\n            \\\"yaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"min\\\": 0,\\n              \\\"tickDecimals\\\": 0,\\n              \\\"ticksFormatter\\\": \\\"var rounder = Math.pow(10, 1);\\\\nvar powers = [\\\\n  {key: 'Q', value: Math.pow(10, 15)},\\\\n  {key: 'T', value: Math.pow(10, 12)},\\\\n  {key: 'B', value: Math.pow(10, 9)},\\\\n  {key: 'M', value: Math.pow(10, 6)},\\\\n  {key: 'K', value: 1000}\\\\n];\\\\n\\\\nvar key = '';\\\\n\\\\nfor (var i = 0; i < powers.length; i++) {\\\\n    var reduced = value / powers[i].value;\\\\n    reduced = Math.round(reduced * rounder) / rounder;\\\\n    if (reduced >= 1) {\\\\n        value = reduced;\\\\n        key = powers[i].key;\\\\n        break;\\\\n    }\\\\n}\\\\nreturn value + key;\\\"\\n            },\\n            \\\"grid\\\": {\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"tickColor\\\": \\\"#DDDDDD\\\",\\n              \\\"verticalLines\\\": true,\\n              \\\"horizontalLines\\\": true,\\n              \\\"outlineWidth\\\": 1\\n            },\\n            \\\"stack\\\": false,\\n            \\\"tooltipIndividual\\\": false,\\n            \\\"defaultBarWidth\\\": 900000000,\\n            \\\"barAlignment\\\": \\\"left\\\",\\n            \\\"timeForComparison\\\": \\\"months\\\",\\n            \\\"xaxisSecond\\\": {\\n              \\\"axisPosition\\\": \\\"top\\\",\\n              \\\"showLabels\\\": true\\n            }\\n          },\\n          \\\"title\\\": \\\"{i18n:api-usage.sms-messages-monthly-activity}\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": true,\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"16px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"widgetStyle\\\": {},\\n          \\\"useDashboardTimewindow\\\": false,\\n          \\\"showLegend\\\": true,\\n          \\\"actions\\\": {},\\n          \\\"displayTimewindow\\\": true,\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\",\\n          \\\"legendConfig\\\": {\\n            \\\"direction\\\": \\\"column\\\",\\n            \\\"position\\\": \\\"bottom\\\",\\n            \\\"sortDataKeys\\\": false,\\n            \\\"showMin\\\": false,\\n            \\\"showMax\\\": false,\\n            \\\"showAvg\\\": false,\\n            \\\"showTotal\\\": true\\n          }\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"fdb385e7-14fe-fc9f-ebdc-b400f26fc66b\\\"\\n      },\\n      \\\"2408ad30-163e-8221-08e1-a82b638be564\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"charts\\\",\\n        \\\"typeAlias\\\": \\\"basic_timeseries\\\",\\n        \\\"type\\\": \\\"timeseries\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 12,\\n        \\\"sizeY\\\": 7,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"successfulMsgs\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.successful}\\\",\\n                  \\\"color\\\": \\\"#4caf50\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": true,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.15490750967648736\\n                },\\n                {\\n                  \\\"name\\\": \\\"failedMsgs\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.permanent-failures}\\\",\\n                  \\\"color\\\": \\\"#ef5350\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": true,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.4186621166514697\\n                },\\n                {\\n                  \\\"name\\\": \\\"tmpFailed\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.processing-failures}\\\",\\n                  \\\"color\\\": \\\"#ffc107\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": true,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.49891007198715376\\n                }\\n              ],\\n              \\\"entityAliasId\\\": \\\"2e4c97b0-257a-a1b9-690c-141d9bf2ec6f\\\"\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"hideInterval\\\": false,\\n            \\\"hideAggregation\\\": false,\\n            \\\"hideAggInterval\\\": false,\\n            \\\"selectedTab\\\": 0,\\n            \\\"realtime\\\": {\\n              \\\"timewindowMs\\\": 3600000,\\n              \\\"interval\\\": 1000\\n            },\\n            \\\"aggregation\\\": {\\n              \\\"type\\\": \\\"NONE\\\",\\n              \\\"limit\\\": 10000\\n            }\\n          },\\n          \\\"showTitle\\\": true,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"padding\\\": \\\"8px\\\",\\n          \\\"settings\\\": {\\n            \\\"shadowSize\\\": 4,\\n            \\\"fontColor\\\": \\\"#545454\\\",\\n            \\\"fontSize\\\": 10,\\n            \\\"xaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\"\\n            },\\n            \\\"yaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"min\\\": 0,\\n              \\\"tickDecimals\\\": 0,\\n              \\\"ticksFormatter\\\": \\\"var rounder = Math.pow(10, 1);\\\\nvar powers = [\\\\n  {key: 'Q', value: Math.pow(10, 15)},\\\\n  {key: 'T', value: Math.pow(10, 12)},\\\\n  {key: 'B', value: Math.pow(10, 9)},\\\\n  {key: 'M', value: Math.pow(10, 6)},\\\\n  {key: 'K', value: 1000}\\\\n];\\\\n\\\\nvar key = '';\\\\n\\\\nfor (var i = 0; i < powers.length; i++) {\\\\n    var reduced = value / powers[i].value;\\\\n    reduced = Math.round(reduced * rounder) / rounder;\\\\n    if (reduced >= 1) {\\\\n        value = reduced;\\\\n        key = powers[i].key;\\\\n        break;\\\\n    }\\\\n}\\\\nreturn value + key;\\\"\\n            },\\n            \\\"grid\\\": {\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"tickColor\\\": \\\"#DDDDDD\\\",\\n              \\\"verticalLines\\\": true,\\n              \\\"horizontalLines\\\": true,\\n              \\\"outlineWidth\\\": 1\\n            },\\n            \\\"stack\\\": false,\\n            \\\"tooltipIndividual\\\": false,\\n            \\\"timeForComparison\\\": \\\"months\\\",\\n            \\\"xaxisSecond\\\": {\\n              \\\"axisPosition\\\": \\\"top\\\",\\n              \\\"showLabels\\\": true\\n            }\\n          },\\n          \\\"title\\\": \\\"Queue Stats\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": true,\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"16px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"mobileHeight\\\": null,\\n          \\\"showTitleIcon\\\": false,\\n          \\\"titleIcon\\\": null,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\",\\n          \\\"widgetStyle\\\": {},\\n          \\\"useDashboardTimewindow\\\": false,\\n          \\\"displayTimewindow\\\": true,\\n          \\\"showLegend\\\": true,\\n          \\\"actions\\\": {},\\n          \\\"legendConfig\\\": {\\n            \\\"direction\\\": \\\"column\\\",\\n            \\\"position\\\": \\\"bottom\\\",\\n            \\\"showMin\\\": true,\\n            \\\"showMax\\\": true,\\n            \\\"showAvg\\\": false,\\n            \\\"showTotal\\\": true\\n          }\\n        },\\n        \\\"id\\\": \\\"2408ad30-163e-8221-08e1-a82b638be564\\\"\\n      },\\n      \\\"e43dcfe1-b970-6a11-ce0e-5769f3eb5e88\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"charts\\\",\\n        \\\"typeAlias\\\": \\\"basic_timeseries\\\",\\n        \\\"type\\\": \\\"timeseries\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 12,\\n        \\\"sizeY\\\": 7,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"timeoutMsgs\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.permanent-timeouts}\\\",\\n                  \\\"color\\\": \\\"#4caf50\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": true,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.565222981550328\\n                },\\n                {\\n                  \\\"name\\\": \\\"tmpTimeout\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.processing-timeouts}\\\",\\n                  \\\"color\\\": \\\"#9c27b0\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": true,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.2679547062508352\\n                }\\n              ],\\n              \\\"entityAliasId\\\": \\\"2e4c97b0-257a-a1b9-690c-141d9bf2ec6f\\\"\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"hideInterval\\\": false,\\n            \\\"hideAggregation\\\": false,\\n            \\\"hideAggInterval\\\": false,\\n            \\\"selectedTab\\\": 0,\\n            \\\"realtime\\\": {\\n              \\\"timewindowMs\\\": 3600000,\\n              \\\"interval\\\": 1000\\n            },\\n            \\\"aggregation\\\": {\\n              \\\"type\\\": \\\"NONE\\\",\\n              \\\"limit\\\": 10000\\n            }\\n          },\\n          \\\"showTitle\\\": true,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"padding\\\": \\\"8px\\\",\\n          \\\"settings\\\": {\\n            \\\"shadowSize\\\": 4,\\n            \\\"fontColor\\\": \\\"#545454\\\",\\n            \\\"fontSize\\\": 10,\\n            \\\"xaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\"\\n            },\\n            \\\"yaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"min\\\": 0,\\n              \\\"tickDecimals\\\": 0,\\n              \\\"ticksFormatter\\\": \\\"var rounder = Math.pow(10, 1);\\\\nvar powers = [\\\\n  {key: 'Q', value: Math.pow(10, 15)},\\\\n  {key: 'T', value: Math.pow(10, 12)},\\\\n  {key: 'B', value: Math.pow(10, 9)},\\\\n  {key: 'M', value: Math.pow(10, 6)},\\\\n  {key: 'K', value: 1000}\\\\n];\\\\n\\\\nvar key = '';\\\\n\\\\nfor (var i = 0; i < powers.length; i++) {\\\\n    var reduced = value / powers[i].value;\\\\n    reduced = Math.round(reduced * rounder) / rounder;\\\\n    if (reduced >= 1) {\\\\n        value = reduced;\\\\n        key = powers[i].key;\\\\n        break;\\\\n    }\\\\n}\\\\nreturn value + key;\\\"\\n            },\\n            \\\"grid\\\": {\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"tickColor\\\": \\\"#DDDDDD\\\",\\n              \\\"verticalLines\\\": true,\\n              \\\"horizontalLines\\\": true,\\n              \\\"outlineWidth\\\": 1\\n            },\\n            \\\"stack\\\": false,\\n            \\\"tooltipIndividual\\\": false,\\n            \\\"timeForComparison\\\": \\\"months\\\",\\n            \\\"xaxisSecond\\\": {\\n              \\\"axisPosition\\\": \\\"top\\\",\\n              \\\"showLabels\\\": true\\n            }\\n          },\\n          \\\"title\\\": \\\"Processing Failures and Timeouts\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": true,\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"16px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"mobileHeight\\\": null,\\n          \\\"showTitleIcon\\\": false,\\n          \\\"titleIcon\\\": null,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\",\\n          \\\"widgetStyle\\\": {},\\n          \\\"useDashboardTimewindow\\\": false,\\n          \\\"displayTimewindow\\\": true,\\n          \\\"showLegend\\\": true,\\n          \\\"actions\\\": {},\\n          \\\"legendConfig\\\": {\\n            \\\"direction\\\": \\\"column\\\",\\n            \\\"position\\\": \\\"bottom\\\",\\n            \\\"showMin\\\": true,\\n            \\\"showMax\\\": true,\\n            \\\"showAvg\\\": false,\\n            \\\"showTotal\\\": true\\n          }\\n        },\\n        \\\"id\\\": \\\"e43dcfe1-b970-6a11-ce0e-5769f3eb5e88\\\"\\n      },\\n      \\\"a669cf86-e715-efa4-dd9a-b839abf499e9\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"cards\\\",\\n        \\\"typeAlias\\\": \\\"timeseries_table\\\",\\n        \\\"type\\\": \\\"timeseries\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 24,\\n        \\\"sizeY\\\": 5,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"ruleEngineException\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"Rule Chain\\\",\\n                  \\\"color\\\": \\\"#2196f3\\\",\\n                  \\\"settings\\\": {\\n                    \\\"useCellStyleFunction\\\": false,\\n                    \\\"useCellContentFunction\\\": true,\\n                    \\\"cellContentFunction\\\": \\\"return JSON.parse(value).ruleChainName;\\\"\\n                  },\\n                  \\\"_hash\\\": 0.9954481282345906\\n                },\\n                {\\n                  \\\"name\\\": \\\"ruleEngineException\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"Rule Node\\\",\\n                  \\\"color\\\": \\\"#4caf50\\\",\\n                  \\\"settings\\\": {\\n                    \\\"useCellStyleFunction\\\": false,\\n                    \\\"useCellContentFunction\\\": true,\\n                    \\\"cellContentFunction\\\": \\\"return JSON.parse(value).ruleNodeName;\\\"\\n                  },\\n                  \\\"_hash\\\": 0.18580357036589978\\n                },\\n                {\\n                  \\\"name\\\": \\\"ruleEngineException\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"Latest Error\\\",\\n                  \\\"color\\\": \\\"#f44336\\\",\\n                  \\\"settings\\\": {\\n                    \\\"useCellStyleFunction\\\": false,\\n                    \\\"useCellContentFunction\\\": true,\\n                    \\\"cellContentFunction\\\": \\\"return JSON.parse(value).message;\\\"\\n                  },\\n                  \\\"_hash\\\": 0.7255162989552142\\n                }\\n              ],\\n              \\\"entityAliasId\\\": \\\"2e4c97b0-257a-a1b9-690c-141d9bf2ec6f\\\"\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"hideInterval\\\": false,\\n            \\\"hideAggregation\\\": false,\\n            \\\"hideAggInterval\\\": false,\\n            \\\"selectedTab\\\": 0,\\n            \\\"realtime\\\": {\\n              \\\"timewindowMs\\\": 2592000000,\\n              \\\"interval\\\": 1000\\n            },\\n            \\\"aggregation\\\": {\\n              \\\"type\\\": \\\"NONE\\\",\\n              \\\"limit\\\": 1000\\n            }\\n          },\\n          \\\"showTitle\\\": true,\\n          \\\"backgroundColor\\\": \\\"rgb(255, 255, 255)\\\",\\n          \\\"color\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"padding\\\": \\\"8px\\\",\\n          \\\"settings\\\": {\\n            \\\"showTimestamp\\\": true,\\n            \\\"displayPagination\\\": true,\\n            \\\"defaultPageSize\\\": 10\\n          },\\n          \\\"title\\\": \\\"Exceptions\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": true,\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"16px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"useDashboardTimewindow\\\": false,\\n          \\\"showLegend\\\": false,\\n          \\\"widgetStyle\\\": {},\\n          \\\"actions\\\": {},\\n          \\\"showTitleIcon\\\": false,\\n          \\\"titleIcon\\\": null,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\",\\n          \\\"displayTimewindow\\\": true\\n        },\\n        \\\"id\\\": \\\"a669cf86-e715-efa4-dd9a-b839abf499e9\\\"\\n      },\\n      \\\"292eaded-4775-36f7-c896-98d57bdda936\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"cards\\\",\\n        \\\"typeAlias\\\": \\\"html_value_card\\\",\\n        \\\"type\\\": \\\"latest\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 7.5,\\n        \\\"sizeY\\\": 3,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"emailApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"apiState\\\",\\n                  \\\"color\\\": \\\"#2196f3\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.8830669138660703,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"emailLimit\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"limit\\\",\\n                  \\\"color\\\": \\\"#4caf50\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.5463603803546802,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"emailCount\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"count\\\",\\n                  \\\"color\\\": \\\"#f44336\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.5564241862015964,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"transportApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"cardId\\\",\\n                  \\\"color\\\": \\\"#607d8b\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.051659774305067296,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": true,\\n                  \\\"postFuncBody\\\": \\\"return (Math.random()*100000).toFixed(0);\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"smsApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"apiStatePoint\\\",\\n                  \\\"color\\\": \\\"#e91e63\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.2969682764607864,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"smsLimit\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"pointsLimit\\\",\\n                  \\\"color\\\": \\\"#9c27b0\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.22082255831864894,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"smsCount\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"pointsCount\\\",\\n                  \\\"color\\\": \\\"#8bc34a\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.6340356364819146,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                },\\n                {\\n                  \\\"name\\\": \\\"transportApiState\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"title\\\",\\n                  \\\"color\\\": \\\"#3f51b5\\\",\\n                  \\\"settings\\\": {},\\n                  \\\"_hash\\\": 0.6894070537030252,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": true,\\n                  \\\"postFuncBody\\\": \\\"return \\\\\\\"{i18n:api-usage.notifications}\\\\\\\";\\\"\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"realtime\\\": {\\n              \\\"timewindowMs\\\": 60000\\n            }\\n          },\\n          \\\"showTitle\\\": false,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"#666666\\\",\\n          \\\"padding\\\": \\\"0\\\",\\n          \\\"settings\\\": {\\n            \\\"cardCss\\\": \\\".card {\\\\n   width: 100%;\\\\n   height: 100%;\\\\n   box-sizing: border-box;\\\\n   display: flex;\\\\n   flex-direction: column;\\\\n}\\\\n\\\\n.card > img {\\\\n    height: 0;\\\\n}\\\\n\\\\n.card .content {\\\\n   flex: 1;    \\\\n   padding: 13px 13px 0;\\\\n   display: flex;\\\\n   box-sizing: border-box;\\\\n}\\\\n\\\\n.card .content .column {\\\\n   display: flex;\\\\n   flex-direction: column;    \\\\n   justify-content: space-around;\\\\n   flex: 1;\\\\n}\\\\n\\\\n.card .content .title-row {\\\\n    display: flex;\\\\n    flex-direction: row;\\\\n    padding-bottom: 10px;\\\\n}\\\\n\\\\n.card .title {\\\\n    flex: 1;\\\\n    font-size: 20px;\\\\n    font-weight: 400;\\\\n    color: #666666;\\\\n}\\\\n\\\\n.card .state {\\\\n    text-transform: uppercase;\\\\n    font-size: 20px;\\\\n    font-weight: bold;\\\\n}\\\\n\\\\n.card.enabled .state {\\\\n    color: #00B260;\\\\n}\\\\n\\\\n.card.warning .state {\\\\n    color: #FFAD6F;\\\\n}\\\\n\\\\n.card.disabled .state {\\\\n    color: #F73243;\\\\n}\\\\n\\\\n.card .bars-row {\\\\n    flex: 1;\\\\n    display: flex;\\\\n    flex-direction: row;\\\\n}\\\\n\\\\n.card .bar-column {\\\\n    flex: 1;\\\\n    display: flex;\\\\n    flex-direction: column;\\\\n}\\\\n\\\\n.card .bar-container {\\\\n    flex: 1;\\\\n    display: flex;\\\\n    flex-direction: column;\\\\n    justify-content: center;\\\\n}\\\\n\\\\n.card .bar {\\\\n    flex: 1;\\\\n    max-height: 30px;\\\\n    margin-top: 3.5px;\\\\n    margin-bottom: 4px;\\\\n    background-color: #F0F0F0;\\\\n    border: 1px solid #DADCDB;\\\\n    border-radius: 2px;\\\\n    box-shadow: inset 0 1px 3px rgba(0, 0, 0, .2);\\\\n}\\\\n\\\\n.card.enabled .bar {\\\\n    border-color: #00B260;\\\\n    background-color: #F0FBF7;\\\\n}\\\\n\\\\n.card.warning .bar {\\\\n    border-color: #FFAD6F;\\\\n    background-color: #FFFAF6;\\\\n}\\\\n\\\\n.card.disabled .bar {\\\\n    border-color: #F73243;\\\\n    background-color: #FFF0F0;\\\\n}\\\\n\\\\n.card .bar .bar-fill {\\\\n    background-color: #F0F0F0;\\\\n    border-radius: 2px;\\\\n    height: 100%;\\\\n    width: 0%;\\\\n}\\\\n\\\\n.card.enabled .bar-fill {\\\\n    background-color: #00C46C;\\\\n}\\\\n\\\\n.card.warning .bar-fill {\\\\n    background-color: #FFD099;\\\\n}\\\\n\\\\n.card.disabled .bar-fill {\\\\n    background-color: #FF9494;\\\\n}\\\\n\\\\n.card .bar-labels {\\\\n    height: 20px;\\\\n    font-size: 16px;\\\\n    color: #666;\\\\n    display: flex;\\\\n    flex-direction: row;\\\\n}\\\\n\\\\n.card .mat-button {\\\\n    text-transform: uppercase;\\\\n    white-space: nowrap;\\\\n    overflow: hidden;\\\\n    text-overflow: ellipsis;\\\\n}\\\\n.card .mat-button-wrapper {\\\\n    pointer-events: none;\\\\n}\\\\n\\\\n.card .action-row {\\\\n    display: flex;\\\\n    flex-direction: row;\\\\n    justify-content: flex-end;\\\\n    padding: 8px 0;\\\\n}\\\\n\\\\n\\\\n@media screen and (min-width: 960px) and (max-width: 1279px) {\\\\n  .card .title {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .state {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .unit {\\\\n      font-size: 8px;\\\\n  }\\\\n  .card .bar-labels {\\\\n      font-size: 6px;\\\\n  }\\\\n  .card .mat-button {\\\\n      font-size: 8px;\\\\n  }\\\\n  .card .action-row {\\\\n      padding: 0;\\\\n  }\\\\n}\\\\n\\\\n@media screen and (min-width: 1280px) and (max-width: 1599px) {\\\\n  .card .title {\\\\n      font-size: 14px;\\\\n  }\\\\n  .card .state {\\\\n      font-size: 14px;\\\\n  }\\\\n  .card .unit {\\\\n      font-size: 10px;\\\\n  }\\\\n  .card .bar-labels {\\\\n      font-size: 8px;\\\\n  }\\\\n  .card .mat-button {\\\\n      font-size: 10px;\\\\n  }\\\\n  .card .action-row {\\\\n      padding: 0;\\\\n  }\\\\n}\\\\n\\\\n@media screen and (min-width: 1600px) and (max-width: 1919px) {\\\\n  .card .title {\\\\n      font-size: 16px;\\\\n  }\\\\n  .card .state {\\\\n      font-size: 16px;\\\\n  }\\\\n  .card .unit {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .bar-labels {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .mat-button {\\\\n      font-size: 12px;\\\\n  }\\\\n  .card .action-row {\\\\n      padding: 0;\\\\n  }\\\\n}    \\\\n\\\\n\\\",\\n            \\\"cardHtml\\\": \\\"<div class='card'>\\\\n    <img src=\\\\\\\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\\\\\\\" onload=\\\\\\\"initializeCard_${cardId:0}(event);\\\\\\\">\\\\n    <script type=\\\\\\\"text/javascript\\\\\\\">\\\\n        function initializeCard_${cardId:0}(e) {\\\\n\\\\n            function toShortNumber(number) {\\\\n                var rounder = Math.pow(10, 1);\\\\n                var powers = [\\\\n                    {key: 'Q', value: Math.pow(10, 15)},\\\\n                    {key: 'T', value: Math.pow(10, 12)},\\\\n                    {key: 'B', value: Math.pow(10, 9)},\\\\n                    {key: 'M', value: Math.pow(10, 6)},\\\\n                    {key: 'K', value: 1000}\\\\n                ];\\\\n\\\\n                var key = '';\\\\n\\\\n                for (var i = 0; i < powers.length; i++) {\\\\n                    var reduced = number / powers[i].value;\\\\n                    reduced = Math.round(reduced * rounder) / rounder;\\\\n                    if (reduced >= 1) {\\\\n                        number = reduced;\\\\n                        key = powers[i].key;\\\\n                        break;\\\\n                    }\\\\n                }\\\\n                return number + key;\\\\n            }\\\\n\\\\n            var imgTag = e.target;\\\\n            var parentTag = imgTag.parentNode;\\\\n            var count = \\\\\\\"${count:0}\\\\\\\";\\\\n            var limit = \\\\\\\"${limit:0}\\\\\\\";\\\\n            count = count.length > 0 ? parseInt(count, 10) : 0;\\\\n            limit = limit.length > 0 ? parseInt(limit, 10) : 0;\\\\n            var percentElement = $('#api-usage-percent', parentTag);\\\\n            var valueElement = $('#api-usage-value', parentTag);\\\\n            var barElement = $('#api-usage-bar', parentTag);\\\\n            if (Number.isFinite(limit) && limit > 0) {\\\\n                var percent = Math.min(100, ((count / limit) * 100));\\\\n                barElement.width(percent + '%');\\\\n                percent = percent.toFixed(2);\\\\n                percentElement.text(percent + '%');\\\\n                valueElement.text(toShortNumber(count) + ' / ' + toShortNumber(limit));\\\\n            } else {\\\\n                barElement.width('0%');\\\\n                percentElement.text('');\\\\n                valueElement.text(toShortNumber(count) + ' / ∞');\\\\n            }\\\\n            var pointsCount = \\\\\\\"${pointsCount:0}\\\\\\\";\\\\n            var pointsLimit = \\\\\\\"${pointsLimit:0}\\\\\\\";\\\\n            pointsCount = pointsCount.length > 0 ? parseInt(pointsCount, 10) : 0;\\\\n            pointsLimit = pointsLimit.length > 0 ? parseInt(pointsLimit, 10) : 0;\\\\n            var pointsPercentElement = $('#api-usage-percent2', parentTag);\\\\n            var pointsValueElement = $('#api-usage-value2', parentTag);\\\\n            var pointsBarElement = $('#api-usage-bar2', parentTag);\\\\n            if (Number.isFinite(pointsLimit) && pointsLimit > 0) {\\\\n                var percent = Math.min(100, ((pointsCount / pointsLimit) * 100));\\\\n                pointsBarElement.width(percent + '%');\\\\n                percent = percent.toFixed(2);\\\\n                pointsPercentElement.text(percent + '%');\\\\n                pointsValueElement.text(toShortNumber(pointsCount) + ' / ' + toShortNumber(pointsLimit));\\\\n            } else {\\\\n                pointsBarElement.width('0%');\\\\n                pointsPercentElement.text('');\\\\n                pointsValueElement.text(toShortNumber(pointsCount) + ' / ∞');\\\\n            }\\\\n            var apiState = \\\\\\\"${apiState}\\\\\\\";\\\\n            var apiStatePoint = \\\\\\\"${apiStatePoint}\\\\\\\";\\\\n            var currentState;\\\\n            if (apiState === 'DISABLED' || apiStatePoint === 'DISABLED') {\\\\n                currentState = 'DISABLED';\\\\n            } else if (apiState === 'WARNING' || apiStatePoint === 'WARNING') {\\\\n                currentState = 'WARNING';\\\\n            } else {\\\\n                currentState = 'ENABLED';\\\\n            }\\\\n            var stateTitle = $('#api-state', parentTag);\\\\n            stateTitle.text(currentState);\\\\n            parentTag.classList.add(currentState.toLowerCase());\\\\n        }\\\\n    </script>\\\\n    <div class='content'>\\\\n        <div class='column'>\\\\n            <div class='title-row'>\\\\n                <div class='title'>\\\\n                    <span>${title}</span>\\\\n                </div>\\\\n                <div id=\\\\\\\"api-state\\\\\\\" class='state'></div>\\\\n            </div>\\\\n            <div class=\\\\\\\"bars-row\\\\\\\">\\\\n                <div class=\\\\\\\"bar-column\\\\\\\" style=\\\\\\\"margin-right: 10px;\\\\\\\">\\\\n                    <div class='bar-container'>\\\\n                        <div class=\\\\\\\"unit\\\\\\\">{i18n:api-usage.email}</div>\\\\n                        <div class='bar'>\\\\n                            <div class=\\\\\\\"bar-fill\\\\\\\" id=\\\\\\\"api-usage-bar\\\\\\\"></div>\\\\n                        </div>\\\\n                        <div class='bar-labels'>\\\\n                            <div id=\\\\\\\"api-usage-percent\\\\\\\"></div>\\\\n                            <div style=\\\\\\\"flex: 1;\\\\\\\"></div>\\\\n                            <div id=\\\\\\\"api-usage-value\\\\\\\"></div>\\\\n                        </div>\\\\n                    </div>\\\\n                </div>\\\\n                <div class=\\\\\\\"bar-column\\\\\\\" style=\\\\\\\"margin-left: 10px;\\\\\\\">\\\\n                    <div class='bar-container'>\\\\n                        <div class=\\\\\\\"unit\\\\\\\">{i18n:api-usage.sms}</div>\\\\n                        <div class='bar'>\\\\n                            <div class=\\\\\\\"bar-fill\\\\\\\" id=\\\\\\\"api-usage-bar2\\\\\\\"></div>\\\\n                        </div>\\\\n                        <div class='bar-labels'>\\\\n                            <div id=\\\\\\\"api-usage-percent2\\\\\\\"></div>\\\\n                            <div style=\\\\\\\"flex: 1;\\\\\\\"></div>\\\\n                            <div id=\\\\\\\"api-usage-value2\\\\\\\"></div>\\\\n                        </div>\\\\n                    </div>\\\\n                </div>\\\\n            </div>\\\\n        </div>\\\\n    </div>\\\\n    <div role=\\\\\\\"separator\\\\\\\" class=\\\\\\\"mat-divider mat-divider-horizontal\\\\\\\" aria-orientation=\\\\\\\"horizontal\\\\\\\"></div>\\\\n    <div class='action-row'>\\\\n        <button id=\\\\\\\"transport_details\\\\\\\" class=\\\\\\\"mat-focus-indicator mat-button mat-button-base mat-primary\\\\\\\">\\\\n            <span class=\\\\\\\"mat-button-wrapper\\\\\\\">{i18n:api-usage.view-details}</span>\\\\n            <span class=\\\\\\\"mat-ripple mat-button-ripple\\\\\\\"></span>\\\\n            <span class=\\\\\\\"mat-button-focus-overlay\\\\\\\"></span>\\\\n        </button>\\\\n    </div>\\\\n</div>\\\"\\n          },\\n          \\\"title\\\": \\\"Notifications (Email/SMS)\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": false,\\n          \\\"widgetStyle\\\": {\\n            \\\"cursor\\\": \\\"default\\\"\\n          },\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"20px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"useDashboardTimewindow\\\": true,\\n          \\\"showLegend\\\": false,\\n          \\\"actions\\\": {\\n            \\\"elementClick\\\": [\\n              {\\n                \\\"name\\\": \\\"transport_details\\\",\\n                \\\"icon\\\": \\\"insert_chart\\\",\\n                \\\"type\\\": \\\"openDashboardState\\\",\\n                \\\"targetDashboardStateId\\\": \\\"notifications\\\",\\n                \\\"setEntityId\\\": false,\\n                \\\"stateEntityParamName\\\": null,\\n                \\\"openInSeparateDialog\\\": null,\\n                \\\"dialogTitle\\\": null,\\n                \\\"dialogHideDashboardToolbar\\\": true,\\n                \\\"dialogWidth\\\": null,\\n                \\\"dialogHeight\\\": null,\\n                \\\"openRightLayout\\\": false,\\n                \\\"id\\\": \\\"46b7cefe-e1f2-67c1-4055-3a214520f869\\\"\\n              }\\n            ]\\n          },\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\"\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"292eaded-4775-36f7-c896-98d57bdda936\\\"\\n      },\\n      \\\"b3571a36-2106-1122-7d58-0d38bbb0e9c8\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"charts\\\",\\n        \\\"typeAlias\\\": \\\"timeseries_bars_flot\\\",\\n        \\\"type\\\": \\\"timeseries\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 8,\\n        \\\"sizeY\\\": 5,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"emailCountHourly\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.email-messages}\\\",\\n                  \\\"color\\\": \\\"#d35a00\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": false,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.0661644137210089,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"hideInterval\\\": false,\\n            \\\"hideAggregation\\\": false,\\n            \\\"hideAggInterval\\\": false,\\n            \\\"selectedTab\\\": 1,\\n            \\\"history\\\": {\\n              \\\"historyType\\\": 0,\\n              \\\"timewindowMs\\\": 2592000000,\\n              \\\"interval\\\": 86400000\\n            },\\n            \\\"aggregation\\\": {\\n              \\\"type\\\": \\\"SUM\\\",\\n              \\\"limit\\\": 1000\\n            }\\n          },\\n          \\\"showTitle\\\": true,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"padding\\\": \\\"8px\\\",\\n          \\\"settings\\\": {\\n            \\\"shadowSize\\\": 4,\\n            \\\"fontColor\\\": \\\"#545454\\\",\\n            \\\"fontSize\\\": 10,\\n            \\\"xaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\"\\n            },\\n            \\\"yaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"min\\\": 0,\\n              \\\"tickDecimals\\\": 0,\\n              \\\"ticksFormatter\\\": \\\"var rounder = Math.pow(10, 1);\\\\nvar powers = [\\\\n  {key: 'Q', value: Math.pow(10, 15)},\\\\n  {key: 'T', value: Math.pow(10, 12)},\\\\n  {key: 'B', value: Math.pow(10, 9)},\\\\n  {key: 'M', value: Math.pow(10, 6)},\\\\n  {key: 'K', value: 1000}\\\\n];\\\\n\\\\nvar key = '';\\\\n\\\\nfor (var i = 0; i < powers.length; i++) {\\\\n    var reduced = value / powers[i].value;\\\\n    reduced = Math.round(reduced * rounder) / rounder;\\\\n    if (reduced >= 1) {\\\\n        value = reduced;\\\\n        key = powers[i].key;\\\\n        break;\\\\n    }\\\\n}\\\\nreturn value + key;\\\"\\n            },\\n            \\\"grid\\\": {\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"tickColor\\\": \\\"#DDDDDD\\\",\\n              \\\"verticalLines\\\": true,\\n              \\\"horizontalLines\\\": true,\\n              \\\"outlineWidth\\\": 1\\n            },\\n            \\\"stack\\\": false,\\n            \\\"tooltipIndividual\\\": false,\\n            \\\"defaultBarWidth\\\": 1800000,\\n            \\\"barAlignment\\\": \\\"left\\\",\\n            \\\"timeForComparison\\\": \\\"months\\\",\\n            \\\"xaxisSecond\\\": {\\n              \\\"axisPosition\\\": \\\"top\\\",\\n              \\\"showLabels\\\": true\\n            }\\n          },\\n          \\\"title\\\": \\\"{i18n:api-usage.email-messages-daily-activity}\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": true,\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"16px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"widgetStyle\\\": {},\\n          \\\"useDashboardTimewindow\\\": false,\\n          \\\"showLegend\\\": true,\\n          \\\"actions\\\": {},\\n          \\\"displayTimewindow\\\": true,\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\",\\n          \\\"legendConfig\\\": {\\n            \\\"direction\\\": \\\"column\\\",\\n            \\\"position\\\": \\\"bottom\\\",\\n            \\\"sortDataKeys\\\": false,\\n            \\\"showMin\\\": false,\\n            \\\"showMax\\\": false,\\n            \\\"showAvg\\\": false,\\n            \\\"showTotal\\\": true\\n          }\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"b3571a36-2106-1122-7d58-0d38bbb0e9c8\\\"\\n      },\\n      \\\"aa875b7f-e7c8-7529-1ae7-f456211b59cc\\\": {\\n        \\\"isSystemType\\\": true,\\n        \\\"bundleAlias\\\": \\\"charts\\\",\\n        \\\"typeAlias\\\": \\\"timeseries_bars_flot\\\",\\n        \\\"type\\\": \\\"timeseries\\\",\\n        \\\"title\\\": \\\"New widget\\\",\\n        \\\"sizeX\\\": 8,\\n        \\\"sizeY\\\": 5,\\n        \\\"config\\\": {\\n          \\\"datasources\\\": [\\n            {\\n              \\\"type\\\": \\\"entity\\\",\\n              \\\"name\\\": null,\\n              \\\"entityAliasId\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n              \\\"filterId\\\": null,\\n              \\\"dataKeys\\\": [\\n                {\\n                  \\\"name\\\": \\\"emailCount\\\",\\n                  \\\"type\\\": \\\"timeseries\\\",\\n                  \\\"label\\\": \\\"{i18n:api-usage.email-messages}\\\",\\n                  \\\"color\\\": \\\"#d35a00\\\",\\n                  \\\"settings\\\": {\\n                    \\\"excludeFromStacking\\\": false,\\n                    \\\"hideDataByDefault\\\": false,\\n                    \\\"disableDataHiding\\\": false,\\n                    \\\"removeFromLegend\\\": false,\\n                    \\\"showLines\\\": false,\\n                    \\\"fillLines\\\": false,\\n                    \\\"showPoints\\\": false,\\n                    \\\"showPointShape\\\": \\\"circle\\\",\\n                    \\\"pointShapeFormatter\\\": \\\"\\\",\\n                    \\\"showPointsLineWidth\\\": 5,\\n                    \\\"showPointsRadius\\\": 3,\\n                    \\\"showSeparateAxis\\\": false,\\n                    \\\"axisPosition\\\": \\\"left\\\",\\n                    \\\"thresholds\\\": [\\n                      {\\n                        \\\"thresholdValueSource\\\": \\\"predefinedValue\\\"\\n                      }\\n                    ],\\n                    \\\"comparisonSettings\\\": {\\n                      \\\"showValuesForComparison\\\": true\\n                    }\\n                  },\\n                  \\\"_hash\\\": 0.0661644137210089,\\n                  \\\"units\\\": null,\\n                  \\\"decimals\\\": null,\\n                  \\\"funcBody\\\": null,\\n                  \\\"usePostProcessing\\\": null,\\n                  \\\"postFuncBody\\\": null\\n                }\\n              ]\\n            }\\n          ],\\n          \\\"timewindow\\\": {\\n            \\\"hideInterval\\\": false,\\n            \\\"hideAggregation\\\": false,\\n            \\\"hideAggInterval\\\": false,\\n            \\\"selectedTab\\\": 1,\\n            \\\"history\\\": {\\n              \\\"historyType\\\": 0,\\n              \\\"timewindowMs\\\": 31536000000,\\n              \\\"interval\\\": 1000\\n            },\\n            \\\"aggregation\\\": {\\n              \\\"type\\\": \\\"NONE\\\",\\n              \\\"limit\\\": 1000\\n            }\\n          },\\n          \\\"showTitle\\\": true,\\n          \\\"backgroundColor\\\": \\\"#fff\\\",\\n          \\\"color\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"padding\\\": \\\"8px\\\",\\n          \\\"settings\\\": {\\n            \\\"shadowSize\\\": 4,\\n            \\\"fontColor\\\": \\\"#545454\\\",\\n            \\\"fontSize\\\": 10,\\n            \\\"xaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\"\\n            },\\n            \\\"yaxis\\\": {\\n              \\\"showLabels\\\": true,\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"min\\\": 0,\\n              \\\"tickDecimals\\\": 0,\\n              \\\"ticksFormatter\\\": \\\"var rounder = Math.pow(10, 1);\\\\nvar powers = [\\\\n  {key: 'Q', value: Math.pow(10, 15)},\\\\n  {key: 'T', value: Math.pow(10, 12)},\\\\n  {key: 'B', value: Math.pow(10, 9)},\\\\n  {key: 'M', value: Math.pow(10, 6)},\\\\n  {key: 'K', value: 1000}\\\\n];\\\\n\\\\nvar key = '';\\\\n\\\\nfor (var i = 0; i < powers.length; i++) {\\\\n    var reduced = value / powers[i].value;\\\\n    reduced = Math.round(reduced * rounder) / rounder;\\\\n    if (reduced >= 1) {\\\\n        value = reduced;\\\\n        key = powers[i].key;\\\\n        break;\\\\n    }\\\\n}\\\\nreturn value + key;\\\"\\n            },\\n            \\\"grid\\\": {\\n              \\\"color\\\": \\\"#545454\\\",\\n              \\\"tickColor\\\": \\\"#DDDDDD\\\",\\n              \\\"verticalLines\\\": true,\\n              \\\"horizontalLines\\\": true,\\n              \\\"outlineWidth\\\": 1\\n            },\\n            \\\"stack\\\": false,\\n            \\\"tooltipIndividual\\\": false,\\n            \\\"defaultBarWidth\\\": 900000000,\\n            \\\"barAlignment\\\": \\\"left\\\",\\n            \\\"timeForComparison\\\": \\\"months\\\",\\n            \\\"xaxisSecond\\\": {\\n              \\\"axisPosition\\\": \\\"top\\\",\\n              \\\"showLabels\\\": true\\n            }\\n          },\\n          \\\"title\\\": \\\"{i18n:api-usage.email-messages-monthly-activity}\\\",\\n          \\\"dropShadow\\\": true,\\n          \\\"enableFullscreen\\\": true,\\n          \\\"titleStyle\\\": {\\n            \\\"fontSize\\\": \\\"16px\\\",\\n            \\\"fontWeight\\\": 400\\n          },\\n          \\\"widgetStyle\\\": {},\\n          \\\"useDashboardTimewindow\\\": false,\\n          \\\"showLegend\\\": true,\\n          \\\"actions\\\": {},\\n          \\\"displayTimewindow\\\": true,\\n          \\\"showTitleIcon\\\": false,\\n          \\\"iconColor\\\": \\\"rgba(0, 0, 0, 0.87)\\\",\\n          \\\"iconSize\\\": \\\"24px\\\",\\n          \\\"titleTooltip\\\": \\\"\\\",\\n          \\\"legendConfig\\\": {\\n            \\\"direction\\\": \\\"column\\\",\\n            \\\"position\\\": \\\"bottom\\\",\\n            \\\"sortDataKeys\\\": false,\\n            \\\"showMin\\\": false,\\n            \\\"showMax\\\": false,\\n            \\\"showAvg\\\": false,\\n            \\\"showTotal\\\": true\\n          }\\n        },\\n        \\\"row\\\": 0,\\n        \\\"col\\\": 0,\\n        \\\"id\\\": \\\"aa875b7f-e7c8-7529-1ae7-f456211b59cc\\\"\\n      }\\n    },\\n    \\\"states\\\": {\\n      \\\"default\\\": {\\n        \\\"name\\\": \\\"{i18n:api-usage.api-usage}\\\",\\n        \\\"root\\\": true,\\n        \\\"layouts\\\": {\\n          \\\"main\\\": {\\n            \\\"widgets\\\": {\\n              \\\"fd6df872-2ddf-0921-3929-2e7f55062fad\\\": {\\n                \\\"sizeX\\\": 4,\\n                \\\"sizeY\\\": 2,\\n                \\\"row\\\": 0,\\n                \\\"col\\\": 8,\\n                \\\"mobileHeight\\\": 3\\n              },\\n              \\\"7e235874-461b-e7c2-2fdd-d8762a020773\\\": {\\n                \\\"sizeX\\\": 4,\\n                \\\"sizeY\\\": 2,\\n                \\\"row\\\": 0,\\n                \\\"col\\\": 12,\\n                \\\"mobileHeight\\\": 3\\n              },\\n              \\\"08545554-a0e8-05c7-66df-6000cfeff8a4\\\": {\\n                \\\"sizeX\\\": 4,\\n                \\\"sizeY\\\": 2,\\n                \\\"row\\\": 0,\\n                \\\"col\\\": 4,\\n                \\\"mobileHeight\\\": 3\\n              },\\n              \\\"a245c67e-53ec-d299-fa89-69fe2062ccb2\\\": {\\n                \\\"sizeX\\\": 4,\\n                \\\"sizeY\\\": 2,\\n                \\\"row\\\": 0,\\n                \\\"col\\\": 0,\\n                \\\"mobileHeight\\\": 3\\n              },\\n              \\\"a151ae60-0326-6116-d818-9070dda8e9c7\\\": {\\n                \\\"sizeX\\\": 4,\\n                \\\"sizeY\\\": 2,\\n                \\\"row\\\": 0,\\n                \\\"col\\\": 16,\\n                \\\"mobileHeight\\\": 3\\n              },\\n              \\\"292eaded-4775-36f7-c896-98d57bdda936\\\": {\\n                \\\"sizeX\\\": 4,\\n                \\\"sizeY\\\": 2,\\n                \\\"row\\\": 0,\\n                \\\"col\\\": 20,\\n                \\\"mobileHeight\\\": 3\\n              },\\n              \\\"68e16e98-0420-f72c-4848-41dedffd3904\\\": {\\n                \\\"sizeX\\\": 8,\\n                \\\"sizeY\\\": 4,\\n                \\\"row\\\": 2,\\n                \\\"col\\\": 8\\n              },\\n              \\\"2aa6b499-6e27-b315-6833-89c4d58485ce\\\": {\\n                \\\"sizeX\\\": 8,\\n                \\\"sizeY\\\": 4,\\n                \\\"row\\\": 2,\\n                \\\"col\\\": 0\\n              },\\n              \\\"d890cea3-fba0-6474-9a21-fa780230dc62\\\": {\\n                \\\"sizeX\\\": 8,\\n                \\\"sizeY\\\": 4,\\n                \\\"row\\\": 2,\\n                \\\"col\\\": 16\\n              },\\n              \\\"84b6cfa5-1449-e0f2-3560-f810d2dd7ead\\\": {\\n                \\\"sizeX\\\": 8,\\n                \\\"sizeY\\\": 4,\\n                \\\"row\\\": 6,\\n                \\\"col\\\": 0\\n              },\\n              \\\"d296b566-a000-7402-ae9d-c815381c5435\\\": {\\n                \\\"sizeX\\\": 8,\\n                \\\"sizeY\\\": 4,\\n                \\\"row\\\": 6,\\n                \\\"col\\\": 8\\n              },\\n              \\\"00a02464-9509-911b-3b5e-21fb37629822\\\": {\\n                \\\"sizeX\\\": 8,\\n                \\\"sizeY\\\": 4,\\n                \\\"row\\\": 6,\\n                \\\"col\\\": 16\\n              }\\n            },\\n            \\\"gridSettings\\\": {\\n              \\\"backgroundColor\\\": \\\"#eeeeee\\\",\\n              \\\"color\\\": \\\"rgba(0,0,0,0.870588)\\\",\\n              \\\"columns\\\": 24,\\n              \\\"margin\\\": 5,\\n              \\\"backgroundSizeMode\\\": \\\"100%\\\",\\n              \\\"autoFillHeight\\\": true,\\n              \\\"backgroundImageUrl\\\": null,\\n              \\\"mobileAutoFillHeight\\\": false,\\n              \\\"mobileRowHeight\\\": 70\\n            }\\n          }\\n        }\\n      },\\n      \\\"transport\\\": {\\n        \\\"name\\\": \\\"{i18n:api-usage.transport}\\\",\\n        \\\"root\\\": false,\\n        \\\"layouts\\\": {\\n          \\\"main\\\": {\\n            \\\"widgets\\\": {\\n              \\\"98bae68b-0f35-72f2-a428-9b06889f1554\\\": {\\n                \\\"sizeX\\\": 24,\\n                \\\"sizeY\\\": 6,\\n                \\\"row\\\": 0,\\n                \\\"col\\\": 0\\n              },\\n              \\\"e61e5477-5a09-cc25-966b-f613d81da833\\\": {\\n                \\\"sizeX\\\": 24,\\n                \\\"sizeY\\\": 6,\\n                \\\"row\\\": 6,\\n                \\\"col\\\": 0\\n              }\\n            },\\n            \\\"gridSettings\\\": {\\n              \\\"backgroundColor\\\": \\\"#eeeeee\\\",\\n              \\\"color\\\": \\\"rgba(0,0,0,0.870588)\\\",\\n              \\\"columns\\\": 24,\\n              \\\"margin\\\": 10,\\n              \\\"backgroundSizeMode\\\": \\\"100%\\\",\\n              \\\"autoFillHeight\\\": true,\\n              \\\"backgroundImageUrl\\\": null,\\n              \\\"mobileAutoFillHeight\\\": false,\\n              \\\"mobileRowHeight\\\": 70\\n            }\\n          }\\n        }\\n      },\\n      \\\"rule_engine_execution\\\": {\\n        \\\"name\\\": \\\"{i18n:api-usage.rule-engine-executions}\\\",\\n        \\\"root\\\": false,\\n        \\\"layouts\\\": {\\n          \\\"main\\\": {\\n            \\\"widgets\\\": {\\n              \\\"74199074-7873-6c6a-2a51-3fc614769f03\\\": {\\n                \\\"sizeX\\\": 24,\\n                \\\"sizeY\\\": 6,\\n                \\\"row\\\": 0,\\n                \\\"col\\\": 0\\n              },\\n              \\\"00006bc3-8a8d-b55e-ed39-e318f1bcd090\\\": {\\n                \\\"sizeX\\\": 24,\\n                \\\"sizeY\\\": 6,\\n                \\\"row\\\": 6,\\n                \\\"col\\\": 0\\n              }\\n            },\\n            \\\"gridSettings\\\": {\\n              \\\"backgroundColor\\\": \\\"#eeeeee\\\",\\n              \\\"color\\\": \\\"rgba(0,0,0,0.870588)\\\",\\n              \\\"columns\\\": 24,\\n              \\\"margin\\\": 10,\\n              \\\"backgroundSizeMode\\\": \\\"100%\\\",\\n              \\\"autoFillHeight\\\": true,\\n              \\\"backgroundImageUrl\\\": null,\\n              \\\"mobileAutoFillHeight\\\": false,\\n              \\\"mobileRowHeight\\\": 70\\n            }\\n          }\\n        }\\n      },\\n      \\\"javascript_functions\\\": {\\n        \\\"name\\\": \\\"{i18n:api-usage.javascript-functions}\\\",\\n        \\\"root\\\": false,\\n        \\\"layouts\\\": {\\n          \\\"main\\\": {\\n            \\\"widgets\\\": {\\n              \\\"5f5ca59c-e507-5301-5910-7ad8cd34df40\\\": {\\n                \\\"sizeX\\\": 24,\\n                \\\"sizeY\\\": 6,\\n                \\\"row\\\": 0,\\n                \\\"col\\\": 0\\n              },\\n              \\\"ada32ee9-44ed-48d1-c368-fd0c94b7607f\\\": {\\n                \\\"sizeX\\\": 24,\\n                \\\"sizeY\\\": 6,\\n                \\\"row\\\": 6,\\n                \\\"col\\\": 0\\n              }\\n            },\\n            \\\"gridSettings\\\": {\\n              \\\"backgroundColor\\\": \\\"#eeeeee\\\",\\n              \\\"color\\\": \\\"rgba(0,0,0,0.870588)\\\",\\n              \\\"columns\\\": 24,\\n              \\\"margin\\\": 10,\\n              \\\"backgroundSizeMode\\\": \\\"100%\\\",\\n              \\\"autoFillHeight\\\": true,\\n              \\\"backgroundImageUrl\\\": null,\\n              \\\"mobileAutoFillHeight\\\": false,\\n              \\\"mobileRowHeight\\\": 70\\n            }\\n          }\\n        }\\n      },\\n      \\\"telemetry_persistence\\\": {\\n        \\\"name\\\": \\\"{i18n:api-usage.telemetry-persistence}\\\",\\n        \\\"root\\\": false,\\n        \\\"layouts\\\": {\\n          \\\"main\\\": {\\n            \\\"widgets\\\": {\\n              \\\"85fe0738-5326-f069-ab3f-30594bde5fed\\\": {\\n                \\\"sizeX\\\": 24,\\n                \\\"sizeY\\\": 6,\\n                \\\"row\\\": 0,\\n                \\\"col\\\": 0\\n              },\\n              \\\"eaeb381a-437e-f6e9-60c9-6bc8826fdd44\\\": {\\n                \\\"sizeX\\\": 24,\\n                \\\"sizeY\\\": 6,\\n                \\\"row\\\": 6,\\n                \\\"col\\\": 0\\n              }\\n            },\\n            \\\"gridSettings\\\": {\\n              \\\"backgroundColor\\\": \\\"#eeeeee\\\",\\n              \\\"color\\\": \\\"rgba(0,0,0,0.870588)\\\",\\n              \\\"columns\\\": 24,\\n              \\\"margin\\\": 10,\\n              \\\"backgroundSizeMode\\\": \\\"100%\\\",\\n              \\\"autoFillHeight\\\": true,\\n              \\\"backgroundImageUrl\\\": null,\\n              \\\"mobileAutoFillHeight\\\": false,\\n              \\\"mobileRowHeight\\\": 70\\n            }\\n          }\\n        }\\n      },\\n      \\\"rule_engine_statistics\\\": {\\n        \\\"name\\\": \\\"{i18n:api-usage.rule-engine-statistics}\\\",\\n        \\\"root\\\": false,\\n        \\\"layouts\\\": {\\n          \\\"main\\\": {\\n            \\\"widgets\\\": {\\n              \\\"2408ad30-163e-8221-08e1-a82b638be564\\\": {\\n                \\\"sizeX\\\": 12,\\n                \\\"sizeY\\\": 7,\\n                \\\"mobileHeight\\\": null,\\n                \\\"row\\\": 0,\\n                \\\"col\\\": 0\\n              },\\n              \\\"e43dcfe1-b970-6a11-ce0e-5769f3eb5e88\\\": {\\n                \\\"sizeX\\\": 12,\\n                \\\"sizeY\\\": 7,\\n                \\\"mobileHeight\\\": null,\\n                \\\"row\\\": 0,\\n                \\\"col\\\": 12\\n              },\\n              \\\"a669cf86-e715-efa4-dd9a-b839abf499e9\\\": {\\n                \\\"sizeX\\\": 24,\\n                \\\"sizeY\\\": 5,\\n                \\\"row\\\": 7,\\n                \\\"col\\\": 0\\n              }\\n            },\\n            \\\"gridSettings\\\": {\\n              \\\"backgroundColor\\\": \\\"#eeeeee\\\",\\n              \\\"color\\\": \\\"rgba(0,0,0,0.870588)\\\",\\n              \\\"columns\\\": 24,\\n              \\\"margin\\\": 10,\\n              \\\"backgroundSizeMode\\\": \\\"100%\\\",\\n              \\\"autoFillHeight\\\": true,\\n              \\\"backgroundImageUrl\\\": null,\\n              \\\"mobileAutoFillHeight\\\": false,\\n              \\\"mobileRowHeight\\\": 70\\n            }\\n          }\\n        }\\n      },\\n      \\\"notifications\\\": {\\n        \\\"name\\\": \\\"{i18n:api-usage.notifications-email-sms}\\\",\\n        \\\"root\\\": false,\\n        \\\"layouts\\\": {\\n          \\\"main\\\": {\\n            \\\"widgets\\\": {\\n              \\\"7302df65-1b0c-579e-bbdb-145126ae3392\\\": {\\n                \\\"sizeX\\\": 12,\\n                \\\"sizeY\\\": 6,\\n                \\\"row\\\": 0,\\n                \\\"col\\\": 12\\n              },\\n              \\\"fdb385e7-14fe-fc9f-ebdc-b400f26fc66b\\\": {\\n                \\\"sizeX\\\": 12,\\n                \\\"sizeY\\\": 6,\\n                \\\"row\\\": 6,\\n                \\\"col\\\": 12\\n              },\\n              \\\"b3571a36-2106-1122-7d58-0d38bbb0e9c8\\\": {\\n                \\\"sizeX\\\": 12,\\n                \\\"sizeY\\\": 6,\\n                \\\"row\\\": 0,\\n                \\\"col\\\": 0\\n              },\\n              \\\"aa875b7f-e7c8-7529-1ae7-f456211b59cc\\\": {\\n                \\\"sizeX\\\": 12,\\n                \\\"sizeY\\\": 6,\\n                \\\"row\\\": 6,\\n                \\\"col\\\": 0\\n              }\\n            },\\n            \\\"gridSettings\\\": {\\n              \\\"backgroundColor\\\": \\\"#eeeeee\\\",\\n              \\\"color\\\": \\\"rgba(0,0,0,0.870588)\\\",\\n              \\\"columns\\\": 24,\\n              \\\"margin\\\": 10,\\n              \\\"backgroundSizeMode\\\": \\\"100%\\\",\\n              \\\"autoFillHeight\\\": true,\\n              \\\"backgroundImageUrl\\\": null,\\n              \\\"mobileAutoFillHeight\\\": false,\\n              \\\"mobileRowHeight\\\": 70\\n            }\\n          }\\n        }\\n      },\\n      \\\"alarms_created\\\": {\\n        \\\"name\\\": \\\"{i18n:api-usage.alarms-created}\\\",\\n        \\\"root\\\": false,\\n        \\\"layouts\\\": {\\n          \\\"main\\\": {\\n            \\\"widgets\\\": {\\n              \\\"4b798823-b97d-9d6a-59dc-fcafd897fc23\\\": {\\n                \\\"sizeX\\\": 24,\\n                \\\"sizeY\\\": 6,\\n                \\\"row\\\": 0,\\n                \\\"col\\\": 0\\n              },\\n              \\\"6a981580-7490-19dd-f937-b64cbf67a982\\\": {\\n                \\\"sizeX\\\": 24,\\n                \\\"sizeY\\\": 6,\\n                \\\"row\\\": 6,\\n                \\\"col\\\": 0\\n              }\\n            },\\n            \\\"gridSettings\\\": {\\n              \\\"backgroundColor\\\": \\\"#eeeeee\\\",\\n              \\\"color\\\": \\\"rgba(0,0,0,0.870588)\\\",\\n              \\\"columns\\\": 24,\\n              \\\"margin\\\": 10,\\n              \\\"backgroundSizeMode\\\": \\\"100%\\\",\\n              \\\"autoFillHeight\\\": true,\\n              \\\"backgroundImageUrl\\\": null,\\n              \\\"mobileAutoFillHeight\\\": false,\\n              \\\"mobileRowHeight\\\": 70\\n            }\\n          }\\n        }\\n      }\\n    },\\n    \\\"entityAliases\\\": {\\n      \\\"40193437-33ac-3172-eefd-0b08eb849062\\\": {\\n        \\\"id\\\": \\\"40193437-33ac-3172-eefd-0b08eb849062\\\",\\n        \\\"alias\\\": \\\"Api usage state\\\",\\n        \\\"filter\\\": {\\n          \\\"type\\\": \\\"apiUsageState\\\",\\n          \\\"resolveMultiple\\\": false\\n        }\\n      },\\n      \\\"2e4c97b0-257a-a1b9-690c-141d9bf2ec6f\\\": {\\n        \\\"id\\\": \\\"2e4c97b0-257a-a1b9-690c-141d9bf2ec6f\\\",\\n        \\\"alias\\\": \\\"TbServiceQueues\\\",\\n        \\\"filter\\\": {\\n          \\\"type\\\": \\\"assetType\\\",\\n          \\\"resolveMultiple\\\": true,\\n          \\\"assetType\\\": \\\"TbServiceQueue\\\",\\n          \\\"assetNameFilter\\\": \\\"\\\"\\n        }\\n      }\\n    },\\n    \\\"filters\\\": {},\\n    \\\"timewindow\\\": {\\n      \\\"hideInterval\\\": false,\\n      \\\"hideAggregation\\\": false,\\n      \\\"hideAggInterval\\\": false,\\n      \\\"selectedTab\\\": 0,\\n      \\\"realtime\\\": {\\n        \\\"timewindowMs\\\": 86400000,\\n        \\\"interval\\\": 3600000\\n      },\\n      \\\"aggregation\\\": {\\n        \\\"type\\\": \\\"NONE\\\",\\n        \\\"limit\\\": 50000\\n      }\\n    },\\n    \\\"settings\\\": {\\n      \\\"stateControllerId\\\": \\\"entity\\\",\\n      \\\"showTitle\\\": false,\\n      \\\"showDashboardsSelect\\\": false,\\n      \\\"showEntitiesSelect\\\": false,\\n      \\\"showDashboardTimewindow\\\": false,\\n      \\\"showDashboardExport\\\": false,\\n      \\\"toolbarAlwaysOpen\\\": true,\\n      \\\"titleColor\\\": \\\"rgba(0,0,0,0.870588)\\\",\\n      \\\"showFilters\\\": false,\\n      \\\"showDashboardLogo\\\": false\\n    }\\n  },\\n  \\\"name\\\": \\\"Api Usage\\\"\\n}\\n\";","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from '@shared/shared.module';\nimport { AuditLogRoutingModule } from '@modules/home/pages/audit-log/audit-log-routing.module';\n\n@NgModule({\n  declarations: [\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    AuditLogRoutingModule\n  ]\n})\nexport class AuditLogModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { ChangeDetectorRef, Component, Inject } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { EntityComponent } from '../../components/entity/entity.component';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { WidgetsBundle } from '@shared/models/widgets-bundle.model';\nimport { EntityTableConfig } from '@home/models/entity/entities-table-config.models';\n\n@Component({\n  selector: 'tb-widgets-bundle',\n  templateUrl: './widgets-bundle.component.html',\n  styleUrls: ['./widgets-bundle.component.scss']\n})\nexport class WidgetsBundleComponent extends EntityComponent<WidgetsBundle> {\n\n  constructor(protected store: Store<AppState>,\n              @Inject('entity') protected entityValue: WidgetsBundle,\n              @Inject('entitiesTableConfig') protected entitiesTableConfigValue: EntityTableConfig<WidgetsBundle>,\n              public fb: FormBuilder,\n              protected cd: ChangeDetectorRef) {\n    super(store, fb, entityValue, entitiesTableConfigValue, cd);\n  }\n\n  hideDelete() {\n    if (this.entitiesTableConfig) {\n      return !this.entitiesTableConfig.deleteEnabled(this.entity);\n    } else {\n      return false;\n    }\n  }\n\n  buildForm(entity: WidgetsBundle): FormGroup {\n    return this.fb.group(\n      {\n        title: [entity ? entity.title : '', [Validators.required, Validators.maxLength(255)]],\n        image: [entity ? entity.image : ''],\n        description: [entity  ? entity.description : '', Validators.maxLength(255)]\n      }\n    );\n  }\n\n  updateForm(entity: WidgetsBundle) {\n    this.entityForm.patchValue({\n      title: entity.title,\n      image: entity.image,\n      description: entity.description\n    });\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div class=\"tb-details-buttons\" fxLayout.xs=\"column\">\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'open')\"\n          [fxShow]=\"!isEdit\">\n    {{'widgets-bundle.open-widgets-bundle' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'export')\"\n          [fxShow]=\"!isEdit\">\n    {{'widgets-bundle.export' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'delete')\"\n          [fxShow]=\"!hideDelete() && !isEdit\">\n    {{'widgets-bundle.delete' | translate }}\n  </button>\n</div>\n<div class=\"mat-padding\" fxLayout=\"column\">\n  <form [formGroup]=\"entityForm\">\n    <fieldset [disabled]=\"(isLoading$ | async) || !isEdit\">\n      <mat-form-field class=\"mat-block\">\n        <mat-label translate>widgets-bundle.title</mat-label>\n        <input matInput formControlName=\"title\" required>\n        <mat-error *ngIf=\"entityForm.get('title').hasError('required')\">\n          {{ 'widgets-bundle.title-required' | translate }}\n        </mat-error>\n        <mat-error *ngIf=\"entityForm.get('title').hasError('maxlength')\">\n          {{ 'widgets-bundle.title-max-length' | translate }}\n        </mat-error>\n      </mat-form-field>\n      <tb-image-input fxFlex\n                      label=\"{{'widgets-bundle.image-preview' | translate}}\"\n                      maxSizeByte=\"524288\"\n                      formControlName=\"image\">\n      </tb-image-input>\n      <mat-form-field class=\"mat-block\">\n        <mat-label translate>widgets-bundle.description</mat-label>\n        <textarea matInput formControlName=\"description\" rows=\"2\" maxlength=\"255\" #descriptionInput></textarea>\n        <mat-hint align=\"end\">{{descriptionInput.value?.length || 0}}/255</mat-hint>\n      </mat-form-field>\n    </fieldset>\n  </form>\n</div>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, forwardRef, Input, OnDestroy, OnInit } from '@angular/core';\nimport { ControlValueAccessor, FormBuilder, FormGroup, NG_VALUE_ACCESSOR, Validators } from '@angular/forms';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@app/core/core.state';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport {\n  DeviceTransportConfiguration,\n  DeviceTransportType,\n  Lwm2mDeviceTransportConfiguration\n} from '@shared/models/device.models';\nimport { takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\nimport { isDefinedAndNotNull } from '@core/utils';\n\n@Component({\n  selector: 'tb-lwm2m-device-transport-configuration',\n  templateUrl: './lwm2m-device-transport-configuration.component.html',\n  styleUrls: [],\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => Lwm2mDeviceTransportConfigurationComponent),\n    multi: true\n  }]\n})\nexport class Lwm2mDeviceTransportConfigurationComponent implements ControlValueAccessor, OnInit, OnDestroy {\n\n  lwm2mDeviceTransportConfigurationFormGroup: FormGroup;\n\n  private requiredValue: boolean;\n  get required(): boolean {\n    return this.requiredValue;\n  }\n  @Input()\n  set required(value: boolean) {\n    this.requiredValue = coerceBooleanProperty(value);\n  }\n\n  @Input()\n  disabled: boolean;\n\n  private destroy$ = new Subject();\n  private propagateChange = (v: any) => { };\n\n  constructor(private store: Store<AppState>,\n              private fb: FormBuilder) {\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  ngOnInit() {\n    this.lwm2mDeviceTransportConfigurationFormGroup = this.fb.group({\n      powerMode: [null],\n      edrxCycle: [{disabled: true, value: 0}, Validators.required],\n      psmActivityTimer: [{disabled: true, value: 0}, Validators.required],\n      pagingTransmissionWindow: [{disabled: true, value: 0}, Validators.required]\n    });\n    this.lwm2mDeviceTransportConfigurationFormGroup.valueChanges.pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(() => {\n      this.updateModel();\n    });\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n    if (this.disabled) {\n      this.lwm2mDeviceTransportConfigurationFormGroup.disable({emitEvent: false});\n    } else {\n      this.lwm2mDeviceTransportConfigurationFormGroup.enable({emitEvent: false});\n      this.lwm2mDeviceTransportConfigurationFormGroup.get('powerMode').updateValueAndValidity({onlySelf: true});\n    }\n  }\n\n  writeValue(value: Lwm2mDeviceTransportConfiguration | null): void {\n    if (isDefinedAndNotNull(value)) {\n      this.lwm2mDeviceTransportConfigurationFormGroup.patchValue(value, {emitEvent: false});\n    } else {\n      this.lwm2mDeviceTransportConfigurationFormGroup.get('powerMode').patchValue(null, {emitEvent: false});\n    }\n    if (!this.disabled) {\n      this.lwm2mDeviceTransportConfigurationFormGroup.get('powerMode').updateValueAndValidity({onlySelf: true});\n    }\n  }\n\n  private updateModel() {\n    let configuration: DeviceTransportConfiguration = null;\n    if (this.lwm2mDeviceTransportConfigurationFormGroup.valid) {\n      configuration = this.lwm2mDeviceTransportConfigurationFormGroup.value;\n      configuration.type = DeviceTransportType.LWM2M;\n    }\n    this.propagateChange(configuration);\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<form [formGroup]=\"lwm2mDeviceTransportConfigurationFormGroup\" style=\"padding-bottom: 16px;\">\n  <tb-power-mode-settings [parentForm]=\"lwm2mDeviceTransportConfigurationFormGroup\" [isDeviceSetting]=\"true\">\n  </tb-power-mode-settings>\n</form>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { ChangeDetectorRef, Component, Inject } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Customer } from '@shared/models/customer.model';\nimport { ActionNotificationShow } from '@app/core/notification/notification.actions';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ContactBasedComponent } from '../../components/entity/contact-based.component';\nimport { EntityTableConfig } from '@home/models/entity/entities-table-config.models';\nimport { isDefinedAndNotNull } from '@core/utils';\nimport { getCurrentAuthState } from '@core/auth/auth.selectors';\nimport { AuthState } from '@core/auth/auth.models';\n\n@Component({\n  selector: 'tb-customer',\n  templateUrl: './customer.component.html',\n  styleUrls: ['./customer.component.scss']\n})\nexport class CustomerComponent extends ContactBasedComponent<Customer> {\n\n  isPublic = false;\n\n  authState: AuthState = getCurrentAuthState(this.store);\n\n  constructor(protected store: Store<AppState>,\n              protected translate: TranslateService,\n              @Inject('entity') protected entityValue: Customer,\n              @Inject('entitiesTableConfig') protected entitiesTableConfigValue: EntityTableConfig<Customer>,\n              protected fb: FormBuilder,\n              protected cd: ChangeDetectorRef) {\n    super(store, fb, entityValue, entitiesTableConfigValue, cd);\n  }\n\n  hideDelete() {\n    if (this.entitiesTableConfig) {\n      return !this.entitiesTableConfig.deleteEnabled(this.entity);\n    } else {\n      return false;\n    }\n  }\n\n  buildEntityForm(entity: Customer): FormGroup {\n    return this.fb.group(\n      {\n        title: [entity ? entity.title : '', [Validators.required, Validators.maxLength(255)]],\n        additionalInfo: this.fb.group(\n          {\n            description: [entity && entity.additionalInfo ? entity.additionalInfo.description : ''],\n            homeDashboardId: [entity && entity.additionalInfo ? entity.additionalInfo.homeDashboardId : null],\n            homeDashboardHideToolbar: [entity && entity.additionalInfo &&\n            isDefinedAndNotNull(entity.additionalInfo.homeDashboardHideToolbar) ? entity.additionalInfo.homeDashboardHideToolbar : true]\n          }\n        )\n      }\n    );\n  }\n\n  updateEntityForm(entity: Customer) {\n    this.isPublic = entity.additionalInfo && entity.additionalInfo.isPublic;\n    this.entityForm.patchValue({title: entity.title});\n    this.entityForm.patchValue({additionalInfo: {description: entity.additionalInfo ? entity.additionalInfo.description : ''}});\n    this.entityForm.patchValue({additionalInfo:\n        {homeDashboardId: entity.additionalInfo ? entity.additionalInfo.homeDashboardId : null}});\n    this.entityForm.patchValue({additionalInfo:\n        {homeDashboardHideToolbar: entity.additionalInfo &&\n          isDefinedAndNotNull(entity.additionalInfo.homeDashboardHideToolbar) ? entity.additionalInfo.homeDashboardHideToolbar : true}});\n  }\n\n  onCustomerIdCopied(event) {\n    this.store.dispatch(new ActionNotificationShow(\n      {\n        message: this.translate.instant('customer.idCopiedMessage'),\n        type: 'success',\n        duration: 750,\n        verticalPosition: 'bottom',\n        horizontalPosition: 'right'\n      }));\n  }\n\n  edgesSupportEnabled() {\n    return this.authState.edgesSupportEnabled;\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div class=\"tb-details-buttons\" fxLayout.xs=\"column\">\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'manageUsers')\"\n          [fxShow]=\"!isEdit && !isPublic\">\n    {{'customer.manage-users' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'manageAssets')\"\n          [fxShow]=\"!isEdit\">\n    {{'customer.manage-assets' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'manageDevices')\"\n          [fxShow]=\"!isEdit\">\n    {{'customer.manage-devices' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'manageDashboards')\"\n          [fxShow]=\"!isEdit\">\n    {{'customer.manage-dashboards' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'manageEdges')\"\n          [fxShow]=\"!isEdit\"\n          *ngIf=\"edgesSupportEnabled()\">\n    {{'customer.manage-edges' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'delete')\"\n          [fxShow]=\"!hideDelete() && !isEdit && !isPublic\">\n    {{'customer.delete' | translate }}\n  </button>\n  <div fxLayout=\"row\" fxLayout.xs=\"column\">\n    <button mat-raised-button\n            ngxClipboard\n            (cbOnSuccess)=\"onCustomerIdCopied($event)\"\n            [cbContent]=\"entity?.id?.id\"\n            [fxShow]=\"!isEdit\">\n      <mat-icon svgIcon=\"mdi:clipboard-arrow-left\"></mat-icon>\n      <span translate>customer.copyId</span>\n    </button>\n  </div>\n</div>\n<div class=\"mat-padding\" fxLayout=\"column\">\n  <form [formGroup]=\"entityForm\">\n    <fieldset [fxShow]=\"!isPublic\" [disabled]=\"(isLoading$ | async) || !isEdit\">\n      <mat-form-field class=\"mat-block\">\n        <mat-label translate>customer.title</mat-label>\n        <input matInput formControlName=\"title\" required/>\n        <mat-error *ngIf=\"entityForm.get('title').hasError('required')\">\n          {{ 'customer.title-required' | translate }}\n        </mat-error>\n        <mat-error *ngIf=\"entityForm.get('title').hasError('maxlength')\">\n          {{ 'customer.title-max-length' | translate }}\n        </mat-error>\n      </mat-form-field>\n      <div formGroupName=\"additionalInfo\" fxLayout=\"column\">\n        <mat-form-field class=\"mat-block\">\n          <mat-label translate>customer.description</mat-label>\n          <textarea matInput formControlName=\"description\" rows=\"2\"></textarea>\n        </mat-form-field>\n        <section class=\"tb-default-dashboard\" fxFlex fxLayout=\"column\" *ngIf=\"entity?.id\">\n          <section fxFlex fxLayout=\"column\" fxLayout.gt-sm=\"row\">\n            <tb-dashboard-autocomplete\n              fxFlex\n              placeholder=\"{{ 'dashboard.home-dashboard' | translate }}\"\n              formControlName=\"homeDashboardId\"\n              [dashboardsScope]=\"'customer'\"\n              [customerId]=\"entity?.id.id\"\n              [selectFirstDashboard]=\"false\"\n            ></tb-dashboard-autocomplete>\n            <mat-checkbox fxFlex formControlName=\"homeDashboardHideToolbar\">\n              {{ 'dashboard.home-dashboard-hide-toolbar' | translate }}\n            </mat-checkbox>\n          </section>\n        </section>\n      </div>\n      <tb-contact [parentForm]=\"entityForm\" [isEdit]=\"isEdit\"></tb-contact>\n    </fieldset>\n  </form>\n</div>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, forwardRef, Input, OnInit } from '@angular/core';\nimport { ControlValueAccessor, FormBuilder, FormGroup, NG_VALUE_ACCESSOR, Validators } from '@angular/forms';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@app/core/core.state';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { DeviceConfiguration, DeviceProfileType } from '@shared/models/device.models';\nimport { deepClone } from '@core/utils';\n\n@Component({\n  selector: 'tb-device-configuration',\n  templateUrl: './device-configuration.component.html',\n  styleUrls: [],\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => DeviceConfigurationComponent),\n    multi: true\n  }]\n})\nexport class DeviceConfigurationComponent implements ControlValueAccessor, OnInit {\n\n  deviceProfileType = DeviceProfileType;\n\n  deviceConfigurationFormGroup: FormGroup;\n\n  private requiredValue: boolean;\n  get required(): boolean {\n    return this.requiredValue;\n  }\n  @Input()\n  set required(value: boolean) {\n    this.requiredValue = coerceBooleanProperty(value);\n  }\n\n  @Input()\n  disabled: boolean;\n\n  type: DeviceProfileType;\n\n  private propagateChange = (v: any) => { };\n\n  constructor(private store: Store<AppState>,\n              private fb: FormBuilder) {\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  ngOnInit() {\n    this.deviceConfigurationFormGroup = this.fb.group({\n      configuration: [null, Validators.required]\n    });\n    this.deviceConfigurationFormGroup.valueChanges.subscribe(() => {\n      this.updateModel();\n    });\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n    if (this.disabled) {\n      this.deviceConfigurationFormGroup.disable({emitEvent: false});\n    } else {\n      this.deviceConfigurationFormGroup.enable({emitEvent: false});\n    }\n  }\n\n  writeValue(value: DeviceConfiguration | null): void {\n    this.type = value?.type;\n    const configuration = deepClone(value);\n    if (configuration) {\n      delete configuration.type;\n    }\n    this.deviceConfigurationFormGroup.patchValue({configuration}, {emitEvent: false});\n  }\n\n  private updateModel() {\n    let configuration: DeviceConfiguration = null;\n    if (this.deviceConfigurationFormGroup.valid) {\n      configuration = this.deviceConfigurationFormGroup.getRawValue().configuration;\n      configuration.type = this.type;\n    }\n    this.propagateChange(configuration);\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div [formGroup]=\"deviceConfigurationFormGroup\">\n  <div [ngSwitch]=\"type\">\n    <ng-template [ngSwitchCase]=\"deviceProfileType.DEFAULT\">\n      <tb-default-device-configuration\n        [required]=\"required\"\n        formControlName=\"configuration\">\n      </tb-default-device-configuration>\n    </ng-template>\n  </div>\n</div>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Injectable, NgModule } from '@angular/core';\nimport { Resolve, RouterModule, Routes } from '@angular/router';\n\nimport { ProfileComponent } from './profile.component';\nimport { ConfirmOnExitGuard } from '@core/guards/confirm-on-exit.guard';\nimport { Authority } from '@shared/models/authority.enum';\nimport { User } from '@shared/models/user.model';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { UserService } from '@core/http/user.service';\nimport { getCurrentAuthUser } from '@core/auth/auth.selectors';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class UserProfileResolver implements Resolve<User> {\n\n  constructor(private store: Store<AppState>,\n              private userService: UserService) {\n  }\n\n  resolve(): Observable<User> {\n    const userId = getCurrentAuthUser(this.store).userId;\n    return this.userService.getUser(userId);\n  }\n}\n\nconst routes: Routes = [\n  {\n    path: 'profile',\n    component: ProfileComponent,\n    canDeactivate: [ConfirmOnExitGuard],\n    data: {\n      auth: [Authority.SYS_ADMIN, Authority.TENANT_ADMIN, Authority.CUSTOMER_USER],\n      title: 'profile.profile',\n      breadcrumb: {\n        label: 'profile.profile',\n        icon: 'account_circle'\n      }\n    },\n    resolve: {\n      user: UserProfileResolver\n    }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n  providers: [\n    UserProfileResolver\n  ]\n})\nexport class ProfileRoutingModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { ChangeDetectorRef, Component, Inject } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { EntityComponent } from '@home/components/entity/entity.component';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { EntityType } from '@shared/models/entity-type.models';\nimport { EdgeInfo } from '@shared/models/edge.models';\nimport { TranslateService } from '@ngx-translate/core';\nimport { NULL_UUID } from '@shared/models/id/has-uuid';\nimport { ActionNotificationShow } from '@core/notification/notification.actions';\nimport { generateSecret, guid } from '@core/utils';\nimport { EntityTableConfig } from '@home/models/entity/entities-table-config.models';\n\n@Component({\n  selector: 'tb-edge',\n  templateUrl: './edge.component.html',\n  styleUrls: ['./edge.component.scss']\n})\nexport class EdgeComponent extends EntityComponent<EdgeInfo> {\n\n  entityType = EntityType;\n\n  edgeScope: 'tenant' | 'customer' | 'customer_user';\n\n  constructor(protected store: Store<AppState>,\n              protected translate: TranslateService,\n              @Inject('entity') protected entityValue: EdgeInfo,\n              @Inject('entitiesTableConfig') protected entitiesTableConfigValue: EntityTableConfig<EdgeInfo>,\n              public fb: FormBuilder,\n              protected cd: ChangeDetectorRef) {\n    super(store, fb, entityValue, entitiesTableConfigValue, cd);\n  }\n\n  ngOnInit() {\n    this.edgeScope = this.entitiesTableConfig.componentsData.edgeScope;\n    this.entityForm.patchValue({\n      cloudEndpoint: window.location.origin\n    });\n    super.ngOnInit();\n  }\n\n  hideDelete() {\n    if (this.entitiesTableConfig) {\n      return !this.entitiesTableConfig.deleteEnabled(this.entity);\n    } else {\n      return false;\n    }\n  }\n\n  isAssignedToCustomer(entity: EdgeInfo): boolean {\n    return entity && entity.customerId && entity.customerId.id !== NULL_UUID;\n  }\n\n  buildForm(entity: EdgeInfo): FormGroup {\n    const form = this.fb.group(\n      {\n        name: [entity ? entity.name : '', [Validators.required, Validators.maxLength(255)]],\n        type: [entity?.type ? entity.type : 'default', [Validators.required, Validators.maxLength(255)]],\n        label: [entity ? entity.label : '', Validators.maxLength(255)],\n        cloudEndpoint: [null, [Validators.required, Validators.maxLength(255)]],\n        edgeLicenseKey: ['', [Validators.required, Validators.maxLength(30)]],\n        routingKey: this.fb.control({value: entity ? entity.routingKey : null, disabled: true}),\n        secret: this.fb.control({value: entity ? entity.secret : null, disabled: true}),\n        additionalInfo: this.fb.group(\n          {\n            description: [entity && entity.additionalInfo ? entity.additionalInfo.description : '']\n          }\n        )\n      }\n    );\n    this.generateRoutingKeyAndSecret(entity, form);\n    return form;\n  }\n\n  updateForm(entity: EdgeInfo) {\n    this.entityForm.patchValue({\n      name: entity.name,\n      type: entity.type,\n      label: entity.label,\n      cloudEndpoint: entity.cloudEndpoint ? entity.cloudEndpoint : window.location.origin,\n      edgeLicenseKey: entity.edgeLicenseKey,\n      routingKey: entity.routingKey,\n      secret: entity.secret,\n      additionalInfo: {\n        description: entity.additionalInfo ? entity.additionalInfo.description : ''\n      }\n    });\n    this.generateRoutingKeyAndSecret(entity, this.entityForm);\n  }\n\n  updateFormState() {\n    super.updateFormState();\n    this.entityForm.get('routingKey').disable({emitEvent: false});\n    this.entityForm.get('secret').disable({emitEvent: false});\n  }\n\n  onEdgeIdCopied($event) {\n    this.store.dispatch(new ActionNotificationShow(\n      {\n        message: this.translate.instant('edge.id-copied-message'),\n        type: 'success',\n        duration: 750,\n        verticalPosition: 'bottom',\n        horizontalPosition: 'right'\n      }));\n  }\n\n  onEdgeInfoCopied(type: string) {\n    const message = type === 'key' ? 'edge.edge-key-copied-message'\n      : 'edge.edge-secret-copied-message';\n    this.store.dispatch(new ActionNotificationShow(\n      {\n        message: this.translate.instant(message),\n        type: 'success',\n        duration: 750,\n        verticalPosition: 'bottom',\n        horizontalPosition: 'right'\n      }));\n  }\n\n  private generateRoutingKeyAndSecret(entity: EdgeInfo, form: FormGroup) {\n    if (entity && !entity.id) {\n      form.get('routingKey').patchValue(guid(), {emitEvent: false});\n      form.get('secret').patchValue(generateSecret(20), {emitEvent: false});\n    }\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div class=\"tb-details-buttons\" fxLayout.xs=\"column\">\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'makePublic')\"\n          [fxShow]=\"!isEdit && edgeScope === 'tenant' && !isAssignedToCustomer(entity) && !entity?.customerIsPublic\">\n    {{'edge.make-public' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'assignToCustomer')\"\n          [fxShow]=\"!isEdit && edgeScope === 'tenant' && !isAssignedToCustomer(entity)\">\n    {{'edge.assign-to-customer' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'unassignFromCustomer')\"\n          [fxShow]=\"!isEdit && (edgeScope === 'customer' || edgeScope === 'tenant') && isAssignedToCustomer(entity)\">\n    {{ (entity?.customerIsPublic ? 'edge.make-private' : 'edge.unassign-from-customer') | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\" fxFlex.xs\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'delete')\"\n          [fxShow]=\"!hideDelete() && !isEdit\">\n    {{'edge.delete' | translate }}\n  </button>\n  <div fxLayout=\"row\" fxLayout.xs=\"column\">\n    <button mat-raised-button color=\"primary\"\n            [disabled]=\"(isLoading$ | async)\"\n            (click)=\"onEntityAction($event, 'openEdgeAssets')\"\n            [fxShow]=\"!isEdit && edgeScope !== 'customer'\">\n      {{'edge.edge-assets' | translate }}\n    </button>\n    <button mat-raised-button color=\"primary\"\n            [disabled]=\"(isLoading$ | async)\"\n            (click)=\"onEntityAction($event, 'openEdgeDevices')\"\n            [fxShow]=\"!isEdit && edgeScope !== 'customer'\">\n      {{'edge.edge-devices' | translate }}\n    </button>\n    <button mat-raised-button color=\"primary\"\n            [disabled]=\"(isLoading$ | async)\"\n            (click)=\"onEntityAction($event, 'openEdgeEntityViews')\"\n            [fxShow]=\"!isEdit && edgeScope !== 'customer'\">\n      {{'edge.edge-entity-views' | translate }}\n    </button>\n    <button mat-raised-button color=\"primary\"\n            [disabled]=\"(isLoading$ | async)\"\n            (click)=\"onEntityAction($event, 'openEdgeDashboards')\"\n            [fxShow]=\"!isEdit && edgeScope !== 'customer'\">\n      {{'edge.edge-dashboards' | translate }}\n    </button>\n    <button mat-raised-button color=\"primary\"\n            [disabled]=\"(isLoading$ | async)\"\n            (click)=\"onEntityAction($event, 'openEdgeRuleChains')\"\n            [fxShow]=\"!isEdit && edgeScope === 'tenant'\">\n      {{'edge.edge-rulechains' | translate }}\n    </button>\n  </div>\n  <div fxLayout=\"row\" fxLayout.xs=\"column\">\n    <button mat-raised-button\n            ngxClipboard\n            (cbOnSuccess)=\"onEdgeIdCopied($event)\"\n            [cbContent]=\"entity?.id?.id\"\n            [fxShow]=\"!isEdit\">\n      <mat-icon svgIcon=\"mdi:clipboard-arrow-left\"></mat-icon>\n      <span translate>edge.copy-id</span>\n    </button>\n    <button mat-raised-button\n            ngxClipboard\n            (cbOnSuccess)=\"onEdgeInfoCopied('key')\"\n            [cbContent]=\"entity?.routingKey\"\n            [fxShow]=\"!isEdit && edgeScope !== 'customer_user'\">\n      <mat-icon svgIcon=\"mdi:clipboard-arrow-left\"></mat-icon>\n      <span translate>edge.copy-edge-key</span>\n    </button>\n    <button mat-raised-button\n            ngxClipboard\n            (cbOnSuccess)=\"onEdgeInfoCopied('secret')\"\n            [cbContent]=\"entity?.secret\"\n            [fxShow]=\"!isEdit && edgeScope !== 'customer_user'\">\n      <mat-icon svgIcon=\"mdi:clipboard-arrow-left\"></mat-icon>\n      <span translate>edge.copy-edge-secret</span>\n    </button>\n    <button mat-raised-button\n            ngxClipboard\n            [disabled]=\"(isLoading$ | async)\"\n            (click)=\"onEntityAction($event, 'syncEdge')\"\n            [fxShow]=\"!isEdit && edgeScope !== 'customer_user'\">\n      <mat-icon svgIcon=\"mdi:sync\"></mat-icon>\n      <span translate>edge.sync</span>\n    </button>\n  </div>\n</div>\n<div class=\"mat-padding\" fxLayout=\"column\">\n  <mat-form-field class=\"mat-block\"\n                  [fxShow]=\"!isEdit && isAssignedToCustomer(entity)\n                              && !entity?.customerIsPublic && edgeScope === 'tenant'\">\n    <mat-label translate>edge.assignedToCustomer</mat-label>\n    <input matInput disabled [ngModel]=\"entity?.customerTitle\">\n  </mat-form-field>\n  <div class=\"tb-small\" style=\"padding-bottom: 10px; padding-left: 2px;\"\n       [fxShow]=\"!isEdit && entity?.customerIsPublic && edgeScope === 'tenant'\">\n    {{ 'edge.edge-public' | translate }}\n  </div>\n  <form [formGroup]=\"entityForm\">\n    <fieldset [disabled]=\"(isLoading$ | async) || !isEdit\">\n      <mat-form-field class=\"mat-block\">\n        <mat-label translate>edge.name</mat-label>\n        <input matInput formControlName=\"name\" required>\n        <mat-error *ngIf=\"entityForm.get('name').hasError('required')\">\n          {{ 'edge.name-required' | translate }}\n        </mat-error>\n        <mat-error *ngIf=\"entityForm.get('name').hasError('maxlength')\">\n          {{ 'edge.name-max-length' | translate }}\n        </mat-error>\n      </mat-form-field>\n      <tb-entity-subtype-autocomplete\n        formControlName=\"type\"\n        [required]=\"true\"\n        [entityType]=\"entityType.EDGE\">\n      </tb-entity-subtype-autocomplete>\n      <div [fxShow]=\"edgeScope !== 'customer_user'\">\n        <div class=\"tb-hint\" [innerHTML]=\"'edge.edge-license-key-hint' | translate\"></div>\n        <mat-form-field class=\"mat-block\">\n          <mat-label translate>edge.edge-license-key</mat-label>\n          <input matInput formControlName=\"edgeLicenseKey\" required>\n          <mat-error *ngIf=\"entityForm.get('edgeLicenseKey').hasError('required')\">\n            {{ 'edge.edge-license-key-required' | translate }}\n          </mat-error>\n          <mat-error *ngIf=\"entityForm.get('edgeLicenseKey').hasError('maxlength')\">\n            {{ 'edge.edge-license-key-max-length' | translate }}\n          </mat-error>\n        </mat-form-field>\n      </div>\n      <div [fxShow]=\"edgeScope !== 'customer_user'\">\n        <div translate class=\"tb-hint\">edge.cloud-endpoint-hint</div>\n        <mat-form-field class=\"mat-block\">\n          <mat-label translate>edge.cloud-endpoint</mat-label>\n          <input matInput formControlName=\"cloudEndpoint\" required>\n          <mat-error *ngIf=\"entityForm.get('cloudEndpoint').hasError('required')\">\n            {{ 'edge.cloud-endpoint-required' | translate }}\n          </mat-error>\n          <mat-error *ngIf=\"entityForm.get('cloudEndpoint').hasError('maxlength')\">\n            {{ 'edge.cloud-endpoint-max-length' | translate }}\n          </mat-error>\n        </mat-form-field>\n      </div>\n    </fieldset>\n    <div fxLayout=\"row\" [fxShow]=\"edgeScope !== 'customer_user'\">\n        <mat-form-field class=\"mat-block\" fxFlex>\n          <mat-label translate>edge.edge-key</mat-label>\n          <input matInput formControlName=\"routingKey\">\n        </mat-form-field>\n      <button mat-button mat-icon-button type=\"button\" ngxClipboard (cbOnSuccess)=\"onEdgeInfoCopied('key')\"\n              [cbContent]=\"entityForm?.get('routingKey').value\"\n              matTooltip=\"{{'edge.copy-edge-key' | translate}}\">\n        <mat-icon svgIcon=\"mdi:clipboard-arrow-left\"></mat-icon>\n      </button>\n    </div>\n    <div fxLayout=\"row\" [fxShow]=\"edgeScope !== 'customer_user'\">\n        <mat-form-field class=\"mat-block\" fxFlex>\n          <mat-label translate>edge.edge-secret</mat-label>\n          <input matInput formControlName=\"secret\">\n        </mat-form-field>\n      <button mat-button mat-icon-button type=\"button\" ngxClipboard (cbOnSuccess)=\"onEdgeInfoCopied('secret')\"\n              [cbContent]=\"entityForm?.get('secret').value\"\n              matTooltip=\"{{'edge.copy-edge-secret' | translate}}\">\n        <mat-icon svgIcon=\"mdi:clipboard-arrow-left\"></mat-icon>\n      </button>\n    </div>\n    <fieldset [disabled]=\"(isLoading$ | async) || !isEdit\">\n      <mat-form-field class=\"mat-block\">\n        <mat-label translate>edge.label</mat-label>\n        <input matInput formControlName=\"label\">\n        <mat-error *ngIf=\"entityForm.get('label').hasError('maxlength')\">\n          {{ 'edge.label-max-length' | translate }}\n        </mat-error>\n      </mat-form-field>\n      <div formGroupName=\"additionalInfo\" fxLayout=\"column\">\n        <mat-form-field class=\"mat-block\">\n          <mat-label translate>edge.description</mat-label>\n          <textarea matInput formControlName=\"description\" rows=\"2\"></textarea>\n        </mat-form-field>\n      </div>\n    </fieldset>\n  </form>\n</div>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, OnInit } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { PageComponent } from '@shared/components/page.component';\nimport { Router } from '@angular/router';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { AdminSettings, SmsProviderConfiguration } from '@shared/models/settings.models';\nimport { AdminService } from '@core/http/admin.service';\nimport { HasConfirmForm } from '@core/guards/confirm-on-exit.guard';\nimport { MatDialog } from '@angular/material/dialog';\nimport { SendTestSmsDialogComponent, SendTestSmsDialogData } from '@home/pages/admin/send-test-sms-dialog.component';\n\n@Component({\n  selector: 'tb-sms-provider',\n  templateUrl: './sms-provider.component.html',\n  styleUrls: ['./sms-provider.component.scss', './settings-card.scss']\n})\nexport class SmsProviderComponent extends PageComponent implements OnInit, HasConfirmForm {\n\n  smsProvider: FormGroup;\n  adminSettings: AdminSettings<SmsProviderConfiguration>;\n\n  constructor(protected store: Store<AppState>,\n              private router: Router,\n              private adminService: AdminService,\n              private dialog: MatDialog,\n              public fb: FormBuilder) {\n    super(store);\n  }\n\n  ngOnInit() {\n    this.buildSmsProviderForm();\n    this.adminService.getAdminSettings<SmsProviderConfiguration>('sms', {ignoreErrors: true}).subscribe(\n      (adminSettings) => {\n        this.adminSettings = adminSettings;\n        this.smsProvider.reset({configuration: this.adminSettings.jsonValue});\n      },\n      () => {\n        this.adminSettings = {\n          key: 'sms',\n          jsonValue: null\n        };\n        this.smsProvider.reset({configuration: this.adminSettings.jsonValue});\n      }\n    );\n  }\n\n  buildSmsProviderForm() {\n    this.smsProvider = this.fb.group({\n      configuration: [null, [Validators.required]]\n    });\n    this.registerDisableOnLoadFormControl(this.smsProvider.get('configuration'));\n  }\n\n  sendTestSms(): void {\n    this.dialog.open<SendTestSmsDialogComponent, SendTestSmsDialogData>(SendTestSmsDialogComponent, {\n      disableClose: true,\n      panelClass: ['tb-dialog', 'tb-fullscreen-dialog'],\n      data: {\n        smsProviderConfiguration: this.smsProvider.value.configuration\n      }\n    });\n  }\n\n  save(): void {\n    this.adminSettings.jsonValue = this.smsProvider.value.configuration;\n    this.adminService.saveAdminSettings(this.adminSettings).subscribe(\n      (adminSettings) => {\n        this.adminSettings = adminSettings;\n        this.smsProvider.reset({configuration: this.adminSettings.jsonValue});\n      }\n    );\n  }\n\n  confirmForm(): FormGroup {\n    return this.smsProvider;\n  }\n\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div>\n  <mat-card class=\"settings-card\">\n    <mat-card-title>\n      <div fxLayout=\"row\">\n        <span class=\"mat-headline\" translate>admin.sms-provider-settings</span>\n        <span fxFlex></span>\n        <div tb-help=\"smsProviderSettings\"></div>\n      </div>\n    </mat-card-title>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <mat-card-content style=\"padding-top: 16px;\">\n      <form [formGroup]=\"smsProvider\" (ngSubmit)=\"save()\">\n        <fieldset [disabled]=\"isLoading$ | async\">\n          <tb-sms-provider-configuration\n            required\n            formControlName=\"configuration\">\n          </tb-sms-provider-configuration>\n          <div fxLayout=\"row\" fxLayoutAlign=\"end center\" fxLayout.xs=\"column\" fxLayoutAlign.xs=\"end\" fxLayoutGap=\"16px\">\n            <button mat-raised-button type=\"button\"\n                    [disabled]=\"(isLoading$ | async) || smsProvider.invalid\" (click)=\"sendTestSms()\">\n              {{'admin.send-test-sms' | translate}}\n            </button>\n            <button mat-raised-button color=\"primary\" [disabled]=\"(isLoading$ | async) || smsProvider.invalid || !smsProvider.dirty\"\n                    type=\"submit\">{{'action.save' | translate}}\n            </button>\n          </div>\n        </fieldset>\n      </form>\n    </mat-card-content>\n  </mat-card>\n</div>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { RouterModule, Routes } from '@angular/router';\nimport { EntitiesTableComponent } from '@home/components/entity/entities-table.component';\nimport { Authority } from '@shared/models/authority.enum';\nimport { NgModule } from '@angular/core';\nimport { OtaUpdateTableConfigResolve } from '@home/pages/ota-update/ota-update-table-config.resolve';\n\nconst routes: Routes = [\n  {\n    path: 'otaUpdates',\n    component: EntitiesTableComponent,\n    data: {\n      auth: [Authority.TENANT_ADMIN],\n      title: 'ota-update.ota-updates',\n      breadcrumb: {\n        label: 'ota-update.ota-updates',\n        icon: 'memory'\n      }\n    },\n    resolve: {\n      entitiesTableConfig: OtaUpdateTableConfigResolve\n    }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n  providers: [\n    OtaUpdateTableConfigResolve\n  ]\n})\nexport class OtaUpdateRoutingModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { PageLink } from '@shared/models/page/page-link';\nimport { defaultHttpOptionsFromConfig, RequestConfig } from '@core/http/http-utils';\nimport { forkJoin, Observable, of } from 'rxjs';\nimport { PageData } from '@shared/models/page/page-data';\nimport { Resource, ResourceInfo } from '@shared/models/resource.models';\nimport { catchError, map, mergeMap } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ResourceService {\n  constructor(\n    private http: HttpClient\n  ) {\n\n  }\n\n  public getResources(pageLink: PageLink, config?: RequestConfig): Observable<PageData<ResourceInfo>> {\n    return this.http.get<PageData<ResourceInfo>>(`/api/resource${pageLink.toQuery()}`,\n      defaultHttpOptionsFromConfig(config));\n  }\n\n  public getResource(resourceId: string, config?: RequestConfig): Observable<Resource> {\n    return this.http.get<Resource>(`/api/resource/${resourceId}`, defaultHttpOptionsFromConfig(config));\n  }\n\n  public downloadResource(resourceId: string): Observable<any> {\n    return this.http.get(`/api/resource/${resourceId}/download`, {\n      responseType: 'arraybuffer',\n      observe: 'response'\n    }).pipe(\n      map((response) => {\n        const headers = response.headers;\n        const filename = headers.get('x-filename');\n        const contentType = headers.get('content-type');\n        const linkElement = document.createElement('a');\n        try {\n          const blob = new Blob([response.body], {type: contentType});\n          const url = URL.createObjectURL(blob);\n          linkElement.setAttribute('href', url);\n          linkElement.setAttribute('download', filename);\n          const clickEvent = new MouseEvent('click',\n            {\n              view: window,\n              bubbles: true,\n              cancelable: false\n            }\n          );\n          linkElement.dispatchEvent(clickEvent);\n          return null;\n        } catch (e) {\n          throw e;\n        }\n      })\n    );\n  }\n\n  public saveResources(resources: Resource[], config?: RequestConfig): Observable<Resource[]> {\n    let partSize = 100;\n    partSize = resources.length > partSize ? partSize : resources.length;\n    const resourceObservables: Observable<Resource>[] = [];\n    for (let i = 0; i < partSize; i++) {\n      resourceObservables.push(this.saveResource(resources[i], config).pipe(catchError(() => of({} as Resource))));\n    }\n    return forkJoin(resourceObservables).pipe(\n      mergeMap((resource) => {\n        resources.splice(0, partSize);\n        if (resources.length) {\n          return this.saveResources(resources, config);\n        } else {\n          return of(resource);\n        }\n      })\n    );\n  }\n\n  public saveResource(resource: Resource, config?: RequestConfig): Observable<Resource> {\n    return this.http.post<Resource>('/api/resource', resource, defaultHttpOptionsFromConfig(config));\n  }\n\n  public deleteResource(resourceId: string, config?: RequestConfig) {\n    return this.http.delete(`/api/resource/${resourceId}`, defaultHttpOptionsFromConfig(config));\n  }\n\n}\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { EntityTableHeaderComponent } from '../../components/entity/entity-table-header.component';\nimport { DeviceInfo } from '@app/shared/models/device.models';\nimport { EntityType } from '@shared/models/entity-type.models';\nimport { DeviceProfileId } from '../../../../shared/models/id/device-profile-id';\n\n@Component({\n  selector: 'tb-device-table-header',\n  templateUrl: './device-table-header.component.html',\n  styleUrls: ['./device-table-header.component.scss']\n})\nexport class DeviceTableHeaderComponent extends EntityTableHeaderComponent<DeviceInfo> {\n\n  entityType = EntityType;\n\n  constructor(protected store: Store<AppState>) {\n    super(store);\n  }\n\n  deviceProfileChanged(deviceProfileId: DeviceProfileId) {\n    this.entitiesTableConfig.componentsData.deviceProfileId = deviceProfileId;\n    this.entitiesTableConfig.table.resetSortAndFilter(true);\n  }\n\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<tb-device-profile-autocomplete\n  [ngModel]=\"entitiesTableConfig.componentsData.deviceProfileId\"\n  (ngModelChange)=\"deviceProfileChanged($event)\"\n  [displayAllOnEmpty]=\"true\"\n  [editProfileEnabled]=\"false\">\n</tb-device-profile-autocomplete>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { EntitiesTableComponent } from '../../components/entity/entities-table.component';\nimport { Authority } from '@shared/models/authority.enum';\nimport { DevicesTableConfigResolver } from '@modules/home/pages/device/devices-table-config.resolver';\n\nconst routes: Routes = [\n  {\n    path: 'devices',\n    component: EntitiesTableComponent,\n    data: {\n      auth: [Authority.TENANT_ADMIN, Authority.CUSTOMER_USER],\n      title: 'device.devices',\n      devicesType: 'tenant',\n      breadcrumb: {\n        label: 'device.devices',\n        icon: 'devices_other'\n      }\n    },\n    resolve: {\n      entitiesTableConfig: DevicesTableConfigResolver\n    }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n  providers: [\n    DevicesTableConfigResolver\n  ]\n})\nexport class DeviceRoutingModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Injectable } from '@angular/core';\nimport { Resolve } from '@angular/router';\nimport { TenantProfile } from '@shared/models/tenant.model';\nimport {\n  checkBoxCell,\n  DateEntityTableColumn,\n  EntityTableColumn,\n  EntityTableConfig,\n  HeaderActionDescriptor\n} from '@home/models/entity/entities-table-config.models';\nimport { TranslateService } from '@ngx-translate/core';\nimport { DatePipe } from '@angular/common';\nimport { EntityType, entityTypeResources, entityTypeTranslations } from '@shared/models/entity-type.models';\nimport { EntityAction } from '@home/models/entity/entity-component.models';\nimport { TenantProfileService } from '@core/http/tenant-profile.service';\nimport { TenantProfileComponent } from '../../components/profile/tenant-profile.component';\nimport { TenantProfileTabsComponent } from './tenant-profile-tabs.component';\nimport { DialogService } from '@core/services/dialog.service';\nimport { ImportExportService } from '@home/components/import-export/import-export.service';\n\n@Injectable()\nexport class TenantProfilesTableConfigResolver implements Resolve<EntityTableConfig<TenantProfile>> {\n\n  private readonly config: EntityTableConfig<TenantProfile> = new EntityTableConfig<TenantProfile>();\n\n  constructor(private tenantProfileService: TenantProfileService,\n              private importExport: ImportExportService,\n              private translate: TranslateService,\n              private datePipe: DatePipe,\n              private dialogService: DialogService) {\n\n    this.config.entityType = EntityType.TENANT_PROFILE;\n    this.config.entityComponent = TenantProfileComponent;\n    this.config.entityTabsComponent = TenantProfileTabsComponent;\n    this.config.entityTranslations = entityTypeTranslations.get(EntityType.TENANT_PROFILE);\n    this.config.entityResources = entityTypeResources.get(EntityType.TENANT_PROFILE);\n\n    this.config.columns.push(\n      new DateEntityTableColumn<TenantProfile>('createdTime', 'common.created-time', this.datePipe, '150px'),\n      new EntityTableColumn<TenantProfile>('name', 'tenant-profile.name', '40%'),\n      new EntityTableColumn<TenantProfile>('description', 'tenant-profile.description', '60%'),\n      new EntityTableColumn<TenantProfile>('isDefault', 'tenant-profile.default', '60px',\n        entity => {\n          return checkBoxCell(entity.default);\n        })\n    );\n\n    this.config.cellActionDescriptors.push(\n      {\n        name: this.translate.instant('tenant-profile.export'),\n        icon: 'file_download',\n        isEnabled: () => true,\n        onAction: ($event, entity) => this.exportTenantProfile($event, entity)\n      },\n      {\n        name: this.translate.instant('tenant-profile.set-default'),\n        icon: 'flag',\n        isEnabled: (tenantProfile) => !tenantProfile.default,\n        onAction: ($event, entity) => this.setDefaultTenantProfile($event, entity)\n      }\n    );\n\n    this.config.deleteEntityTitle = tenantProfile => this.translate.instant('tenant-profile.delete-tenant-profile-title',\n      { tenantProfileName: tenantProfile.name });\n    this.config.deleteEntityContent = () => this.translate.instant('tenant-profile.delete-tenant-profile-text');\n    this.config.deleteEntitiesTitle = count => this.translate.instant('tenant-profile.delete-tenant-profiles-title', {count});\n    this.config.deleteEntitiesContent = () => this.translate.instant('tenant-profile.delete-tenant-profiles-text');\n\n    this.config.entitiesFetchFunction = pageLink => this.tenantProfileService.getTenantProfiles(pageLink);\n    this.config.loadEntity = id => this.tenantProfileService.getTenantProfile(id.id);\n    this.config.saveEntity = tenantProfile => this.tenantProfileService.saveTenantProfile(tenantProfile);\n    this.config.deleteEntity = id => this.tenantProfileService.deleteTenantProfile(id.id);\n    this.config.onEntityAction = action => this.onTenantProfileAction(action);\n    this.config.deleteEnabled = (tenantProfile) => tenantProfile && !tenantProfile.default;\n    this.config.entitySelectionEnabled = (tenantProfile) => tenantProfile && !tenantProfile.default;\n    this.config.addActionDescriptors = this.configureAddActions();\n  }\n\n  resolve(): EntityTableConfig<TenantProfile> {\n    this.config.tableTitle = this.translate.instant('tenant-profile.tenant-profiles');\n\n    return this.config;\n  }\n\n  configureAddActions(): Array<HeaderActionDescriptor> {\n    const actions: Array<HeaderActionDescriptor> = [];\n    actions.push(\n      {\n        name: this.translate.instant('tenant-profile.create-tenant-profile'),\n        icon: 'insert_drive_file',\n        isEnabled: () => true,\n        onAction: ($event) => this.config.table.addEntity($event)\n      },\n      {\n        name: this.translate.instant('tenant-profile.import'),\n        icon: 'file_upload',\n        isEnabled: () => true,\n        onAction: ($event) => this.importTenantProfile($event)\n      }\n    );\n    return actions;\n  }\n\n  setDefaultTenantProfile($event: Event, tenantProfile: TenantProfile) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialogService.confirm(\n      this.translate.instant('tenant-profile.set-default-tenant-profile-title', {tenantProfileName: tenantProfile.name}),\n      this.translate.instant('tenant-profile.set-default-tenant-profile-text'),\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n        if (res) {\n          this.tenantProfileService.setDefaultTenantProfile(tenantProfile.id.id).subscribe(\n            () => {\n              this.config.table.updateData();\n            }\n          );\n        }\n      }\n    );\n  }\n\n  importTenantProfile($event: Event) {\n    this.importExport.importTenantProfile().subscribe(\n      (deviceProfile) => {\n        if (deviceProfile) {\n          this.config.table.updateData();\n        }\n      }\n    );\n  }\n\n  exportTenantProfile($event: Event, tenantProfile: TenantProfile) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.importExport.exportTenantProfile(tenantProfile.id.id);\n  }\n\n  onTenantProfileAction(action: EntityAction<TenantProfile>): boolean {\n    switch (action.action) {\n      case 'setDefault':\n        this.setDefaultTenantProfile(action.event, action.entity);\n        return true;\n    }\n    return false;\n  }\n\n}\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Injectable } from '@angular/core';\n\nimport { Resolve, Router } from '@angular/router';\n\nimport { TenantInfo } from '@shared/models/tenant.model';\nimport {\n  DateEntityTableColumn,\n  EntityTableColumn,\n  EntityTableConfig\n} from '@home/models/entity/entities-table-config.models';\nimport { TenantService } from '@core/http/tenant.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { DatePipe } from '@angular/common';\nimport { EntityType, entityTypeResources, entityTypeTranslations } from '@shared/models/entity-type.models';\nimport { TenantComponent } from '@modules/home/pages/tenant/tenant.component';\nimport { EntityAction } from '@home/models/entity/entity-component.models';\nimport { TenantTabsComponent } from '@home/pages/tenant/tenant-tabs.component';\nimport { mergeMap } from 'rxjs/operators';\n\n@Injectable()\nexport class TenantsTableConfigResolver implements Resolve<EntityTableConfig<TenantInfo>> {\n\n  private readonly config: EntityTableConfig<TenantInfo> = new EntityTableConfig<TenantInfo>();\n\n  constructor(private tenantService: TenantService,\n              private translate: TranslateService,\n              private datePipe: DatePipe,\n              private router: Router) {\n\n    this.config.entityType = EntityType.TENANT;\n    this.config.entityComponent = TenantComponent;\n    this.config.entityTabsComponent = TenantTabsComponent;\n    this.config.entityTranslations = entityTypeTranslations.get(EntityType.TENANT);\n    this.config.entityResources = entityTypeResources.get(EntityType.TENANT);\n\n    this.config.columns.push(\n      new DateEntityTableColumn<TenantInfo>('createdTime', 'common.created-time', this.datePipe, '150px'),\n      new EntityTableColumn<TenantInfo>('title', 'tenant.title', '20%'),\n      new EntityTableColumn<TenantInfo>('tenantProfileName', 'tenant-profile.tenant-profile', '20%'),\n      new EntityTableColumn<TenantInfo>('email', 'contact.email', '20%'),\n      new EntityTableColumn<TenantInfo>('country', 'contact.country', '20%'),\n      new EntityTableColumn<TenantInfo>('city', 'contact.city', '20%')\n    );\n\n    this.config.cellActionDescriptors.push(\n      {\n        name: this.translate.instant('tenant.manage-tenant-admins'),\n        icon: 'account_circle',\n        isEnabled: () => true,\n        onAction: ($event, entity) => this.manageTenantAdmins($event, entity)\n      }\n    );\n\n    this.config.deleteEntityTitle = tenant => this.translate.instant('tenant.delete-tenant-title', { tenantTitle: tenant.title });\n    this.config.deleteEntityContent = () => this.translate.instant('tenant.delete-tenant-text');\n    this.config.deleteEntitiesTitle = count => this.translate.instant('tenant.delete-tenants-title', {count});\n    this.config.deleteEntitiesContent = () => this.translate.instant('tenant.delete-tenants-text');\n\n    this.config.entitiesFetchFunction = pageLink => this.tenantService.getTenantInfos(pageLink);\n    this.config.loadEntity = id => this.tenantService.getTenantInfo(id.id);\n    this.config.saveEntity = tenant => this.tenantService.saveTenant(tenant).pipe(\n      mergeMap((savedTenant) => this.tenantService.getTenantInfo(savedTenant.id.id))\n    );\n    this.config.deleteEntity = id => this.tenantService.deleteTenant(id.id);\n    this.config.onEntityAction = action => this.onTenantAction(action);\n  }\n\n  resolve(): EntityTableConfig<TenantInfo> {\n    this.config.tableTitle = this.translate.instant('tenant.tenants');\n\n    return this.config;\n  }\n\n  manageTenantAdmins($event: Event, tenant: TenantInfo) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.router.navigateByUrl(`tenants/${tenant.id.id}/users`);\n  }\n\n  onTenantAction(action: EntityAction<TenantInfo>): boolean {\n    switch (action.action) {\n      case 'manageTenantAdmins':\n        this.manageTenantAdmins(action.event, action.entity);\n        return true;\n    }\n    return false;\n  }\n\n}\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { EntityTabsComponent } from '../../components/entity/entity-tabs.component';\nimport { RuleChain } from '@shared/models/rule-chain.models';\n\n@Component({\n  selector: 'tb-rulechain-tabs',\n  templateUrl: './rulechain-tabs.component.html',\n  styleUrls: []\n})\nexport class RuleChainTabsComponent extends EntityTabsComponent<RuleChain> {\n\n  constructor(protected store: Store<AppState>) {\n    super(store);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n  }\n\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'attribute.attributes' | translate }}\" #attributesTab=\"matTab\">\n  <tb-attribute-table [defaultAttributeScope]=\"attributeScopes.SERVER_SCOPE\"\n                      [active]=\"attributesTab.isActive\"\n                      [entityId]=\"entity.id\"\n                      [entityName]=\"entity.name\">\n  </tb-attribute-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'attribute.latest-telemetry' | translate }}\" #telemetryTab=\"matTab\">\n  <tb-attribute-table [defaultAttributeScope]=\"latestTelemetryTypes.LATEST_TELEMETRY\"\n                      disableAttributeScopeSelection\n                      [active]=\"telemetryTab.isActive\"\n                      [entityId]=\"entity.id\"\n                      [entityName]=\"entity.name\">\n  </tb-attribute-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'alarm.alarms' | translate }}\" #alarmsTab=\"matTab\">\n  <tb-alarm-table [active]=\"alarmsTab.isActive\" [entityId]=\"entity.id\"></tb-alarm-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'rulechain.events' | translate }}\" #eventsTab=\"matTab\">\n  <tb-event-table [debugEventTypes]=\"[debugEventTypes.DEBUG_RULE_CHAIN]\"\n                  [defaultEventType]=\"debugEventTypes.DEBUG_RULE_CHAIN\"\n                  [active]=\"eventsTab.isActive\"\n                  [tenantId]=\"entity.tenantId.id\"\n                  [entityId]=\"entity.id\"></tb-event-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'relation.relations' | translate }}\" #relationsTab=\"matTab\">\n  <tb-relation-table [active]=\"relationsTab.isActive\" [entityId]=\"entity.id\"></tb-relation-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity && authUser.authority === authorities.TENANT_ADMIN\"\n         label=\"{{ 'audit-log.audit-logs' | translate }}\" #auditLogsTab=\"matTab\">\n  <tb-audit-log-table detailsMode=\"true\" [active]=\"auditLogsTab.isActive\" [auditLogMode]=\"auditLogModes.ENTITY\" [entityId]=\"entity.id\"></tb-audit-log-table>\n</mat-tab>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from '@shared/shared.module';\nimport { CustomerComponent } from '@modules/home/pages/customer/customer.component';\nimport { CustomerRoutingModule } from './customer-routing.module';\nimport { HomeComponentsModule } from '@modules/home/components/home-components.module';\nimport { CustomerTabsComponent } from '@home/pages/customer/customer-tabs.component';\n\n@NgModule({\n  declarations: [\n    CustomerComponent,\n    CustomerTabsComponent\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    HomeComponentsModule,\n    CustomerRoutingModule\n  ]\n})\nexport class CustomerModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { EntityTableHeaderComponent } from '../../components/entity/entity-table-header.component';\nimport { EntityType } from '@shared/models/entity-type.models';\nimport { EntityViewInfo } from '@app/shared/models/entity-view.models';\n\n@Component({\n  selector: 'tb-entity-view-table-header',\n  templateUrl: './entity-view-table-header.component.html',\n  styleUrls: ['./entity-view-table-header.component.scss']\n})\nexport class EntityViewTableHeaderComponent extends EntityTableHeaderComponent<EntityViewInfo> {\n\n  entityType = EntityType;\n\n  constructor(protected store: Store<AppState>) {\n    super(store);\n  }\n\n  entityViewTypeChanged(entityViewType: string) {\n    this.entitiesTableConfig.componentsData.entityViewType = entityViewType;\n    this.entitiesTableConfig.table.resetSortAndFilter(true);\n  }\n\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<tb-entity-subtype-select\n  [showLabel]=\"true\"\n  [entityType]=\"entityType.ENTITY_VIEW\"\n  [ngModel]=\"entitiesTableConfig.componentsData.entityViewType\"\n  (ngModelChange)=\"entityViewTypeChanged($event)\">\n</tb-entity-subtype-select>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { EntitiesTableComponent } from '../../components/entity/entities-table.component';\nimport { Authority } from '@shared/models/authority.enum';\nimport { AssetsTableConfigResolver } from './assets-table-config.resolver';\n\nconst routes: Routes = [\n  {\n    path: 'assets',\n    component: EntitiesTableComponent,\n    data: {\n      auth: [Authority.TENANT_ADMIN, Authority.CUSTOMER_USER],\n      title: 'asset.assets',\n      assetsType: 'tenant',\n      breadcrumb: {\n        label: 'asset.assets',\n        icon: 'domain'\n      }\n    },\n    resolve: {\n      entitiesTableConfig: AssetsTableConfigResolver\n    }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n  providers: [\n    AssetsTableConfigResolver\n  ]\n})\nexport class AssetRoutingModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from '@shared/shared.module';\nimport { HomeDialogsModule } from '@home/dialogs/home-dialogs.module';\nimport { HomeComponentsModule } from '@home/components/home-components.module';\nimport { EdgeRoutingModule } from '@home/pages/edge/edge-routing.module';\nimport { EdgeComponent } from '@modules/home/pages/edge/edge.component';\nimport { EdgeTableHeaderComponent } from '@home/pages/edge/edge-table-header.component';\nimport { EdgeTabsComponent } from '@home/pages/edge/edge-tabs.component';\n\n@NgModule({\n  declarations: [\n    EdgeComponent,\n    EdgeTableHeaderComponent,\n    EdgeTabsComponent\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    HomeDialogsModule,\n    HomeComponentsModule,\n    EdgeRoutingModule\n  ]\n})\n\nexport class EdgeModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, Input, OnChanges, OnInit, SimpleChanges, ViewChild } from '@angular/core';\nimport { PageComponent } from '@shared/components/page.component';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { FcRuleNode, RuleNodeType } from '@shared/models/rule-node.models';\nimport { EntityType } from '@shared/models/entity-type.models';\nimport { Subscription } from 'rxjs';\nimport { RuleChainService } from '@core/http/rule-chain.service';\nimport { RuleNodeConfigComponent } from './rule-node-config.component';\nimport { Router } from '@angular/router';\nimport { RuleChainType } from '@app/shared/models/rule-chain.models';\n\n@Component({\n  selector: 'tb-rule-node',\n  templateUrl: './rule-node-details.component.html',\n  styleUrls: ['./rule-node-details.component.scss']\n})\nexport class RuleNodeDetailsComponent extends PageComponent implements OnInit, OnChanges {\n\n  @ViewChild('ruleNodeConfigComponent') ruleNodeConfigComponent: RuleNodeConfigComponent;\n\n  @Input()\n  ruleNode: FcRuleNode;\n\n  @Input()\n  ruleChainId: string;\n\n  @Input()\n  ruleChainType: RuleChainType;\n\n  @Input()\n  isEdit: boolean;\n\n  @Input()\n  isReadOnly: boolean;\n\n  @Input()\n  isAdd = false;\n\n  ruleNodeType = RuleNodeType;\n  entityType = EntityType;\n\n  ruleNodeFormGroup: FormGroup;\n\n  private ruleNodeFormSubscription: Subscription;\n\n  constructor(protected store: Store<AppState>,\n              private fb: FormBuilder,\n              private ruleChainService: RuleChainService,\n              private router: Router) {\n    super(store);\n    this.ruleNodeFormGroup = this.fb.group({});\n  }\n\n  private buildForm() {\n    if (this.ruleNodeFormSubscription) {\n      this.ruleNodeFormSubscription.unsubscribe();\n      this.ruleNodeFormSubscription = null;\n    }\n    if (this.ruleNode) {\n      if (this.ruleNode.component.type !== RuleNodeType.RULE_CHAIN) {\n\n        this.ruleNodeFormGroup = this.fb.group({\n          name: [this.ruleNode.name, [Validators.required, Validators.pattern('(.|\\\\s)*\\\\S(.|\\\\s)*'), Validators.maxLength(255)]],\n          debugMode: [this.ruleNode.debugMode, []],\n          configuration: [this.ruleNode.configuration, [Validators.required]],\n          additionalInfo: this.fb.group(\n            {\n              description: [this.ruleNode.additionalInfo ? this.ruleNode.additionalInfo.description : ''],\n            }\n          )\n        });\n      } else {\n        this.ruleNodeFormGroup = this.fb.group({\n          targetRuleChainId: [this.ruleNode.targetRuleChainId, [Validators.required]],\n          additionalInfo: this.fb.group(\n            {\n              description: [this.ruleNode.additionalInfo ? this.ruleNode.additionalInfo.description : ''],\n            }\n          )\n        });\n      }\n      this.ruleNodeFormSubscription = this.ruleNodeFormGroup.valueChanges.subscribe(() => {\n        this.updateRuleNode();\n      });\n    } else {\n      this.ruleNodeFormGroup = this.fb.group({});\n    }\n  }\n\n  private updateRuleNode() {\n    const formValue = this.ruleNodeFormGroup.value || {};\n\n    if (this.ruleNode.component.type === RuleNodeType.RULE_CHAIN) {\n      const targetRuleChainId: string = formValue.targetRuleChainId;\n      if (this.ruleNode.targetRuleChainId !== targetRuleChainId && targetRuleChainId) {\n        this.ruleChainService.getRuleChain(targetRuleChainId).subscribe(\n          (ruleChain) => {\n            this.ruleNode.name = ruleChain.name;\n            Object.assign(this.ruleNode, formValue);\n          }\n        );\n      } else {\n        Object.assign(this.ruleNode, formValue);\n      }\n    } else {\n      formValue.name = formValue.name.trim();\n      Object.assign(this.ruleNode, formValue);\n    }\n  }\n\n  ngOnInit(): void {\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    for (const propName of Object.keys(changes)) {\n      const change = changes[propName];\n      if (change.currentValue !== change.previousValue) {\n        if (propName === 'ruleNode') {\n          this.buildForm();\n        }\n      }\n    }\n  }\n\n  validate() {\n    if (this.ruleNode.component.type !== RuleNodeType.RULE_CHAIN) {\n      this.ruleNodeConfigComponent.validate();\n    }\n  }\n\n  openRuleChain($event: Event) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    if (this.ruleNode.targetRuleChainId) {\n      if (this.ruleChainType === RuleChainType.EDGE) {\n        this.router.navigateByUrl(`/edgeManagement/ruleChains/${this.ruleNode.targetRuleChainId}`);\n      } else {\n        this.router.navigateByUrl(`/ruleChains/${this.ruleNode.targetRuleChainId}`);\n      }\n    }\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div class=\"tb-details-buttons\" *ngIf=\"!isAdd && ruleNode.component.type === ruleNodeType.RULE_CHAIN\">\n  <button mat-raised-button color=\"primary\"\n          (click)=\"openRuleChain($event)\">\n    {{'rulechain.open-rulechain' | translate }}\n  </button>\n</div>\n<form [formGroup]=\"ruleNodeFormGroup\" class=\"mat-padding\">\n  <fieldset [disabled]=\"(isLoading$ | async) || !isEdit || isReadOnly\">\n    <section *ngIf=\"ruleNode.component.type !== ruleNodeType.RULE_CHAIN\">\n      <section fxLayout=\"column\" fxLayout.gt-sm=\"row\">\n        <mat-form-field fxFlex class=\"mat-block\">\n          <mat-label translate>rulenode.name</mat-label>\n          <input matInput formControlName=\"name\" required>\n          <mat-error *ngIf=\"ruleNodeFormGroup.get('name').hasError('required')\n                         || ruleNodeFormGroup.get('name').hasError('pattern')\">\n            {{ 'rulenode.name-required' | translate }}\n          </mat-error>\n          <mat-error *ngIf=\"ruleNodeFormGroup.get('name').hasError('maxlength')\">\n            {{ 'rulenode.name-max-length' | translate }}\n          </mat-error>\n        </mat-form-field>\n        <mat-checkbox formControlName=\"debugMode\">\n          {{ 'rulenode.debug-mode' | translate }}\n        </mat-checkbox>\n      </section>\n      <tb-rule-node-config #ruleNodeConfigComponent\n        formControlName=\"configuration\"\n        [ruleNodeId]=\"ruleNode.ruleNodeId?.id\"\n        [nodeDefinition]=\"ruleNode.component.configurationDescriptor.nodeDefinition\">\n      </tb-rule-node-config>\n      <div formGroupName=\"additionalInfo\" fxLayout=\"column\">\n        <mat-form-field class=\"mat-block\">\n          <mat-label translate>rulenode.description</mat-label>\n          <textarea matInput formControlName=\"description\" rows=\"2\"></textarea>\n        </mat-form-field>\n      </div>\n    </section>\n    <section *ngIf=\"ruleNode.component.type === ruleNodeType.RULE_CHAIN\">\n      <tb-entity-autocomplete required\n                              [excludeEntityIds]=\"[ruleChainId]\"\n                              [entityType]=\"entityType.RULE_CHAIN\"\n                              [entitySubtype]=\"ruleChainType\"\n                              formControlName=\"targetRuleChainId\">\n      </tb-entity-autocomplete>\n      <div formGroupName=\"additionalInfo\" fxLayout=\"column\">\n        <mat-form-field class=\"mat-block\">\n          <mat-label translate>rulenode.description</mat-label>\n          <textarea matInput formControlName=\"description\" rows=\"2\"></textarea>\n        </mat-form-field>\n      </div>\n    </section>\n  </fieldset>\n</form>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, forwardRef, Input, OnInit } from '@angular/core';\nimport {\n  ControlValueAccessor,\n  FormBuilder,\n  FormGroup,\n  NG_VALIDATORS,\n  NG_VALUE_ACCESSOR,\n  ValidationErrors,\n  Validator,\n  Validators\n} from '@angular/forms';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@app/core/core.state';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport {\n  DeviceData,\n  deviceProfileTypeConfigurationInfoMap,\n  deviceTransportTypeConfigurationInfoMap\n} from '@shared/models/device.models';\n\n@Component({\n  selector: 'tb-device-data',\n  templateUrl: './device-data.component.html',\n  styleUrls: [],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => DeviceDataComponent),\n      multi: true\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => DeviceDataComponent),\n      multi: true\n    },\n  ]\n})\nexport class DeviceDataComponent implements ControlValueAccessor, OnInit, Validator {\n\n  deviceDataFormGroup: FormGroup;\n\n  private requiredValue: boolean;\n  get required(): boolean {\n    return this.requiredValue;\n  }\n  @Input()\n  set required(value: boolean) {\n    this.requiredValue = coerceBooleanProperty(value);\n  }\n\n  @Input()\n  disabled: boolean;\n\n  displayDeviceConfiguration: boolean;\n  displayTransportConfiguration: boolean;\n\n  private propagateChange = (v: any) => { };\n\n  constructor(private store: Store<AppState>,\n              private fb: FormBuilder) {\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  ngOnInit() {\n    this.deviceDataFormGroup = this.fb.group({\n      configuration: [null, Validators.required],\n      transportConfiguration: [null, Validators.required]\n    });\n    this.deviceDataFormGroup.valueChanges.subscribe(() => {\n      this.updateModel();\n    });\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n    if (this.disabled) {\n      this.deviceDataFormGroup.disable({emitEvent: false});\n    } else {\n      this.deviceDataFormGroup.enable({emitEvent: false});\n    }\n  }\n\n  writeValue(value: DeviceData | null): void {\n    const deviceProfileType = value?.configuration?.type;\n    this.displayDeviceConfiguration = deviceProfileType &&\n      deviceProfileTypeConfigurationInfoMap.get(deviceProfileType).hasDeviceConfiguration;\n    const deviceTransportType = value?.transportConfiguration?.type;\n    this.displayTransportConfiguration = deviceTransportType &&\n      deviceTransportTypeConfigurationInfoMap.get(deviceTransportType).hasDeviceConfiguration;\n    this.deviceDataFormGroup.patchValue({configuration: value?.configuration}, {emitEvent: false});\n    this.deviceDataFormGroup.patchValue({transportConfiguration: value?.transportConfiguration}, {emitEvent: false});\n  }\n\n  validate(): ValidationErrors | null {\n    return this.deviceDataFormGroup.valid ? null : {\n      deviceDataForm: false\n    };\n  }\n\n  private updateModel() {\n    let deviceData: DeviceData = null;\n    if (this.deviceDataFormGroup.valid) {\n      deviceData = this.deviceDataFormGroup.getRawValue();\n    }\n    this.propagateChange(deviceData);\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div [formGroup]=\"deviceDataFormGroup\" style=\"padding-bottom: 16px;\">\n  <mat-accordion multi=\"true\">\n    <mat-expansion-panel *ngIf=\"displayDeviceConfiguration\" [expanded]=\"true\">\n      <mat-expansion-panel-header>\n        <mat-panel-title>\n          <div translate>device.device-configuration</div>\n        </mat-panel-title>\n      </mat-expansion-panel-header>\n      <tb-device-configuration\n        formControlName=\"configuration\"\n        required>\n      </tb-device-configuration>\n    </mat-expansion-panel>\n    <mat-expansion-panel *ngIf=\"displayTransportConfiguration\" [expanded]=\"true\">\n      <mat-expansion-panel-header>\n        <mat-panel-title>\n          <div translate>device.transport-configuration</div>\n        </mat-panel-title>\n      </mat-expansion-panel-header>\n      <tb-device-transport-configuration\n        formControlName=\"transportConfiguration\"\n        required>\n      </tb-device-transport-configuration>\n    </mat-expansion-panel>\n  </mat-accordion>\n</div>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, forwardRef, Input, OnInit } from '@angular/core';\nimport {\n  ControlValueAccessor,\n  FormBuilder,\n  FormGroup,\n  NG_VALIDATORS,\n  NG_VALUE_ACCESSOR,\n  ValidationErrors,\n  Validator,\n  Validators\n} from '@angular/forms';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@app/core/core.state';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { DeviceTransportConfiguration, DeviceTransportType } from '@shared/models/device.models';\nimport { deepClone } from '@core/utils';\n\n@Component({\n  selector: 'tb-device-transport-configuration',\n  templateUrl: './device-transport-configuration.component.html',\n  styleUrls: [],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => DeviceTransportConfigurationComponent),\n      multi: true\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => DeviceTransportConfigurationComponent),\n      multi: true\n    }]\n})\nexport class DeviceTransportConfigurationComponent implements ControlValueAccessor, OnInit, Validator {\n\n  deviceTransportType = DeviceTransportType;\n\n  deviceTransportConfigurationFormGroup: FormGroup;\n\n  private requiredValue: boolean;\n  get required(): boolean {\n    return this.requiredValue;\n  }\n  @Input()\n  set required(value: boolean) {\n    this.requiredValue = coerceBooleanProperty(value);\n  }\n\n  @Input()\n  disabled: boolean;\n\n  transportType: DeviceTransportType;\n\n  private propagateChange = (v: any) => { };\n\n  constructor(private store: Store<AppState>,\n              private fb: FormBuilder) {\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  ngOnInit() {\n    this.deviceTransportConfigurationFormGroup = this.fb.group({\n      configuration: [null, Validators.required]\n    });\n    this.deviceTransportConfigurationFormGroup.valueChanges.subscribe(() => {\n      this.updateModel();\n    });\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n    if (this.disabled) {\n      this.deviceTransportConfigurationFormGroup.disable({emitEvent: false});\n    } else {\n      this.deviceTransportConfigurationFormGroup.enable({emitEvent: false});\n    }\n  }\n\n  writeValue(value: DeviceTransportConfiguration | null): void {\n    this.transportType = value?.type;\n    const configuration = deepClone(value);\n    if (configuration) {\n      delete configuration.type;\n    }\n    setTimeout(() => {\n      this.deviceTransportConfigurationFormGroup.patchValue({configuration}, {emitEvent: false});\n    }, 0);\n  }\n\n  validate(): ValidationErrors | null {\n    return this.deviceTransportConfigurationFormGroup.valid ? null : {\n      deviceTransportConfiguration: false\n    };\n  }\n\n  private updateModel() {\n    let configuration: DeviceTransportConfiguration = null;\n    if (this.deviceTransportConfigurationFormGroup.valid) {\n      configuration = this.deviceTransportConfigurationFormGroup.getRawValue().configuration;\n      configuration.type = this.transportType;\n    }\n    this.propagateChange(configuration);\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div [formGroup]=\"deviceTransportConfigurationFormGroup\">\n  <div [ngSwitch]=\"transportType\">\n    <ng-template [ngSwitchCase]=\"deviceTransportType.DEFAULT\">\n      <tb-default-device-transport-configuration\n        [required]=\"required\"\n        formControlName=\"configuration\">\n      </tb-default-device-transport-configuration>\n    </ng-template>\n    <ng-template [ngSwitchCase]=\"deviceTransportType.MQTT\">\n      <tb-mqtt-device-transport-configuration\n        [required]=\"required\"\n        formControlName=\"configuration\">\n      </tb-mqtt-device-transport-configuration>\n    </ng-template>\n    <ng-template [ngSwitchCase]=\"deviceTransportType.LWM2M\">\n      <tb-lwm2m-device-transport-configuration\n        [required]=\"required\"\n        formControlName=\"configuration\">\n      </tb-lwm2m-device-transport-configuration>\n    </ng-template>\n    <ng-template [ngSwitchCase]=\"deviceTransportType.COAP\">\n      <tb-coap-device-transport-configuration\n        [required]=\"required\"\n        formControlName=\"configuration\">\n      </tb-coap-device-transport-configuration>\n    </ng-template>\n    <ng-template [ngSwitchCase]=\"deviceTransportType.SNMP\">\n      <tb-snmp-device-transport-configuration\n        [required]=\"required\"\n        formControlName=\"configuration\">\n      </tb-snmp-device-transport-configuration>\n    </ng-template>\n  </div>\n</div>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { EdgeInfo } from '@shared/models/edge.models';\nimport { EntityTabsComponent } from '@home/components/entity/entity-tabs.component';\n\n@Component({\n  selector: 'tb-edge-tabs',\n  templateUrl: './edge-tabs.component.html',\n  styleUrls: []\n})\nexport class EdgeTabsComponent extends EntityTabsComponent<EdgeInfo> {\n\n  constructor(protected store: Store<AppState>) {\n    super(store);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n  }\n\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'attribute.attributes' | translate }}\" #attributesTab=\"matTab\">\n  <tb-attribute-table [defaultAttributeScope]=\"attributeScopes.SERVER_SCOPE\"\n                      [active]=\"attributesTab.isActive\"\n                      [entityId]=\"entity.id\"\n                      [entityName]=\"entity.name\">\n  </tb-attribute-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'attribute.latest-telemetry' | translate }}\" #telemetryTab=\"matTab\">\n  <tb-attribute-table [defaultAttributeScope]=\"latestTelemetryTypes.LATEST_TELEMETRY\"\n                      disableAttributeScopeSelection\n                      [active]=\"telemetryTab.isActive\"\n                      [entityId]=\"entity.id\"\n                      [entityName]=\"entity.name\">\n  </tb-attribute-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'alarm.alarms' | translate }}\" #alarmsTab=\"matTab\">\n  <tb-alarm-table [active]=\"alarmsTab.isActive\" [entityId]=\"entity.id\"></tb-alarm-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'edge.events' | translate }}\" #eventsTab=\"matTab\">\n  <tb-event-table [defaultEventType]=\"eventTypes.ERROR\" [active]=\"eventsTab.isActive\" [tenantId]=\"entity.tenantId.id\"\n                  [entityId]=\"entity.id\"></tb-event-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity && authUser.authority === authorities.TENANT_ADMIN\"\n         label=\"{{ 'edge.downlinks' | translate }}\" #downLinksTab=\"matTab\">\n  <tb-edge-downlink-table [active]=\"downLinksTab.isActive\"\n                  [entityId]=\"entity.id\"></tb-edge-downlink-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'relation.relations' | translate }}\" #relationsTab=\"matTab\">\n  <tb-relation-table [active]=\"relationsTab.isActive\" [entityId]=\"entity.id\"></tb-relation-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity && authUser.authority === authorities.TENANT_ADMIN\"\n         label=\"{{ 'audit-log.audit-logs' | translate }}\" #auditLogsTab=\"matTab\">\n  <tb-audit-log-table detailsMode=\"true\" [active]=\"auditLogsTab.isActive\" [auditLogMode]=\"auditLogModes.ENTITY\" [entityId]=\"entity.id\"></tb-audit-log-table>\n</mat-tab>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from '@shared/shared.module';\nimport { HomeComponentsModule } from '@home/components/home-components.module';\nimport { OtaUpdateRoutingModule } from '@home/pages/ota-update/ota-update-routing.module';\nimport { OtaUpdateComponent } from '@home/pages/ota-update/ota-update.component';\n\n@NgModule({\n  declarations: [\n    OtaUpdateComponent\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    HomeComponentsModule,\n    OtaUpdateRoutingModule\n  ]\n})\nexport class OtaUpdateModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { ChangeDetectorRef, Component, Inject } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Tenant, TenantInfo } from '@app/shared/models/tenant.model';\nimport { ActionNotificationShow } from '@app/core/notification/notification.actions';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ContactBasedComponent } from '../../components/entity/contact-based.component';\nimport { EntityTableConfig } from '@home/models/entity/entities-table-config.models';\nimport { isDefinedAndNotNull } from '@core/utils';\n\n@Component({\n  selector: 'tb-tenant',\n  templateUrl: './tenant.component.html',\n  styleUrls: ['./tenant.component.scss']\n})\nexport class TenantComponent extends ContactBasedComponent<TenantInfo> {\n\n  constructor(protected store: Store<AppState>,\n              protected translate: TranslateService,\n              @Inject('entity') protected entityValue: TenantInfo,\n              @Inject('entitiesTableConfig') protected entitiesTableConfigValue: EntityTableConfig<TenantInfo>,\n              protected fb: FormBuilder,\n              protected cd: ChangeDetectorRef) {\n    super(store, fb, entityValue, entitiesTableConfigValue, cd);\n  }\n\n  hideDelete() {\n    if (this.entitiesTableConfig) {\n      return !this.entitiesTableConfig.deleteEnabled(this.entity);\n    } else {\n      return false;\n    }\n  }\n\n  buildEntityForm(entity: TenantInfo): FormGroup {\n    return this.fb.group(\n      {\n        title: [entity ? entity.title : '', [Validators.required, Validators.maxLength(255)]],\n        tenantProfileId: [entity ? entity.tenantProfileId : null, [Validators.required]],\n        additionalInfo: this.fb.group(\n          {\n            description: [entity && entity.additionalInfo ? entity.additionalInfo.description : ''],\n            homeDashboardId: [entity && entity.additionalInfo ? entity.additionalInfo.homeDashboardId : null],\n            homeDashboardHideToolbar: [entity && entity.additionalInfo &&\n            isDefinedAndNotNull(entity.additionalInfo.homeDashboardHideToolbar) ? entity.additionalInfo.homeDashboardHideToolbar : true]\n          }\n        )\n      }\n    );\n  }\n\n  updateEntityForm(entity: Tenant) {\n    this.entityForm.patchValue({title: entity.title});\n    this.entityForm.patchValue({tenantProfileId: entity.tenantProfileId});\n    this.entityForm.patchValue({additionalInfo: {description: entity.additionalInfo ? entity.additionalInfo.description : ''}});\n    this.entityForm.patchValue({additionalInfo:\n        {homeDashboardId: entity.additionalInfo ? entity.additionalInfo.homeDashboardId : null}});\n    this.entityForm.patchValue({additionalInfo:\n        {homeDashboardHideToolbar: entity.additionalInfo &&\n          isDefinedAndNotNull(entity.additionalInfo.homeDashboardHideToolbar) ? entity.additionalInfo.homeDashboardHideToolbar : true}});\n  }\n\n  updateFormState() {\n    if (this.entityForm) {\n      if (this.isEditValue) {\n        this.entityForm.enable({emitEvent: false});\n      } else {\n        this.entityForm.disable({emitEvent: false});\n      }\n    }\n  }\n\n  onTenantIdCopied(event) {\n    this.store.dispatch(new ActionNotificationShow(\n      {\n        message: this.translate.instant('tenant.idCopiedMessage'),\n        type: 'success',\n        duration: 750,\n        verticalPosition: 'bottom',\n        horizontalPosition: 'right'\n      }));\n  }\n\n  onTenantProfileUpdated() {\n    this.entitiesTableConfig.table.updateData(false);\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div class=\"tb-details-buttons\" fxLayout.xs=\"column\">\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'manageTenantAdmins')\"\n          [fxShow]=\"!isEdit\">\n    {{'tenant.manage-tenant-admins' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'delete')\"\n          [fxShow]=\"!hideDelete() && !isEdit\">\n    {{'tenant.delete' | translate }}\n  </button>\n  <div fxLayout=\"row\" fxLayout.xs=\"column\">\n    <button mat-raised-button\n            ngxClipboard\n            (cbOnSuccess)=\"onTenantIdCopied($event)\"\n            [cbContent]=\"entity?.id?.id\"\n            [fxShow]=\"!isEdit\">\n      <mat-icon svgIcon=\"mdi:clipboard-arrow-left\"></mat-icon>\n      <span translate>tenant.copyId</span>\n    </button>\n  </div>\n</div>\n<div class=\"mat-padding\" fxLayout=\"column\">\n  <form [formGroup]=\"entityForm\">\n    <fieldset [disabled]=\"(isLoading$ | async) || !isEdit\">\n      <mat-form-field class=\"mat-block\">\n        <mat-label translate>tenant.title</mat-label>\n        <input matInput formControlName=\"title\" required/>\n        <mat-error *ngIf=\"entityForm.get('title').hasError('required')\">\n          {{ 'tenant.title-required' | translate }}\n        </mat-error>\n        <mat-error *ngIf=\"entityForm.get('title').hasError('maxlength')\">\n          {{ 'tenant.title-max-length' | translate }}\n        </mat-error>\n      </mat-form-field>\n      <tb-tenant-profile-autocomplete\n        [selectDefaultProfile]=\"isAdd\"\n        required\n        formControlName=\"tenantProfileId\"\n        (tenantProfileUpdated)=\"onTenantProfileUpdated()\">\n      </tb-tenant-profile-autocomplete>\n      <div formGroupName=\"additionalInfo\" fxLayout=\"column\">\n        <mat-form-field class=\"mat-block\">\n          <mat-label translate>tenant.description</mat-label>\n          <textarea matInput formControlName=\"description\" rows=\"2\"></textarea>\n        </mat-form-field>\n        <section class=\"tb-default-dashboard\" fxFlex fxLayout=\"column\" *ngIf=\"entity?.id\">\n          <section fxFlex fxLayout=\"column\" fxLayout.gt-sm=\"row\">\n            <tb-dashboard-autocomplete\n              fxFlex\n              placeholder=\"{{ 'dashboard.home-dashboard' | translate }}\"\n              formControlName=\"homeDashboardId\"\n              [dashboardsScope]=\"'tenant'\"\n              [tenantId]=\"entity?.id.id\"\n              [selectFirstDashboard]=\"false\"\n            ></tb-dashboard-autocomplete>\n            <mat-checkbox fxFlex formControlName=\"homeDashboardHideToolbar\">\n              {{ 'dashboard.home-dashboard-hide-toolbar' | translate }}\n            </mat-checkbox>\n          </section>\n        </section>\n      </div>\n      <tb-contact [parentForm]=\"entityForm\" [isEdit]=\"isEdit\"></tb-contact>\n    </fieldset>\n  </form>\n</div>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { ChangeDetectorRef, Component, Inject } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { EntityComponent } from '../../components/entity/entity.component';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport {\n  createDeviceConfiguration,\n  createDeviceTransportConfiguration, DeviceCredentials,\n  DeviceData,\n  DeviceInfo,\n  DeviceProfileInfo,\n  DeviceProfileType,\n  DeviceTransportType\n} from '@shared/models/device.models';\nimport { EntityType } from '@shared/models/entity-type.models';\nimport { NULL_UUID } from '@shared/models/id/has-uuid';\nimport { ActionNotificationShow } from '@core/notification/notification.actions';\nimport { TranslateService } from '@ngx-translate/core';\nimport { EntityTableConfig } from '@home/models/entity/entities-table-config.models';\nimport { Subject } from 'rxjs';\nimport { OtaUpdateType } from '@shared/models/ota-package.models';\nimport { distinctUntilChanged } from 'rxjs/operators';\n\n@Component({\n  selector: 'tb-device',\n  templateUrl: './device.component.html',\n  styleUrls: ['./device.component.scss']\n})\nexport class DeviceComponent extends EntityComponent<DeviceInfo> {\n\n  entityType = EntityType;\n\n  deviceCredentials$: Subject<DeviceCredentials>;\n\n  deviceScope: 'tenant' | 'customer' | 'customer_user' | 'edge' | 'edge_customer_user';\n\n  otaUpdateType = OtaUpdateType;\n\n  constructor(protected store: Store<AppState>,\n              protected translate: TranslateService,\n              @Inject('entity') protected entityValue: DeviceInfo,\n              @Inject('entitiesTableConfig') protected entitiesTableConfigValue: EntityTableConfig<DeviceInfo>,\n              public fb: FormBuilder,\n              protected cd: ChangeDetectorRef) {\n    super(store, fb, entityValue, entitiesTableConfigValue, cd);\n  }\n\n  ngOnInit() {\n    this.deviceScope = this.entitiesTableConfig.componentsData.deviceScope;\n    this.deviceCredentials$ = this.entitiesTableConfigValue.componentsData.deviceCredentials$;\n    super.ngOnInit();\n  }\n\n  hideDelete() {\n    if (this.entitiesTableConfig) {\n      return !this.entitiesTableConfig.deleteEnabled(this.entity);\n    } else {\n      return false;\n    }\n  }\n\n  isAssignedToCustomer(entity: DeviceInfo): boolean {\n    return entity && entity.customerId && entity.customerId.id !== NULL_UUID;\n  }\n\n  buildForm(entity: DeviceInfo): FormGroup {\n    const form = this.fb.group(\n      {\n        name: [entity ? entity.name : '', [Validators.required, Validators.maxLength(255)]],\n        deviceProfileId: [entity ? entity.deviceProfileId : null, [Validators.required]],\n        firmwareId: [entity ? entity.firmwareId : null],\n        softwareId: [entity ? entity.softwareId : null],\n        label: [entity ? entity.label : '', [Validators.maxLength(255)]],\n        deviceData: [entity ? entity.deviceData : null, [Validators.required]],\n        additionalInfo: this.fb.group(\n          {\n            gateway: [entity && entity.additionalInfo ? entity.additionalInfo.gateway : false],\n            overwriteActivityTime: [entity && entity.additionalInfo ? entity.additionalInfo.overwriteActivityTime : false],\n            description: [entity && entity.additionalInfo ? entity.additionalInfo.description : ''],\n          }\n        )\n      }\n    );\n    form.get('deviceProfileId').valueChanges.pipe(\n      distinctUntilChanged((prev, curr) => prev?.id === curr?.id)\n    ).subscribe(profileId => {\n      if (profileId && this.isEdit) {\n        this.entityForm.patchValue({\n          firmwareId: null,\n          softwareId: null\n        }, {emitEvent: false});\n      }\n    });\n    return form;\n  }\n\n  updateForm(entity: DeviceInfo) {\n    this.entityForm.patchValue({\n      name: entity.name,\n      deviceProfileId: entity.deviceProfileId,\n      firmwareId: entity.firmwareId,\n      softwareId: entity.softwareId,\n      label: entity.label,\n      deviceData: entity.deviceData,\n      additionalInfo: {\n        gateway: entity.additionalInfo ? entity.additionalInfo.gateway : false,\n        overwriteActivityTime: entity.additionalInfo ? entity.additionalInfo.overwriteActivityTime : false,\n        description: entity.additionalInfo ? entity.additionalInfo.description : ''\n      }\n    });\n  }\n\n\n  onDeviceIdCopied($event) {\n    this.store.dispatch(new ActionNotificationShow(\n      {\n        message: this.translate.instant('device.idCopiedMessage'),\n        type: 'success',\n        duration: 750,\n        verticalPosition: 'bottom',\n        horizontalPosition: 'right'\n      }));\n  }\n\n  onDeviceProfileUpdated() {\n    this.entitiesTableConfig.table.updateData(false);\n  }\n\n  onDeviceProfileChanged(deviceProfile: DeviceProfileInfo) {\n    if (deviceProfile && this.isEdit) {\n      const deviceProfileType: DeviceProfileType = deviceProfile.type;\n      const deviceTransportType: DeviceTransportType = deviceProfile.transportType;\n      let deviceData: DeviceData = this.entityForm.getRawValue().deviceData;\n      if (!deviceData) {\n        deviceData = {\n          configuration: createDeviceConfiguration(deviceProfileType),\n          transportConfiguration: createDeviceTransportConfiguration(deviceTransportType)\n        };\n        this.entityForm.patchValue({deviceData});\n        this.entityForm.markAsDirty();\n      } else {\n        let changed = false;\n        if (deviceData.configuration.type !== deviceProfileType) {\n          deviceData.configuration = createDeviceConfiguration(deviceProfileType);\n          changed = true;\n        }\n        if (deviceData.transportConfiguration.type !== deviceTransportType) {\n          deviceData.transportConfiguration = createDeviceTransportConfiguration(deviceTransportType);\n          changed = true;\n        }\n        if (changed) {\n          this.entityForm.patchValue({deviceData});\n          this.entityForm.markAsDirty();\n        }\n      }\n    }\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div class=\"tb-details-buttons\" fxLayout.xs=\"column\">\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'makePublic')\"\n          [fxShow]=\"!isEdit && deviceScope === 'tenant' && !isAssignedToCustomer(entity) && !entity?.customerIsPublic\">\n    {{'device.make-public' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'assignToCustomer')\"\n          [fxShow]=\"!isEdit && deviceScope === 'tenant' && !isAssignedToCustomer(entity)\">\n    {{'device.assign-to-customer' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'unassignFromCustomer')\"\n          [fxShow]=\"!isEdit && (deviceScope === 'customer' || deviceScope === 'tenant') && isAssignedToCustomer(entity)\">\n    {{ (entity?.customerIsPublic ? 'device.make-private' : 'device.unassign-from-customer') | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'manageCredentials')\"\n          [fxShow]=\"!isEdit\">\n    {{ ((deviceScope === 'customer_user' || deviceScope === 'edge_customer_user') ? 'device.view-credentials' : 'device.manage-credentials') | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'unassignFromEdge')\"\n          [fxShow]=\"!isEdit && deviceScope === 'edge'\">\n    {{ 'edge.unassign-from-edge' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\" fxFlex.xs\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'delete')\"\n          [fxShow]=\"!hideDelete() && !isEdit\">\n    {{'device.delete' | translate }}\n  </button>\n  <div fxLayout=\"row\" fxLayout.xs=\"column\">\n    <button mat-raised-button\n            ngxClipboard\n            (cbOnSuccess)=\"onDeviceIdCopied($event)\"\n            [cbContent]=\"entity?.id?.id\"\n            [disabled]=\"(isLoading$ | async)\"\n            [fxShow]=\"!isEdit\">\n      <mat-icon svgIcon=\"mdi:clipboard-arrow-left\"></mat-icon>\n      <span translate>device.copyId</span>\n    </button>\n    <tb-copy-device-credentials\n      [fxShow]=\"!isEdit\"\n      [disabled]=\"(isLoading$ | async)\"\n      [credentials$]=\"deviceCredentials$\"\n      [deviceId]=\"entity?.id\">\n    </tb-copy-device-credentials>\n  </div>\n</div>\n<div class=\"mat-padding\" fxLayout=\"column\">\n  <mat-form-field class=\"mat-block\"\n                  [fxShow]=\"!isEdit && isAssignedToCustomer(entity)\n                              && !entity?.customerIsPublic && deviceScope === 'tenant'\">\n    <mat-label translate>device.assignedToCustomer</mat-label>\n    <input matInput disabled [ngModel]=\"entity?.customerTitle\">\n  </mat-form-field>\n  <div class=\"tb-small\" style=\"padding-bottom: 10px; padding-left: 2px;\"\n       [fxShow]=\"!isEdit && entity?.customerIsPublic && (deviceScope === 'customer' || deviceScope === 'tenant')\">\n    {{ 'device.device-public' | translate }}\n  </div>\n  <form [formGroup]=\"entityForm\">\n    <fieldset [disabled]=\"(isLoading$ | async) || !isEdit\">\n      <mat-form-field class=\"mat-block\">\n        <mat-label translate>device.name</mat-label>\n        <input matInput formControlName=\"name\" required>\n        <mat-error *ngIf=\"entityForm.get('name').hasError('required')\">\n          {{ 'device.name-required' | translate }}\n        </mat-error>\n        <mat-error *ngIf=\"entityForm.get('name').hasError('maxlength')\">\n          {{ 'device.name-max-length' | translate }}\n        </mat-error>\n      </mat-form-field>\n      <tb-device-profile-autocomplete\n        [selectDefaultProfile]=\"isAdd\"\n        required\n        formControlName=\"deviceProfileId\"\n        (deviceProfileUpdated)=\"onDeviceProfileUpdated()\"\n        (deviceProfileChanged)=\"onDeviceProfileChanged($event)\">\n      </tb-device-profile-autocomplete>\n      <mat-form-field class=\"mat-block\">\n        <mat-label translate>device.label</mat-label>\n        <input matInput formControlName=\"label\">\n        <mat-error *ngIf=\"entityForm.get('label').hasError('maxlength')\">\n          {{ 'device.label-max-length' | translate }}\n        </mat-error>\n      </mat-form-field>\n      <tb-ota-package-autocomplete\n        [useFullEntityId]=\"true\"\n        [type]=\"otaUpdateType.FIRMWARE\"\n        [deviceProfileId]=\"entityForm.get('deviceProfileId').value?.id\"\n        formControlName=\"firmwareId\">\n      </tb-ota-package-autocomplete>\n      <tb-ota-package-autocomplete\n        [useFullEntityId]=\"true\"\n        [type]=\"otaUpdateType.SOFTWARE\"\n        [deviceProfileId]=\"entityForm.get('deviceProfileId').value?.id\"\n        formControlName=\"softwareId\">\n      </tb-ota-package-autocomplete>\n      <tb-device-data\n        formControlName=\"deviceData\"\n        required>\n      </tb-device-data>\n      <div formGroupName=\"additionalInfo\" fxLayout=\"column\">\n        <div fxLayout=\"row\" fxLayout.xs=\"column\" style=\"padding-bottom: 16px;\">\n          <mat-checkbox fxFlex.gt-sm=\"30\" fxFlex formControlName=\"gateway\">\n            {{ 'device.is-gateway' | translate }}\n          </mat-checkbox>\n          <mat-checkbox fxFlex *ngIf=\"entityForm.get('additionalInfo.gateway').value\"\n                        formControlName=\"overwriteActivityTime\">\n            {{ 'device.overwrite-activity-time' | translate }}\n          </mat-checkbox>\n        </div>\n        <mat-form-field class=\"mat-block\">\n          <mat-label translate>device.description</mat-label>\n          <textarea matInput formControlName=\"description\" rows=\"2\"></textarea>\n        </mat-form-field>\n      </div>\n    </fieldset>\n  </form>\n</div>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Injectable } from '@angular/core';\n\nimport { Resolve, Router } from '@angular/router';\nimport {\n  checkBoxCell,\n  DateEntityTableColumn,\n  EntityTableColumn,\n  EntityTableConfig\n} from '@home/models/entity/entities-table-config.models';\nimport { TranslateService } from '@ngx-translate/core';\nimport { DatePipe } from '@angular/common';\nimport { EntityType, entityTypeResources, entityTypeTranslations } from '@shared/models/entity-type.models';\nimport { EntityAction } from '@home/models/entity/entity-component.models';\nimport { WidgetsBundle } from '@shared/models/widgets-bundle.model';\nimport { WidgetService } from '@app/core/http/widget.service';\nimport { WidgetsBundleComponent } from '@modules/home/pages/widget/widgets-bundle.component';\nimport { NULL_UUID } from '@shared/models/id/has-uuid';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { getCurrentAuthState, getCurrentAuthUser } from '@app/core/auth/auth.selectors';\nimport { Authority } from '@shared/models/authority.enum';\nimport { DialogService } from '@core/services/dialog.service';\nimport { ImportExportService } from '@home/components/import-export/import-export.service';\nimport { Direction } from '@shared/models/page/sort-order';\nimport { map } from 'rxjs/operators';\n\n@Injectable()\nexport class WidgetsBundlesTableConfigResolver implements Resolve<EntityTableConfig<WidgetsBundle>> {\n\n  private readonly config: EntityTableConfig<WidgetsBundle> = new EntityTableConfig<WidgetsBundle>();\n\n  constructor(private store: Store<AppState>,\n              private dialogService: DialogService,\n              private widgetsService: WidgetService,\n              private translate: TranslateService,\n              private importExport: ImportExportService,\n              private datePipe: DatePipe,\n              private router: Router) {\n\n    this.config.entityType = EntityType.WIDGETS_BUNDLE;\n    this.config.entityComponent = WidgetsBundleComponent;\n    this.config.entityTranslations = entityTypeTranslations.get(EntityType.WIDGETS_BUNDLE);\n    this.config.entityResources = entityTypeResources.get(EntityType.WIDGETS_BUNDLE);\n    this.config.defaultSortOrder = {property: 'title', direction: Direction.ASC};\n\n    this.config.entityTitle = (widgetsBundle) => widgetsBundle ?\n      widgetsBundle.title : '';\n\n    this.config.columns.push(\n      new DateEntityTableColumn<WidgetsBundle>('createdTime', 'common.created-time', this.datePipe, '150px'),\n      new EntityTableColumn<WidgetsBundle>('title', 'widgets-bundle.title', '100%'),\n      new EntityTableColumn<WidgetsBundle>('tenantId', 'widgets-bundle.system', '60px',\n        entity => {\n          return checkBoxCell(entity.tenantId.id === NULL_UUID);\n        }),\n    );\n\n    this.config.addActionDescriptors.push(\n      {\n        name: this.translate.instant('widgets-bundle.create-new-widgets-bundle'),\n        icon: 'insert_drive_file',\n        isEnabled: () => true,\n        onAction: ($event) => this.config.table.addEntity($event)\n      },\n      {\n        name: this.translate.instant('widgets-bundle.import'),\n        icon: 'file_upload',\n        isEnabled: () => true,\n        onAction: ($event) => this.importWidgetsBundle($event)\n      }\n    );\n\n    this.config.cellActionDescriptors.push(\n      {\n        name: this.translate.instant('widgets-bundle.open-widgets-bundle'),\n        icon: 'now_widgets',\n        isEnabled: () => true,\n        onAction: ($event, entity) => this.openWidgetsBundle($event, entity)\n      },\n      {\n        name: this.translate.instant('widgets-bundle.export'),\n        icon: 'file_download',\n        isEnabled: () => true,\n        onAction: ($event, entity) => this.exportWidgetsBundle($event, entity)\n      }\n    );\n\n    this.config.deleteEntityTitle = widgetsBundle => this.translate.instant('widgets-bundle.delete-widgets-bundle-title',\n      { widgetsBundleTitle: widgetsBundle.title });\n    this.config.deleteEntityContent = () => this.translate.instant('widgets-bundle.delete-widgets-bundle-text');\n    this.config.deleteEntitiesTitle = count => this.translate.instant('widgets-bundle.delete-widgets-bundles-title', {count});\n    this.config.deleteEntitiesContent = () => this.translate.instant('widgets-bundle.delete-widgets-bundles-text');\n\n\n    this.config.loadEntity = id => this.widgetsService.getWidgetsBundle(id.id);\n    this.config.saveEntity = widgetsBundle => this.widgetsService.saveWidgetsBundle(widgetsBundle);\n    this.config.deleteEntity = id => this.widgetsService.deleteWidgetsBundle(id.id);\n    this.config.onEntityAction = action => this.onWidgetsBundleAction(action);\n  }\n\n  resolve(): EntityTableConfig<WidgetsBundle> {\n    this.config.tableTitle = this.translate.instant('widgets-bundle.widgets-bundles');\n    const authUser = getCurrentAuthUser(this.store);\n    this.config.deleteEnabled = (widgetsBundle) => this.isWidgetsBundleEditable(widgetsBundle, authUser.authority);\n    this.config.entitySelectionEnabled = (widgetsBundle) => this.isWidgetsBundleEditable(widgetsBundle, authUser.authority);\n    this.config.detailsReadonly = (widgetsBundle) => !this.isWidgetsBundleEditable(widgetsBundle, authUser.authority);\n    const authState = getCurrentAuthState(this.store);\n    this.config.entitiesFetchFunction = pageLink => this.widgetsService.getWidgetBundles(pageLink);\n    return this.config;\n  }\n\n  isWidgetsBundleEditable(widgetsBundle: WidgetsBundle, authority: Authority): boolean {\n    if (authority === Authority.TENANT_ADMIN) {\n      return widgetsBundle && widgetsBundle.tenantId && widgetsBundle.tenantId.id !== NULL_UUID;\n    } else {\n      return authority === Authority.SYS_ADMIN;\n    }\n  }\n\n  importWidgetsBundle($event: Event) {\n    this.importExport.importWidgetsBundle().subscribe(\n      (widgetsBundle) => {\n        if (widgetsBundle) {\n          this.config.table.updateData();\n        }\n      }\n    );\n  }\n\n  openWidgetsBundle($event: Event, widgetsBundle: WidgetsBundle) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.router.navigateByUrl(`widgets-bundles/${widgetsBundle.id.id}/widgetTypes`);\n  }\n\n  exportWidgetsBundle($event: Event, widgetsBundle: WidgetsBundle) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.importExport.exportWidgetsBundle(widgetsBundle.id.id);\n  }\n\n  onWidgetsBundleAction(action: EntityAction<WidgetsBundle>): boolean {\n    switch (action.action) {\n      case 'open':\n        this.openWidgetsBundle(action.event, action.entity);\n        return true;\n      case 'export':\n        this.exportWidgetsBundle(action.event, action.entity);\n        return true;\n    }\n    return false;\n  }\n\n}\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Authority } from '@shared/models/authority.enum';\nimport { ApiUsageComponent } from '@home/pages/api-usage/api-usage.component';\n\nconst routes: Routes = [\n  {\n    path: 'usage',\n    component: ApiUsageComponent,\n    data: {\n      auth: [Authority.TENANT_ADMIN],\n      title: 'api-usage.api-usage',\n      breadcrumb: {\n        label: 'api-usage.api-usage',\n        icon: 'insert_chart'\n      }\n    }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ApiUsageRoutingModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { ChangeDetectorRef, Component, Inject } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { EntityComponent } from '../../components/entity/entity.component';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { EntityType } from '@shared/models/entity-type.models';\nimport { NULL_UUID } from '@shared/models/id/has-uuid';\nimport { ActionNotificationShow } from '@core/notification/notification.actions';\nimport { TranslateService } from '@ngx-translate/core';\nimport { EntityViewInfo } from '@app/shared/models/entity-view.models';\nimport { Observable } from 'rxjs';\nimport { DataKeyType } from '@shared/models/telemetry/telemetry.models';\nimport { EntityId } from '@app/shared/models/id/entity-id';\nimport { EntityTableConfig } from '@home/models/entity/entities-table-config.models';\n\n@Component({\n  selector: 'tb-entity-view',\n  templateUrl: './entity-view.component.html',\n  styleUrls: ['./entity-view.component.scss']\n})\nexport class EntityViewComponent extends EntityComponent<EntityViewInfo> {\n\n  entityType = EntityType;\n\n  dataKeyType = DataKeyType;\n\n  entityViewScope: 'tenant' | 'customer' | 'customer_user' | 'edge';\n\n  allowedEntityTypes = [EntityType.DEVICE, EntityType.ASSET];\n\n  maxStartTimeMs: Observable<number | null>;\n  minEndTimeMs: Observable<number | null>;\n\n  selectedEntityId: Observable<EntityId | null>;\n\n  constructor(protected store: Store<AppState>,\n              protected translate: TranslateService,\n              @Inject('entity') protected entityValue: EntityViewInfo,\n              @Inject('entitiesTableConfig') protected entitiesTableConfigValue: EntityTableConfig<EntityViewInfo>,\n              public fb: FormBuilder,\n              protected cd: ChangeDetectorRef) {\n    super(store, fb, entityValue, entitiesTableConfigValue, cd);\n  }\n\n  ngOnInit() {\n    this.entityViewScope = this.entitiesTableConfig.componentsData.entityViewScope;\n    super.ngOnInit();\n    this.maxStartTimeMs = this.entityForm.get('endTimeMs').valueChanges;\n    this.minEndTimeMs = this.entityForm.get('startTimeMs').valueChanges;\n    this.selectedEntityId = this.entityForm.get('entityId').valueChanges;\n  }\n\n  hideDelete() {\n    if (this.entitiesTableConfig) {\n      return !this.entitiesTableConfig.deleteEnabled(this.entity);\n    } else {\n      return false;\n    }\n  }\n\n  isAssignedToCustomer(entity: EntityViewInfo): boolean {\n    return entity && entity.customerId && entity.customerId.id !== NULL_UUID;\n  }\n\n  buildForm(entity: EntityViewInfo): FormGroup {\n    return this.fb.group(\n      {\n        name: [entity ? entity.name : '', [Validators.required, Validators.maxLength(255)]],\n        type: [entity ? entity.type : null, Validators.required],\n        entityId: [entity ? entity.entityId : null, [Validators.required]],\n        startTimeMs: [entity ? entity.startTimeMs : null],\n        endTimeMs: [entity ? entity.endTimeMs : null],\n        keys: this.fb.group(\n          {\n            attributes: this.fb.group(\n              {\n                cs: [entity && entity.keys && entity.keys.attributes ? entity.keys.attributes.cs : null],\n                sh: [entity && entity.keys && entity.keys.attributes ? entity.keys.attributes.sh : null],\n                ss: [entity && entity.keys && entity.keys.attributes ? entity.keys.attributes.ss : null],\n              }\n            ),\n            timeseries: [entity && entity.keys && entity.keys.timeseries ? entity.keys.timeseries : null]\n          }\n        ),\n        additionalInfo: this.fb.group(\n          {\n            description: [entity && entity.additionalInfo ? entity.additionalInfo.description : ''],\n          }\n        )\n      }\n    );\n  }\n\n  updateForm(entity: EntityViewInfo) {\n    this.entityForm.patchValue({name: entity.name});\n    this.entityForm.patchValue({type: entity.type});\n    this.entityForm.patchValue({entityId: entity.entityId});\n    this.entityForm.patchValue({startTimeMs: entity.startTimeMs});\n    this.entityForm.patchValue({endTimeMs: entity.endTimeMs});\n    this.entityForm.patchValue({\n      keys:\n        {\n          attributes: {\n            cs: entity.keys && entity.keys.attributes ? entity.keys.attributes.cs : null,\n            sh: entity.keys && entity.keys.attributes ? entity.keys.attributes.sh : null,\n            ss: entity.keys && entity.keys.attributes ? entity.keys.attributes.ss : null,\n          },\n          timeseries: entity.keys && entity.keys.timeseries ? entity.keys.timeseries : null\n        }\n    });\n    this.entityForm.patchValue({additionalInfo: {description: entity.additionalInfo ? entity.additionalInfo.description : ''}});\n  }\n\n\n  onEntityViewIdCopied($event) {\n    this.store.dispatch(new ActionNotificationShow(\n      {\n        message: this.translate.instant('entity-view.idCopiedMessage'),\n        type: 'success',\n        duration: 750,\n        verticalPosition: 'bottom',\n        horizontalPosition: 'right'\n      }));\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div class=\"tb-details-buttons\" fxLayout.xs=\"column\">\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'makePublic')\"\n          [fxShow]=\"!isEdit && entityViewScope === 'tenant' && !isAssignedToCustomer(entity) && !entity?.customerIsPublic\">\n    {{'entity-view.make-public' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'assignToCustomer')\"\n          [fxShow]=\"!isEdit && entityViewScope === 'tenant' && !isAssignedToCustomer(entity)\">\n    {{'entity-view.assign-to-customer' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'unassignFromCustomer')\"\n          [fxShow]=\"!isEdit && (entityViewScope === 'customer' || entityViewScope === 'tenant') && isAssignedToCustomer(entity)\">\n    {{ (entity?.customerIsPublic ? 'entity-view.make-private' : 'entity-view.unassign-from-customer') | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'unassignFromEdge')\"\n          [fxShow]=\"!isEdit && entityViewScope === 'edge'\">\n    {{ 'edge.unassign-from-edge' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'delete')\"\n          [fxShow]=\"!hideDelete() && !isEdit\">\n    {{'entity-view.delete' | translate }}\n  </button>\n  <div fxLayout=\"row\" fxLayout.xs=\"column\">\n    <button mat-raised-button\n            ngxClipboard\n            (cbOnSuccess)=\"onEntityViewIdCopied($event)\"\n            [cbContent]=\"entity?.id?.id\"\n            [fxShow]=\"!isEdit\">\n      <mat-icon svgIcon=\"mdi:clipboard-arrow-left\"></mat-icon>\n      <span translate>entity-view.copyId</span>\n    </button>\n  </div>\n</div>\n<div class=\"mat-padding\" fxLayout=\"column\">\n  <mat-form-field class=\"mat-block\"\n                  [fxShow]=\"!isEdit && isAssignedToCustomer(entity)\n                              && !entity?.customerIsPublic && entityViewScope === 'tenant'\">\n    <mat-label translate>entity-view.assignedToCustomer</mat-label>\n    <input matInput disabled [ngModel]=\"entity?.customerTitle\">\n  </mat-form-field>\n  <div class=\"tb-small\" style=\"padding-bottom: 10px; padding-left: 2px;\"\n       [fxShow]=\"!isEdit && entity?.customerIsPublic && (entityViewScope === 'customer' || entityViewScope === 'tenant')\">\n    {{ 'entity-view.entity-view-public' | translate }}\n  </div>\n  <form [formGroup]=\"entityForm\">\n    <fieldset [disabled]=\"(isLoading$ | async) || !isEdit\">\n      <mat-form-field class=\"mat-block\">\n        <mat-label translate>entity-view.name</mat-label>\n        <input matInput formControlName=\"name\" required>\n        <mat-error *ngIf=\"entityForm.get('name').hasError('required')\">\n          {{ 'entity-view.name-required' | translate }}\n        </mat-error>\n        <mat-error *ngIf=\"entityForm.get('name').hasError('maxlength')\">\n          {{ 'entity-view.name-max-length' | translate }}\n        </mat-error>\n      </mat-form-field>\n      <tb-entity-subtype-autocomplete\n        formControlName=\"type\"\n        [required]=\"true\"\n        [entityType]=\"entityType.ENTITY_VIEW\"\n      >\n      </tb-entity-subtype-autocomplete>\n      <section fxLayout=\"column\">\n        <label translate class=\"tb-title no-padding\">entity-view.target-entity</label>\n        <tb-entity-select fxFlex\n                          [required]=\"true\"\n                          [allowedEntityTypes]=\"allowedEntityTypes\"\n                          formControlName=\"entityId\">\n        </tb-entity-select>\n      </section>\n      <div class=\"mat-accordion-container\" formGroupName=\"keys\">\n        <mat-accordion [multi]=\"true\">\n          <mat-expansion-panel formGroupName=\"attributes\" [expanded]=\"true\">\n            <mat-expansion-panel-header>\n              <mat-panel-title>\n                <div class=\"tb-panel-title\" translate>entity-view.attributes-propagation</div>\n              </mat-panel-title>\n            </mat-expansion-panel-header>\n            <div translate class=\"tb-hint\">entity-view.attributes-propagation-hint</div>\n            <label translate class=\"tb-title no-padding\">entity-view.client-attributes</label>\n            <tb-entity-keys-list\n              [entityId]=\"selectedEntityId | async\"\n              formControlName=\"cs\"\n              keysText=\"entity-view.client-attributes-placeholder\"\n              [dataKeyType]=\"dataKeyType.attribute\">\n            </tb-entity-keys-list>\n            <label translate class=\"tb-title no-padding\">entity-view.shared-attributes</label>\n            <tb-entity-keys-list\n              [entityId]=\"selectedEntityId | async\"\n              formControlName=\"sh\"\n              keysText=\"entity-view.shared-attributes-placeholder\"\n              [dataKeyType]=\"dataKeyType.attribute\">\n            </tb-entity-keys-list>\n            <label translate class=\"tb-title no-padding\">entity-view.server-attributes</label>\n            <tb-entity-keys-list\n              [entityId]=\"selectedEntityId | async\"\n              formControlName=\"ss\"\n              keysText=\"entity-view.server-attributes-placeholder\"\n              [dataKeyType]=\"dataKeyType.attribute\">\n            </tb-entity-keys-list>\n          </mat-expansion-panel>\n          <mat-expansion-panel [expanded]=\"true\">\n            <mat-expansion-panel-header>\n              <mat-panel-title>\n                <div class=\"tb-panel-title\" translate>entity-view.timeseries-data</div>\n              </mat-panel-title>\n            </mat-expansion-panel-header>\n            <div translate class=\"tb-hint\">entity-view.timeseries-data-hint</div>\n            <label translate class=\"tb-title no-padding\">entity-view.timeseries</label>\n            <tb-entity-keys-list\n              [entityId]=\"selectedEntityId | async\"\n              formControlName=\"timeseries\"\n              keysText=\"entity-view.timeseries-placeholder\"\n              [dataKeyType]=\"dataKeyType.timeseries\">\n            </tb-entity-keys-list>\n          </mat-expansion-panel>\n        </mat-accordion>\n      </div>\n      <tb-datetime\n        dateText=\"entity-view.start-date\"\n        timeText=\"entity-view.start-ts\"\n        [maxDate]=\"maxStartTimeMs | async\"\n        formControlName=\"startTimeMs\"\n      ></tb-datetime>\n      <tb-datetime\n        dateText=\"entity-view.end-date\"\n        timeText=\"entity-view.end-ts\"\n        [minDate]=\"minEndTimeMs | async\"\n        formControlName=\"endTimeMs\"\n      ></tb-datetime>\n      <div formGroupName=\"additionalInfo\">\n        <mat-form-field class=\"mat-block\">\n          <mat-label translate>entity-view.description</mat-label>\n          <textarea matInput formControlName=\"description\" rows=\"2\"></textarea>\n        </mat-form-field>\n      </div>\n    </fieldset>\n  </form>\n</div>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, Inject, OnInit } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ActionNotificationShow } from '@core/notification/notification.actions';\nimport { DialogComponent } from '@shared/components/dialog.component';\nimport { Router } from '@angular/router';\n\nexport interface ActivationLinkDialogData {\n  activationLink: string;\n}\n\n@Component({\n  selector: 'tb-activation-link-dialog',\n  templateUrl: './activation-link-dialog.component.html'\n})\nexport class ActivationLinkDialogComponent extends DialogComponent<ActivationLinkDialogComponent, void> implements OnInit {\n\n  activationLink: string;\n\n  constructor(protected store: Store<AppState>,\n              protected router: Router,\n              @Inject(MAT_DIALOG_DATA) public data: ActivationLinkDialogData,\n              public dialogRef: MatDialogRef<ActivationLinkDialogComponent, void>,\n              private translate: TranslateService) {\n    super(store, router, dialogRef);\n    this.activationLink = this.data.activationLink;\n  }\n\n  ngOnInit(): void {\n  }\n\n  close(): void {\n    this.dialogRef.close();\n  }\n\n  onActivationLinkCopied() {\n     this.store.dispatch(new ActionNotificationShow(\n       {\n         message: this.translate.instant('user.activation-link-copied-message'),\n         type: 'success',\n         target: 'activationLinkDialogContent',\n         duration: 1200,\n         verticalPosition: 'bottom',\n         horizontalPosition: 'left'\n       }));\n  }\n\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<form style=\"min-width: 400px; position: relative;\">\n  <mat-toolbar color=\"primary\">\n    <h2 translate>user.activation-link</h2>\n    <span fxFlex></span>\n    <button mat-button mat-icon-button\n            (click)=\"close()\"\n            type=\"button\">\n      <mat-icon class=\"material-icons\">close</mat-icon>\n    </button>\n  </mat-toolbar>\n  <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n  </mat-progress-bar>\n  <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n  <div mat-dialog-content tb-toast toastTarget=\"activationLinkDialogContent\">\n    <div class=\"mat-content\" fxLayout=\"column\">\n      <span [innerHTML]=\"'user.activation-link-text' | translate: {activationLink: activationLink}\"></span>\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\n        <pre class=\"tb-highlight\" fxFlex><code>{{ activationLink }}</code></pre>\n        <button mat-icon-button\n                color=\"primary\"\n                ngxClipboard\n                cbContent=\"{{ activationLink }}\"\n                (cbOnSuccess)=\"onActivationLinkCopied()\"\n                matTooltip=\"{{ 'user.copy-activation-link' | translate }}\"\n                matTooltipPosition=\"above\">\n          <mat-icon svgIcon=\"mdi:clipboard-arrow-left\"></mat-icon>\n        </button>\n      </div>\n    </div>\n  </div>\n  <div mat-dialog-actions fxLayoutAlign=\"end center\">\n    <button mat-button color=\"primary\"\n            type=\"button\"\n            cdkFocusInitial\n            [disabled]=\"(isLoading$ | async)\"\n            (click)=\"close()\">\n      {{ 'action.ok' | translate }}\n    </button>\n  </div>\n</form>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { ChangeDetectorRef, Component, Inject } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { EntityComponent } from '../../components/entity/entity.component';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { EntityType } from '@shared/models/entity-type.models';\nimport { NULL_UUID } from '@shared/models/id/has-uuid';\nimport { ActionNotificationShow } from '@core/notification/notification.actions';\nimport { TranslateService } from '@ngx-translate/core';\nimport { AssetInfo } from '@app/shared/models/asset.models';\nimport { EntityTableConfig } from '@home/models/entity/entities-table-config.models';\n\n@Component({\n  selector: 'tb-asset',\n  templateUrl: './asset.component.html',\n  styleUrls: ['./asset.component.scss']\n})\nexport class AssetComponent extends EntityComponent<AssetInfo> {\n\n  entityType = EntityType;\n\n  assetScope: 'tenant' | 'customer' | 'customer_user' | 'edge';\n\n  constructor(protected store: Store<AppState>,\n              protected translate: TranslateService,\n              @Inject('entity') protected entityValue: AssetInfo,\n              @Inject('entitiesTableConfig') protected entitiesTableConfigValue: EntityTableConfig<AssetInfo>,\n              public fb: FormBuilder,\n              protected cd: ChangeDetectorRef) {\n    super(store, fb, entityValue, entitiesTableConfigValue, cd);\n  }\n\n  ngOnInit() {\n    this.assetScope = this.entitiesTableConfig.componentsData.assetScope;\n    super.ngOnInit();\n  }\n\n  hideDelete() {\n    if (this.entitiesTableConfig) {\n      return !this.entitiesTableConfig.deleteEnabled(this.entity);\n    } else {\n      return false;\n    }\n  }\n\n  isAssignedToCustomer(entity: AssetInfo): boolean {\n    return entity && entity.customerId && entity.customerId.id !== NULL_UUID;\n  }\n\n  buildForm(entity: AssetInfo): FormGroup {\n    return this.fb.group(\n      {\n        name: [entity ? entity.name : '', [Validators.required, Validators.maxLength(255)]],\n        type: [entity ? entity.type : null, [Validators.required, Validators.maxLength(255)]],\n        label: [entity ? entity.label : '', Validators.maxLength(255)],\n        additionalInfo: this.fb.group(\n          {\n            description: [entity && entity.additionalInfo ? entity.additionalInfo.description : ''],\n          }\n        )\n      }\n    );\n  }\n\n  updateForm(entity: AssetInfo) {\n    this.entityForm.patchValue({name: entity.name});\n    this.entityForm.patchValue({type: entity.type});\n    this.entityForm.patchValue({label: entity.label});\n    this.entityForm.patchValue({additionalInfo: {description: entity.additionalInfo ? entity.additionalInfo.description : ''}});\n  }\n\n\n  onAssetIdCopied($event) {\n    this.store.dispatch(new ActionNotificationShow(\n      {\n        message: this.translate.instant('asset.idCopiedMessage'),\n        type: 'success',\n        duration: 750,\n        verticalPosition: 'bottom',\n        horizontalPosition: 'right'\n      }));\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div class=\"tb-details-buttons\" fxLayout.xs=\"column\">\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'makePublic')\"\n          [fxShow]=\"!isEdit && assetScope === 'tenant'\">\n    {{'asset.view-relations' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'makePublic')\"\n          [fxShow]=\"!isEdit && assetScope === 'tenant' && !isAssignedToCustomer(entity) && !entity?.customerIsPublic\">\n    {{'asset.make-public' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'assignToCustomer')\"\n          [fxShow]=\"!isEdit && assetScope === 'tenant' && !isAssignedToCustomer(entity)\">\n    {{'asset.assign-to-customer' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'unassignFromCustomer')\"\n          [fxShow]=\"!isEdit && (assetScope === 'customer' || assetScope === 'tenant') && isAssignedToCustomer(entity)\">\n    {{ (entity?.customerIsPublic ? 'asset.make-private' : 'asset.unassign-from-customer') | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'unassignFromEdge')\"\n          [fxShow]=\"!isEdit && assetScope === 'edge'\">\n    {{ 'edge.unassign-from-edge' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'delete')\"\n          [fxShow]=\"!hideDelete() && !isEdit\">\n    {{'asset.delete' | translate }}\n  </button>\n  <div fxLayout=\"row\" fxLayout.xs=\"column\">\n    <button mat-raised-button\n            ngxClipboard\n            (cbOnSuccess)=\"onAssetIdCopied($event)\"\n            [cbContent]=\"entity?.id?.id\"\n            [fxShow]=\"!isEdit\">\n      <mat-icon svgIcon=\"mdi:clipboard-arrow-left\"></mat-icon>\n      <span translate>asset.copyId</span>\n    </button>\n  </div>\n</div>\n<div class=\"mat-padding\" fxLayout=\"column\">\n  <mat-form-field class=\"mat-block\"\n                  [fxShow]=\"!isEdit && isAssignedToCustomer(entity)\n                              && !entity?.customerIsPublic && assetScope === 'tenant'\">\n    <mat-label translate>asset.assignedToCustomer</mat-label>\n    <input matInput disabled [ngModel]=\"entity?.customerTitle\">\n  </mat-form-field>\n  <div class=\"tb-small\" style=\"padding-bottom: 10px; padding-left: 2px;\"\n       [fxShow]=\"!isEdit && entity?.customerIsPublic && (assetScope === 'customer' || assetScope === 'tenant')\">\n    {{ 'asset.asset-public' | translate }}\n  </div>\n  <form [formGroup]=\"entityForm\">\n    <fieldset [disabled]=\"(isLoading$ | async) || !isEdit\">\n      <mat-form-field class=\"mat-block\">\n        <mat-label translate>asset.name</mat-label>\n        <input matInput formControlName=\"name\" required>\n        <mat-error *ngIf=\"entityForm.get('name').hasError('required')\">\n          {{ 'asset.name-required' | translate }}\n        </mat-error>\n        <mat-error *ngIf=\"entityForm.get('name').hasError('maxlength')\">\n          {{ 'asset.name-max-length' | translate }}\n        </mat-error>\n      </mat-form-field>\n      <tb-entity-subtype-autocomplete\n        formControlName=\"type\"\n        [required]=\"true\"\n        [entityType]=\"entityType.ASSET\"\n      >\n      </tb-entity-subtype-autocomplete>\n      <mat-form-field class=\"mat-block\">\n        <mat-label translate>asset.label</mat-label>\n        <input matInput formControlName=\"label\">\n        <mat-error *ngIf=\"entityForm.get('label').hasError('maxlength')\">\n          {{ 'asset.label-max-length' | translate }}\n        </mat-error>\n      </mat-form-field>\n      <div formGroupName=\"additionalInfo\">\n        <mat-form-field class=\"mat-block\">\n          <mat-label translate>asset.description</mat-label>\n          <textarea matInput formControlName=\"description\" rows=\"2\"></textarea>\n        </mat-form-field>\n      </div>\n    </fieldset>\n  </form>\n</div>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { EntityTabsComponent } from '../../components/entity/entity-tabs.component';\nimport { EntityViewInfo } from '@app/shared/models/entity-view.models';\n\n@Component({\n  selector: 'tb-entity-view-tabs',\n  templateUrl: './entity-view-tabs.component.html',\n  styleUrls: []\n})\nexport class EntityViewTabsComponent extends EntityTabsComponent<EntityViewInfo> {\n\n  constructor(protected store: Store<AppState>) {\n    super(store);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n  }\n\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'attribute.attributes' | translate }}\" #attributesTab=\"matTab\">\n  <tb-attribute-table [defaultAttributeScope]=\"attributeScopes.CLIENT_SCOPE\"\n                      [active]=\"attributesTab.isActive\"\n                      [entityId]=\"entity.id\"\n                      [entityName]=\"entity.name\">\n  </tb-attribute-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'attribute.latest-telemetry' | translate }}\" #telemetryTab=\"matTab\">\n  <tb-attribute-table [defaultAttributeScope]=\"latestTelemetryTypes.LATEST_TELEMETRY\"\n                      disableAttributeScopeSelection\n                      [active]=\"telemetryTab.isActive\"\n                      [entityId]=\"entity.id\"\n                      [entityName]=\"entity.name\">\n  </tb-attribute-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'alarm.alarms' | translate }}\" #alarmsTab=\"matTab\">\n  <tb-alarm-table [active]=\"alarmsTab.isActive\" [entityId]=\"entity.id\"></tb-alarm-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'entity-view.events' | translate }}\" #eventsTab=\"matTab\">\n  <tb-event-table [defaultEventType]=\"eventTypes.ERROR\" [active]=\"eventsTab.isActive\" [tenantId]=\"entity.tenantId.id\"\n                  [entityId]=\"entity.id\"></tb-event-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'relation.relations' | translate }}\" #relationsTab=\"matTab\">\n  <tb-relation-table [active]=\"relationsTab.isActive\" [entityId]=\"entity.id\"></tb-relation-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity && authUser.authority === authorities.TENANT_ADMIN\"\n         label=\"{{ 'audit-log.audit-logs' | translate }}\" #auditLogsTab=\"matTab\">\n  <tb-audit-log-table detailsMode=\"true\" [active]=\"auditLogsTab.isActive\" [auditLogMode]=\"auditLogModes.ENTITY\" [entityId]=\"entity.id\"></tb-audit-log-table>\n</mat-tab>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Authority } from '@shared/models/authority.enum';\nimport { AuditLogTableComponent } from '@home/components/audit-log/audit-log-table.component';\n\nconst routes: Routes = [\n  {\n    path: 'auditLogs',\n    component: AuditLogTableComponent,\n    data: {\n      auth: [Authority.TENANT_ADMIN],\n      title: 'audit-log.audit-logs',\n      breadcrumb: {\n        label: 'audit-log.audit-logs',\n        icon: 'track_changes'\n      }\n    }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AuditLogRoutingModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { PageComponent } from '@shared/components/page.component';\nimport { Component, ElementRef, Inject, OnDestroy, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { WidgetsBundle } from '@shared/models/widgets-bundle.model';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { WidgetService } from '@core/http/widget.service';\nimport { detailsToWidgetInfo, toWidgetInfo, WidgetInfo } from '@home/models/widget-component.models';\nimport {\n  Widget,\n  WidgetConfig,\n  WidgetType,\n  widgetType,\n  WidgetTypeDetails,\n  widgetTypesData\n} from '@shared/models/widget.models';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { deepClone } from '@core/utils';\nimport { HasDirtyFlag } from '@core/guards/confirm-on-exit.guard';\nimport { AuthUser } from '@shared/models/user.model';\nimport { getCurrentAuthUser } from '@core/auth/auth.selectors';\nimport { Authority } from '@shared/models/authority.enum';\nimport { NULL_UUID } from '@shared/models/id/has-uuid';\nimport { Hotkey } from 'angular2-hotkeys';\nimport { TranslateService } from '@ngx-translate/core';\nimport { getCurrentIsLoading } from '@app/core/interceptors/load.selectors';\nimport { Ace } from 'ace-builds';\nimport { getAce, Range } from '@shared/models/ace/ace.models';\nimport { CancelAnimationFrame, RafService } from '@core/services/raf.service';\nimport { WINDOW } from '@core/services/window.service';\nimport { WindowMessage } from '@shared/models/window-message.model';\nimport { ExceptionData } from '@shared/models/error.models';\nimport { ActionNotificationHide, ActionNotificationShow } from '@core/notification/notification.actions';\nimport { MatDialog } from '@angular/material/dialog';\nimport {\n  SaveWidgetTypeAsDialogComponent,\n  SaveWidgetTypeAsDialogResult\n} from '@home/pages/widget/save-widget-type-as-dialog.component';\nimport { forkJoin, from, Subscription } from 'rxjs';\nimport { ResizeObserver } from '@juggle/resize-observer';\nimport Timeout = NodeJS.Timeout;\nimport { widgetEditorCompleter } from '@home/pages/widget/widget-editor.models';\nimport { Observable } from 'rxjs/internal/Observable';\nimport { map, tap } from 'rxjs/operators';\nimport { beautifyCss, beautifyHtml, beautifyJs } from '@shared/models/beautify.models';\n\n// @dynamic\n@Component({\n  selector: 'tb-widget-editor',\n  templateUrl: './widget-editor.component.html',\n  styleUrls: ['./widget-editor.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class WidgetEditorComponent extends PageComponent implements OnInit, OnDestroy, HasDirtyFlag {\n\n  @ViewChild('topPanel', {static: true})\n  topPanelElmRef: ElementRef;\n\n  @ViewChild('topLeftPanel', {static: true})\n  topLeftPanelElmRef: ElementRef;\n\n  @ViewChild('topRightPanel', {static: true})\n  topRightPanelElmRef: ElementRef;\n\n  @ViewChild('bottomPanel', {static: true})\n  bottomPanelElmRef: ElementRef;\n\n  @ViewChild('javascriptPanel', {static: true})\n  javascriptPanelElmRef: ElementRef;\n\n  @ViewChild('framePanel', {static: true})\n  framePanelElmRef: ElementRef;\n\n  @ViewChild('htmlInput', {static: true})\n  htmlInputElmRef: ElementRef;\n\n  @ViewChild('cssInput', {static: true})\n  cssInputElmRef: ElementRef;\n\n  @ViewChild('settingsJsonInput', {static: true})\n  settingsJsonInputElmRef: ElementRef;\n\n  @ViewChild('dataKeySettingsJsonInput', {static: true})\n  dataKeySettingsJsonInputElmRef: ElementRef;\n\n  @ViewChild('javascriptInput', {static: true})\n  javascriptInputElmRef: ElementRef;\n\n  @ViewChild('widgetIFrame', {static: true})\n  widgetIFrameElmRef: ElementRef<HTMLIFrameElement>;\n\n  iframe: JQuery<HTMLIFrameElement>;\n\n  widgetTypes = widgetType;\n  allWidgetTypes = Object.keys(widgetType);\n  widgetTypesDataMap = widgetTypesData;\n\n  authUser: AuthUser;\n\n  isReadOnly: boolean;\n\n  widgetsBundle: WidgetsBundle;\n  widgetTypeDetails: WidgetTypeDetails;\n  widget: WidgetInfo;\n  origWidget: WidgetInfo;\n\n  isDirty = false;\n\n  fullscreen = false;\n  htmlFullscreen = false;\n  cssFullscreen = false;\n  jsonSettingsFullscreen = false;\n  jsonDataKeySettingsFullscreen = false;\n  javascriptFullscreen = false;\n  iFrameFullscreen = false;\n\n  aceEditors: Ace.Editor[] = [];\n  editorsResizeCafs: {[editorId: string]: CancelAnimationFrame} = {};\n  htmlEditor: Ace.Editor;\n  cssEditor: Ace.Editor;\n  jsonSettingsEditor: Ace.Editor;\n  dataKeyJsonSettingsEditor: Ace.Editor;\n  jsEditor: Ace.Editor;\n  aceResize$: ResizeObserver;\n\n  onWindowMessageListener = this.onWindowMessage.bind(this);\n\n  iframeWidgetEditModeInited = false;\n  saveWidgetPending = false;\n  saveWidgetAsPending = false;\n\n  gotError = false;\n  errorMarkers: number[] = [];\n  errorAnnotationId = -1;\n\n  saveWidgetTimeout: Timeout;\n\n  hotKeys: Hotkey[] = [];\n\n  private rxSubscriptions = new Array<Subscription>();\n\n  constructor(protected store: Store<AppState>,\n              @Inject(WINDOW) private window: Window,\n              private route: ActivatedRoute,\n              private router: Router,\n              private widgetService: WidgetService,\n              private translate: TranslateService,\n              private raf: RafService,\n              private dialog: MatDialog) {\n    super(store);\n\n    this.authUser = getCurrentAuthUser(store);\n\n    this.rxSubscriptions.push(this.route.data.subscribe(\n      (data) => {\n        this.init(data);\n      }\n    ));\n\n    this.initHotKeys();\n  }\n\n  private init(data: any) {\n    this.widgetsBundle = data.widgetsBundle;\n    if (this.authUser.authority === Authority.TENANT_ADMIN) {\n      this.isReadOnly = !this.widgetsBundle || this.widgetsBundle.tenantId.id === NULL_UUID;\n    } else {\n      this.isReadOnly = this.authUser.authority !== Authority.SYS_ADMIN;\n    }\n    this.widgetTypeDetails = data.widgetEditorData.widgetTypeDetails;\n    this.widget = data.widgetEditorData.widget;\n    if (this.widgetTypeDetails) {\n      const config = JSON.parse(this.widget.defaultConfig);\n      this.widget.defaultConfig = JSON.stringify(config);\n    }\n    this.origWidget = deepClone(this.widget);\n    if (!this.widgetTypeDetails) {\n      this.isDirty = true;\n    }\n  }\n\n  ngOnInit(): void {\n    this.initSplitLayout();\n    this.initAceEditors();\n    this.iframe = $(this.widgetIFrameElmRef.nativeElement);\n    this.window.addEventListener('message', this.onWindowMessageListener);\n    this.iframe.attr('data-widget', JSON.stringify(this.widget));\n    this.iframe.attr('src', '/widget-editor');\n  }\n\n  ngOnDestroy(): void {\n    this.window.removeEventListener('message', this.onWindowMessageListener);\n    this.aceResize$.disconnect();\n    this.rxSubscriptions.forEach((subscription) => {\n      subscription.unsubscribe();\n    });\n    this.rxSubscriptions.length = 0;\n  }\n\n  private initHotKeys(): void {\n    this.hotKeys.push(\n      new Hotkey('ctrl+q', (event: KeyboardEvent) => {\n        if (!getCurrentIsLoading(this.store) && !this.undoDisabled()) {\n          event.preventDefault();\n          this.undoWidget();\n        }\n        return false;\n      }, ['INPUT', 'SELECT', 'TEXTAREA'],\n        this.translate.instant('widget.undo'))\n    );\n    this.hotKeys.push(\n      new Hotkey('ctrl+s', (event: KeyboardEvent) => {\n          if (!getCurrentIsLoading(this.store) && !this.saveDisabled()) {\n            event.preventDefault();\n            this.saveWidget();\n          }\n          return false;\n        }, ['INPUT', 'SELECT', 'TEXTAREA'],\n        this.translate.instant('widget.save'))\n    );\n    this.hotKeys.push(\n      new Hotkey('shift+ctrl+s', (event: KeyboardEvent) => {\n          if (!getCurrentIsLoading(this.store) && !this.saveAsDisabled()) {\n            event.preventDefault();\n            this.saveWidgetAs();\n          }\n          return false;\n        }, ['INPUT', 'SELECT', 'TEXTAREA'],\n        this.translate.instant('widget.saveAs'))\n    );\n    this.hotKeys.push(\n      new Hotkey('shift+ctrl+f', (event: KeyboardEvent) => {\n          event.preventDefault();\n          this.fullscreen = !this.fullscreen;\n          return false;\n        }, ['INPUT', 'SELECT', 'TEXTAREA'],\n        this.translate.instant('widget.toggle-fullscreen'))\n    );\n    this.hotKeys.push(\n      new Hotkey('ctrl+enter', (event: KeyboardEvent) => {\n          event.preventDefault();\n          this.applyWidgetScript();\n          return false;\n        }, ['INPUT', 'SELECT', 'TEXTAREA'],\n        this.translate.instant('widget.run'))\n    );\n  }\n\n  private initSplitLayout() {\n    Split([this.topPanelElmRef.nativeElement, this.bottomPanelElmRef.nativeElement], {\n      sizes: [35, 65],\n      gutterSize: 8,\n      cursor: 'row-resize',\n      direction: 'vertical'\n    });\n    Split([this.topLeftPanelElmRef.nativeElement, this.topRightPanelElmRef.nativeElement], {\n      sizes: [50, 50],\n      gutterSize: 8,\n      cursor: 'col-resize'\n    });\n    Split([this.javascriptPanelElmRef.nativeElement, this.framePanelElmRef.nativeElement], {\n      sizes: [50, 50],\n      gutterSize: 8,\n      cursor: 'col-resize'\n    });\n  }\n\n  private initAceEditors() {\n    this.aceResize$ = new ResizeObserver((entries) => {\n      entries.forEach((entry) => {\n        const editor = this.aceEditors.find(aceEditor => aceEditor.container === entry.target);\n        this.onAceEditorResize(editor);\n      });\n    });\n\n    const editorsObservables: Observable<any>[] = [];\n\n\n    editorsObservables.push(this.createAceEditor(this.htmlInputElmRef, 'html').pipe(\n      tap((editor) => {\n        this.htmlEditor = editor;\n        this.htmlEditor.on('input', () => {\n          const editorValue = this.htmlEditor.getValue();\n          if (this.widget.templateHtml !== editorValue) {\n            this.widget.templateHtml = editorValue;\n            this.isDirty = true;\n          }\n        });\n      })\n    ));\n\n    editorsObservables.push(this.createAceEditor(this.cssInputElmRef, 'css').pipe(\n      tap((editor) => {\n        this.cssEditor = editor;\n        this.cssEditor.on('input', () => {\n          const editorValue = this.cssEditor.getValue();\n          if (this.widget.templateCss !== editorValue) {\n            this.widget.templateCss = editorValue;\n            this.isDirty = true;\n          }\n        });\n      })\n    ));\n\n    editorsObservables.push(this.createAceEditor(this.settingsJsonInputElmRef, 'json').pipe(\n      tap((editor) => {\n        this.jsonSettingsEditor = editor;\n        this.jsonSettingsEditor.on('input', () => {\n          const editorValue = this.jsonSettingsEditor.getValue();\n          if (this.widget.settingsSchema !== editorValue) {\n            this.widget.settingsSchema = editorValue;\n            this.isDirty = true;\n          }\n        });\n      })\n    ));\n\n    editorsObservables.push(this.createAceEditor(this.dataKeySettingsJsonInputElmRef, 'json').pipe(\n      tap((editor) => {\n        this.dataKeyJsonSettingsEditor = editor;\n        this.dataKeyJsonSettingsEditor.on('input', () => {\n          const editorValue = this.dataKeyJsonSettingsEditor.getValue();\n          if (this.widget.dataKeySettingsSchema !== editorValue) {\n            this.widget.dataKeySettingsSchema = editorValue;\n            this.isDirty = true;\n          }\n        });\n      })\n    ));\n\n    editorsObservables.push(this.createAceEditor(this.javascriptInputElmRef, 'javascript').pipe(\n      tap((editor) => {\n        this.jsEditor = editor;\n        this.jsEditor.on('input', () => {\n          const editorValue = this.jsEditor.getValue();\n          if (this.widget.controllerScript !== editorValue) {\n            this.widget.controllerScript = editorValue;\n            this.isDirty = true;\n          }\n        });\n        this.jsEditor.on('change', () => {\n          this.cleanupJsErrors();\n        });\n        this.jsEditor.completers = [widgetEditorCompleter, ...(this.jsEditor.completers || [])];\n      })\n    ));\n\n    forkJoin(editorsObservables).subscribe(\n      () => {\n        this.setAceEditorValues();\n      }\n    );\n\n  }\n\n  private setAceEditorValues() {\n    this.htmlEditor.setValue(this.widget.templateHtml ? this.widget.templateHtml : '', -1);\n    this.cssEditor.setValue(this.widget.templateCss ? this.widget.templateCss : '', -1);\n    this.jsonSettingsEditor.setValue(this.widget.settingsSchema ? this.widget.settingsSchema : '', -1);\n    this.dataKeyJsonSettingsEditor.setValue(this.widget.dataKeySettingsSchema ? this.widget.dataKeySettingsSchema : '', -1);\n    this.jsEditor.setValue(this.widget.controllerScript ? this.widget.controllerScript : '', -1);\n  }\n\n  private createAceEditor(editorElementRef: ElementRef, mode: string): Observable<Ace.Editor> {\n    const editorElement = editorElementRef.nativeElement;\n    let editorOptions: Partial<Ace.EditorOptions> = {\n      mode: `ace/mode/${mode}`,\n      showGutter: true,\n      showPrintMargin: true\n    };\n    const advancedOptions = {\n      enableSnippets: true,\n      enableBasicAutocompletion: true,\n      enableLiveAutocompletion: true\n    };\n    editorOptions = {...editorOptions, ...advancedOptions};\n    return getAce().pipe(\n      map((ace) => {\n        const aceEditor = ace.edit(editorElement, editorOptions);\n        aceEditor.session.setUseWrapMode(true);\n        this.aceEditors.push(aceEditor);\n        this.aceResize$.observe(editorElement);\n        return aceEditor;\n      })\n    );\n  }\n\n  private onAceEditorResize(aceEditor: Ace.Editor) {\n    if (this.editorsResizeCafs[aceEditor.id]) {\n      this.editorsResizeCafs[aceEditor.id]();\n      delete this.editorsResizeCafs[aceEditor.id];\n    }\n    this.editorsResizeCafs[aceEditor.id] = this.raf.raf(() => {\n      aceEditor.resize();\n      aceEditor.renderer.updateFull();\n    });\n  }\n\n  private onWindowMessage(event: MessageEvent) {\n    let message: WindowMessage;\n    if (event.data) {\n      try {\n        message = JSON.parse(event.data);\n      } catch (e) {}\n    }\n    if (message) {\n      switch (message.type) {\n        case 'widgetException':\n          this.onWidgetException(message.data);\n          break;\n        case 'widgetEditModeInited':\n          this.onWidgetEditModeInited();\n          break;\n        case 'widgetEditUpdated':\n          this.onWidgetEditUpdated(message.data);\n          break;\n      }\n    }\n  }\n\n  private onWidgetEditModeInited() {\n    this.iframeWidgetEditModeInited = true;\n    if (this.saveWidgetPending || this.saveWidgetAsPending) {\n      if (!this.saveWidgetTimeout) {\n        this.saveWidgetTimeout = setTimeout(() => {\n          if (!this.gotError) {\n            if (this.saveWidgetPending) {\n              this.commitSaveWidget();\n            } else if (this.saveWidgetAsPending) {\n              this.commitSaveWidgetAs();\n            }\n          } else {\n            this.store.dispatch(new ActionNotificationShow(\n              {message: this.translate.instant('widget.unable-to-save-widget-error'), type: 'error'}));\n            this.saveWidgetPending = false;\n            this.saveWidgetAsPending = false;\n          }\n          this.saveWidgetTimeout = undefined;\n        }, 1500);\n      }\n    }\n  }\n\n  private onWidgetEditUpdated(widget: Widget) {\n    this.widget.sizeX = widget.sizeX / 2;\n    this.widget.sizeY = widget.sizeY / 2;\n    this.widget.defaultConfig = JSON.stringify(widget.config);\n    this.iframe.attr('data-widget', JSON.stringify(this.widget));\n    this.isDirty = true;\n  }\n\n  private onWidgetException(details: ExceptionData) {\n    if (!this.gotError) {\n      this.gotError = true;\n      let errorInfo = 'Error:';\n      if (details.name) {\n        errorInfo += ' ' + details.name + ':';\n      }\n      if (details.message) {\n        errorInfo += ' ' + details.message;\n      }\n      if (details.lineNumber) {\n        errorInfo += '<br>Line ' + details.lineNumber;\n        if (details.columnNumber) {\n          errorInfo += ' column ' + details.columnNumber;\n        }\n        errorInfo += ' of script.';\n      }\n      if (!this.saveWidgetPending && !this.saveWidgetAsPending) {\n        this.store.dispatch(new ActionNotificationShow(\n          {message: errorInfo, type: 'error', target: 'javascriptPanel'}));\n      }\n      if (details.lineNumber) {\n        const line = details.lineNumber - 1;\n        let column = 0;\n        if (details.columnNumber) {\n          column = details.columnNumber;\n        }\n        const errorMarkerId = this.jsEditor.session.addMarker(new Range(line, 0, line, Infinity),\n          'ace_active-line', 'screenLine');\n        this.errorMarkers.push(errorMarkerId);\n        const annotations = this.jsEditor.session.getAnnotations();\n        const errorAnnotation: Ace.Annotation = {\n          row: line,\n          column,\n          text: details.message,\n          type: 'error'\n        };\n        this.errorAnnotationId = annotations.push(errorAnnotation) - 1;\n        this.jsEditor.session.setAnnotations(annotations);\n      }\n    }\n  }\n\n  private cleanupJsErrors() {\n    this.store.dispatch(new ActionNotificationHide({}));\n    this.errorMarkers.forEach((errorMarker) => {\n      this.jsEditor.session.removeMarker(errorMarker);\n    });\n    this.errorMarkers.length = 0;\n    if (this.errorAnnotationId > -1) {\n      const annotations = this.jsEditor.session.getAnnotations();\n      annotations.splice(this.errorAnnotationId, 1);\n      this.jsEditor.session.setAnnotations(annotations);\n      this.errorAnnotationId = -1;\n    }\n  }\n\n  private commitSaveWidget() {\n    const id = (this.widgetTypeDetails && this.widgetTypeDetails.id) ? this.widgetTypeDetails.id : undefined;\n    const createdTime = (this.widgetTypeDetails && this.widgetTypeDetails.createdTime) ? this.widgetTypeDetails.createdTime : undefined;\n    this.widgetService.saveWidgetTypeDetails(this.widget, id, this.widgetsBundle.alias, createdTime).subscribe(\n      (widgetTypeDetails) => {\n        this.setWidgetTypeDetails(widgetTypeDetails);\n        this.saveWidgetPending = false;\n        this.store.dispatch(new ActionNotificationShow(\n          {message: this.translate.instant('widget.widget-saved'), type: 'success', duration: 500}));\n      },\n      () => {\n        this.saveWidgetPending = false;\n      }\n    );\n  }\n\n  private commitSaveWidgetAs() {\n    this.dialog.open<SaveWidgetTypeAsDialogComponent, any,\n      SaveWidgetTypeAsDialogResult>(SaveWidgetTypeAsDialogComponent, {\n      disableClose: true,\n      panelClass: ['tb-dialog', 'tb-fullscreen-dialog']\n    }).afterClosed().subscribe(\n      (saveWidgetAsData) => {\n        if (saveWidgetAsData) {\n          this.widget.widgetName = saveWidgetAsData.widgetName;\n          this.widget.alias = undefined;\n          const config = JSON.parse(this.widget.defaultConfig);\n          config.title = this.widget.widgetName;\n          this.widget.defaultConfig = JSON.stringify(config);\n          this.isDirty = false;\n          this.widgetService.saveWidgetTypeDetails(this.widget, undefined, saveWidgetAsData.bundleAlias, undefined).subscribe(\n            (widgetTypeDetails) => {\n              this.router.navigateByUrl(`/widgets-bundles/${saveWidgetAsData.bundleId}/widgetTypes/${widgetTypeDetails.id.id}`);\n            }\n          );\n        }\n        this.saveWidgetAsPending = false;\n      }\n    );\n  }\n\n  private setWidgetTypeDetails(widgetTypeDetails: WidgetTypeDetails) {\n    this.widgetTypeDetails = widgetTypeDetails;\n    this.widget = detailsToWidgetInfo(this.widgetTypeDetails);\n    const config = JSON.parse(this.widget.defaultConfig);\n    this.widget.defaultConfig = JSON.stringify(config);\n    this.origWidget = deepClone(this.widget);\n    this.isDirty = false;\n  }\n\n  applyWidgetScript(): void {\n    this.cleanupJsErrors();\n    this.gotError = false;\n    this.iframeWidgetEditModeInited = false;\n    const config: WidgetConfig = JSON.parse(this.widget.defaultConfig);\n    config.title = this.widget.widgetName;\n    this.widget.defaultConfig = JSON.stringify(config);\n    this.iframe.attr('data-widget', JSON.stringify(this.widget));\n    this.iframe[0].contentWindow.location.reload(true);\n  }\n\n  undoWidget(): void {\n    this.widget = deepClone(this.origWidget);\n    this.setAceEditorValues();\n    this.isDirty = false;\n    this.applyWidgetScript();\n  }\n\n  saveWidget(): void {\n    if (!this.widget.widgetName) {\n      this.store.dispatch(new ActionNotificationShow(\n        {message: this.translate.instant('widget.missing-widget-title-error'), type: 'error'}));\n    } else {\n      this.saveWidgetPending = true;\n      this.applyWidgetScript();\n    }\n  }\n\n  saveWidgetAs(): void {\n    this.saveWidgetAsPending = true;\n    this.applyWidgetScript();\n  }\n\n  undoDisabled(): boolean {\n    return !this.isDirty\n    || !this.iframeWidgetEditModeInited\n    || this.saveWidgetPending\n    || this.saveWidgetAsPending;\n  }\n\n  saveDisabled(): boolean {\n    return this.isReadOnly\n      || !this.isDirty\n      || !this.iframeWidgetEditModeInited\n      || this.saveWidgetPending\n      || this.saveWidgetAsPending;\n  }\n\n  saveAsDisabled(): boolean {\n    return !this.iframeWidgetEditModeInited\n      || this.saveWidgetPending\n      || this.saveWidgetAsPending;\n  }\n\n  beautifyCss(): void {\n    beautifyCss(this.widget.templateCss, {indent_size: 4}).subscribe(\n      (res) => {\n        if (this.widget.templateCss !== res) {\n          this.isDirty = true;\n          this.widget.templateCss = res;\n          this.cssEditor.setValue(this.widget.templateCss ? this.widget.templateCss : '', -1);\n        }\n      }\n    );\n  }\n\n  beautifyHtml(): void {\n    beautifyHtml(this.widget.templateHtml, {indent_size: 4, wrap_line_length: 60}).subscribe(\n      (res) => {\n        if (this.widget.templateHtml !== res) {\n          this.isDirty = true;\n          this.widget.templateHtml = res;\n          this.htmlEditor.setValue(this.widget.templateHtml ? this.widget.templateHtml : '', -1);\n        }\n      }\n    );\n  }\n\n  beautifyJson(): void {\n    beautifyJs(this.widget.settingsSchema, {indent_size: 4}).subscribe(\n      (res) => {\n        if (this.widget.settingsSchema !== res) {\n          this.isDirty = true;\n          this.widget.settingsSchema = res;\n          this.jsonSettingsEditor.setValue(this.widget.settingsSchema ? this.widget.settingsSchema : '', -1);\n        }\n      }\n    );\n  }\n\n  beautifyDataKeyJson(): void {\n    beautifyJs(this.widget.dataKeySettingsSchema, {indent_size: 4}).subscribe(\n      (res) => {\n        if (this.widget.dataKeySettingsSchema !== res) {\n          this.isDirty = true;\n          this.widget.dataKeySettingsSchema = res;\n          this.dataKeyJsonSettingsEditor.setValue(this.widget.dataKeySettingsSchema ? this.widget.dataKeySettingsSchema : '', -1);\n        }\n      }\n    );\n  }\n\n  beautifyJs(): void {\n    beautifyJs(this.widget.controllerScript, {indent_size: 4, wrap_line_length: 60}).subscribe(\n      (res) => {\n        if (this.widget.controllerScript !== res) {\n          this.isDirty = true;\n          this.widget.controllerScript = res;\n          this.jsEditor.setValue(this.widget.controllerScript ? this.widget.controllerScript : '', -1);\n        }\n      }\n    );\n  }\n\n  removeResource(index: number) {\n    if (index > -1) {\n      if (this.widget.resources.splice(index, 1).length > 0) {\n        this.isDirty = true;\n      }\n    }\n  }\n\n  addResource() {\n    this.widget.resources.push({url: ''});\n    this.isDirty = true;\n  }\n\n  widetTypeChanged() {\n    const config: WidgetConfig = JSON.parse(this.widget.defaultConfig);\n    if (this.widget.type !== widgetType.rpc &&\n        this.widget.type !== widgetType.alarm) {\n      if (config.targetDeviceAliases) {\n        delete config.targetDeviceAliases;\n      }\n      if (config.alarmSource) {\n        delete config.alarmSource;\n      }\n      if (!config.datasources) {\n        config.datasources = [];\n      }\n      if (!config.timewindow) {\n        config.timewindow = {\n          realtime: {\n            timewindowMs: 60000\n          }\n        };\n      }\n    } else if (this.widget.type === widgetType.rpc) {\n      if (config.datasources) {\n        delete config.datasources;\n      }\n      if (config.alarmSource) {\n        delete config.alarmSource;\n      }\n      if (config.timewindow) {\n        delete config.timewindow;\n      }\n      if (!config.targetDeviceAliases) {\n        config.targetDeviceAliases = [];\n      }\n    } else { // alarm\n      if (config.datasources) {\n        delete config.datasources;\n      }\n      if (config.targetDeviceAliases) {\n        delete config.targetDeviceAliases;\n      }\n      if (!config.alarmSource) {\n        config.alarmSource = {};\n      }\n      if (!config.timewindow) {\n        config.timewindow = {\n          realtime: {\n            timewindowMs: 24 * 60 * 60 * 1000\n          }\n        };\n      }\n    }\n    this.widget.defaultConfig = JSON.stringify(config);\n    this.isDirty = true;\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div fxFlex fxLayout=\"column\">\n  <div fxFlex fxLayout=\"column\" tb-fullscreen [fullscreen]=\"fullscreen\" tb-hotkeys [hotkeys]=\"hotKeys\" [cheatSheet]=\"cheatSheetComponent\">\n    <tb-hotkeys-cheatsheet #cheatSheetComponent></tb-hotkeys-cheatsheet>\n    <mat-toolbar class=\"mat-elevation-z1 tb-edit-toolbar mat-hue-3\" fxLayoutGap=\"16px\" fxLayoutGap.lt-xl=\"8px\">\n      <mat-form-field floatLabel=\"always\" hideRequiredMarker class=\"tb-widget-title\">\n        <mat-label></mat-label>\n        <input [disabled]=\"isReadOnly\" matInput required maxlength=\"255\"\n               [(ngModel)]=\"widget.widgetName\" (ngModelChange)=\"isDirty = true\"\n               placeholder=\"{{ 'widget.title' | translate }}\"/>\n      </mat-form-field>\n      <mat-form-field>\n        <mat-select [disabled]=\"isReadOnly\" matInput placeholder=\"{{ 'widget.type' | translate }}\"\n                    [(ngModel)]=\"widget.type\" (ngModelChange)=\"widetTypeChanged()\">\n          <mat-option *ngFor=\"let type of allWidgetTypes\" [value]=\"type\">\n            {{ widgetTypesDataMap.get(widgetTypes[type]).name | translate }}\n          </mat-option>\n        </mat-select>\n      </mat-form-field>\n      <span fxFlex></span>\n      <button mat-button fxHide.lt-md [disabled]=\"!iframeWidgetEditModeInited\"\n              (click)=\"applyWidgetScript()\"\n              matTooltip=\"{{ 'widget.run' | translate }} (CTRL + Return)\"\n              matTooltipPosition=\"below\">\n        <mat-icon>play_arrow</mat-icon>\n        <span translate>action.run</span>\n      </button>\n      <button mat-raised-button\n              fxHide.lt-md [disabled]=\"(isLoading$ | async) || undoDisabled()\"\n              (click)=\"undoWidget()\"\n              matTooltip=\"{{ 'widget.undo' | translate }} (CTRL + Q)\"\n              matTooltipPosition=\"below\">\n        <mat-icon>undo</mat-icon>\n        <span translate>action.undo</span>\n      </button>\n      <button *ngIf=\"!isReadOnly\" mat-raised-button\n              fxHide.lt-md [disabled]=\"(isLoading$ | async) || saveDisabled()\"\n              (click)=\"saveWidget()\"\n              [tb-circular-progress]=\"saveWidgetPending\"\n              matTooltip=\"{{ 'widget.save' | translate }} (CTRL + S)\"\n              matTooltipPosition=\"below\">\n        <mat-icon>save</mat-icon>\n        <span translate>action.save</span>\n      </button>\n      <button mat-raised-button\n              fxHide.lt-md [disabled]=\"(isLoading$ | async) || saveAsDisabled()\"\n              (click)=\"saveWidgetAs()\"\n              [tb-circular-progress]=\"saveWidgetAsPending\"\n              matTooltip=\"{{ 'widget.saveAs' | translate }} (Shift + CTRL + S)\"\n              matTooltipPosition=\"below\">\n        <mat-icon>save</mat-icon>\n        <span translate>action.saveAs</span>\n      </button>\n      <button mat-button\n              fxHide.lt-lg\n              (click)=\"fullscreen = !fullscreen\"\n              matTooltip=\"{{ 'widget.toggle-fullscreen' | translate }} (Shift + CTRL + F)\"\n              matTooltipPosition=\"below\">\n        <mat-icon>{{ fullscreen ? 'fullscreen_exit' : 'fullscreen' }}</mat-icon>\n        <span translate>widget.toggle-fullscreen</span>\n      </button>\n      <button mat-icon-button fxHide fxShow.md\n              (click)=\"fullscreen = !fullscreen\"\n              matTooltip=\"{{ 'widget.toggle-fullscreen' | translate }} (Shift + CTRL + F)\"\n              matTooltipPosition=\"below\">\n        <mat-icon>{{ fullscreen ? 'fullscreen_exit' : 'fullscreen' }}</mat-icon>\n      </button>\n      <button mat-icon-button fxHide.gt-sm\n              [matMenuTriggerFor]=\"widgetEditMenu\">\n        <mat-icon>more_vert</mat-icon>\n      </button>\n      <mat-menu #widgetEditMenu=\"matMenu\" xPosition=\"before\">\n        <button mat-menu-item\n                [disabled]=\"!iframeWidgetEditModeInited\"\n                (click)=\"applyWidgetScript()\">\n          <mat-icon>play_arrow</mat-icon>\n          <span translate>action.run</span>\n        </button>\n        <button mat-menu-item\n                [disabled]=\"(isLoading$ | async) || undoDisabled()\"\n                (click)=\"undoWidget()\">\n          <mat-icon>undo</mat-icon>\n          <span translate>action.undo</span>\n        </button>\n        <button *ngIf=\"!isReadOnly\" mat-menu-item\n                [disabled]=\"(isLoading$ | async) || saveDisabled()\"\n                (click)=\"saveWidget()\">\n          <mat-icon>save</mat-icon>\n          <span translate>action.save</span>\n        </button>\n        <button mat-menu-item\n                [disabled]=\"(isLoading$ | async) || saveAsDisabled()\"\n                (click)=\"saveWidgetAs()\">\n          <mat-icon>save</mat-icon>\n          <span translate>action.saveAs</span>\n        </button>\n      </mat-menu>\n    </mat-toolbar>\n    <div fxFlex style=\"position: relative;\">\n      <div class=\"tb-editor tb-absolute-fill\">\n        <div #topPanel class=\"tb-split tb-split-vertical\">\n          <div #topLeftPanel class=\"tb-split tb-content\">\n            <mat-tab-group selectedIndex=\"1\" dynamicHeight=\"true\" style=\"width: 100%; height: 100%;\">\n              <mat-tab label=\"{{ 'widget.resources' | translate }}\">\n                <div class=\"tb-resize-container\" style=\"background-color: #fff;\">\n                  <div class=\"mat-padding\">\n                    <div fxFlex fxLayout=\"row\" style=\"max-height: 40px;\"\n                         fxLayoutAlign=\"start center\"\n                         *ngFor=\"let resource of widget.resources; let i = index\" >\n                      <mat-form-field fxFlex class=\"mat-block resource-field\" floatLabel=\"never\"\n                                      style=\"margin: 10px 0 0 0; max-height: 40px;\">\n                        <input required matInput [(ngModel)]=\"resource.url\"\n                               (ngModelChange)=\"isDirty = true\"\n                               placeholder=\"{{ 'widget.resource-url' | translate }}\"/>\n                      </mat-form-field>\n                      <mat-checkbox [(ngModel)]=\"resource.isModule\"\n                                    (ngModelChange)=\"isDirty = true\">\n                        {{ 'widget.resource-is-module' | translate }}\n                      </mat-checkbox>\n                      <button mat-icon-button color=\"primary\"\n                              [disabled]=\"isLoading$ | async\"\n                              (click)=\"removeResource(i)\"\n                              matTooltip=\"{{'widget.remove-resource' | translate}}\"\n                              matTooltipPosition=\"above\">\n                        <mat-icon>close</mat-icon>\n                      </button>\n                    </div>\n                    <div style=\"margin-top: 6px;\">\n                      <button mat-raised-button color=\"primary\"\n                              [disabled]=\"isLoading$ | async\"\n                              (click)=\"addResource()\"\n                              matTooltip=\"{{'widget.add-resource' | translate}}\"\n                              matTooltipPosition=\"above\">\n                        <span translate>action.add</span>\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </mat-tab>\n              <mat-tab label=\"{{ 'widget.html' | translate }}\">\n                <div class=\"tb-resize-container\" tb-fullscreen [fullscreen]=\"htmlFullscreen\">\n                  <div class=\"tb-editor-area-title-panel\">\n                    <button mat-button (click)=\"beautifyHtml()\">\n                      {{ 'widget.tidy' | translate }}\n                    </button>\n                    <button mat-button mat-icon-button class=\"tb-mat-32\"\n                            (click)=\"htmlFullscreen = !htmlFullscreen\"\n                            matTooltip=\"{{(htmlFullscreen ? 'fullscreen.exit' : 'fullscreen.expand') | translate}}\"\n                            matTooltipPosition=\"above\">\n                      <mat-icon>{{ htmlFullscreen ? 'fullscreen_exit' : 'fullscreen' }}</mat-icon>\n                    </button>\n                  </div>\n                  <div #htmlInput></div>\n                </div>\n              </mat-tab>\n              <mat-tab label=\"{{ 'widget.css' | translate }}\">\n                <div class=\"tb-resize-container\" tb-fullscreen [fullscreen]=\"cssFullscreen\">\n                  <div class=\"tb-editor-area-title-panel\">\n                    <button mat-button (click)=\"beautifyCss()\">\n                      {{ 'widget.tidy' | translate }}\n                    </button>\n                    <button mat-icon-button class=\"tb-mat-32\"\n                            (click)=\"cssFullscreen = !cssFullscreen\"\n                            matTooltip=\"{{(cssFullscreen ? 'fullscreen.exit' : 'fullscreen.expand') | translate}}\"\n                            matTooltipPosition=\"above\">\n                      <mat-icon>{{ cssFullscreen ? 'fullscreen_exit' : 'fullscreen' }}</mat-icon>\n                    </button>\n                  </div>\n                  <div #cssInput></div>\n                </div>\n              </mat-tab>\n            </mat-tab-group>\n          </div>\n          <div #topRightPanel class=\"tb-split tb-content\">\n            <mat-tab-group dynamicHeight=\"true\" style=\"width: 100%; height: 100%;\">\n              <mat-tab label=\"{{ 'widget.settings-schema' | translate }}\">\n                <div class=\"tb-resize-container\" tb-fullscreen [fullscreen]=\"jsonSettingsFullscreen\">\n                  <div class=\"tb-editor-area-title-panel\">\n                    <button mat-button (click)=\"beautifyJson()\">\n                      {{ 'widget.tidy' | translate }}\n                    </button>\n                    <button mat-icon-button class=\"tb-mat-32\"\n                            (click)=\"jsonSettingsFullscreen = !jsonSettingsFullscreen\"\n                            matTooltip=\"{{(jsonSettingsFullscreen ? 'fullscreen.exit' : 'fullscreen.expand') | translate}}\"\n                            matTooltipPosition=\"above\">\n                      <mat-icon>{{ jsonSettingsFullscreen ? 'fullscreen_exit' : 'fullscreen' }}</mat-icon>\n                    </button>\n                  </div>\n                  <div #settingsJsonInput></div>\n                </div>\n              </mat-tab>\n              <mat-tab label=\"{{ 'widget.datakey-settings-schema' | translate }}\">\n                <div class=\"tb-resize-container\" tb-fullscreen [fullscreen]=\"jsonDataKeySettingsFullscreen\">\n                  <div class=\"tb-editor-area-title-panel\">\n                    <button mat-button (click)=\"beautifyDataKeyJson()\">\n                      {{ 'widget.tidy' | translate }}\n                    </button>\n                    <button mat-icon-button class=\"tb-mat-32\"\n                            (click)=\"jsonDataKeySettingsFullscreen = !jsonDataKeySettingsFullscreen\"\n                            matTooltip=\"{{(jsonDataKeySettingsFullscreen ? 'fullscreen.exit' : 'fullscreen.expand') | translate}}\"\n                            matTooltipPosition=\"above\">\n                      <mat-icon>{{ jsonDataKeySettingsFullscreen ? 'fullscreen_exit' : 'fullscreen' }}</mat-icon>\n                    </button>\n                  </div>\n                  <div #dataKeySettingsJsonInput></div>\n                </div>\n              </mat-tab>\n              <mat-tab label=\"{{ 'widget.widget-settings' | translate }}\">\n                <div class=\"tb-resize-container\" style=\"background-color: #fff;\">\n                  <div class=\"mat-padding\">\n                    <tb-image-input fxFlex label=\"{{'widget.image-preview' | translate}}\"\n                                    maxSizeByte=\"524288\"\n                                    [(ngModel)]=\"widget.image\"\n                                    (ngModelChange)=\"isDirty = true\" >\n                    </tb-image-input>\n                    <mat-form-field class=\"mat-block\">\n                      <mat-label translate>widget.description</mat-label>\n                      <textarea matInput #descriptionInput\n                                [(ngModel)]=\"widget.description\"\n                                (ngModelChange)=\"isDirty = true\"\n                                rows=\"2\" maxlength=\"255\"></textarea>\n                      <mat-hint align=\"end\">{{descriptionInput.value?.length || 0}}/255</mat-hint>\n                    </mat-form-field>\n                  </div>\n                </div>\n              </mat-tab>\n            </mat-tab-group>\n          </div>\n        </div>\n        <div #bottomPanel class=\"tb-split tb-split-vertical\">\n          <div #javascriptPanel class=\"tb-split tb-content\" tb-toast toastTarget=\"javascriptPanel\">\n            <div class=\"tb-resize-container\" tb-fullscreen [fullscreen]=\"javascriptFullscreen\">\n              <div class=\"tb-editor-area-title-panel\">\n                <label translate>widget.javascript</label>\n                <button mat-button (click)=\"beautifyJs()\">\n                  {{ 'widget.tidy' | translate }}\n                </button>\n                <span tb-help-popup=\"widget/editor/widget_js_fn\" tb-help-popup-placement=\"top\" [tb-help-popup-style]=\"{maxWidth: '1200px'}\"></span>\n                <button mat-icon-button class=\"tb-mat-32\"\n                        (click)=\"javascriptFullscreen = !javascriptFullscreen\"\n                        matTooltip=\"{{(javascriptFullscreen ? 'fullscreen.exit' : 'fullscreen.expand') | translate}}\"\n                        matTooltipPosition=\"above\">\n                  <mat-icon>{{ javascriptFullscreen ? 'fullscreen_exit' : 'fullscreen' }}</mat-icon>\n                </button>\n              </div>\n              <div #javascriptInput></div>\n            </div>\n          </div>\n          <div #framePanel class=\"tb-split tb-content\" style=\"overflow-y: hidden; position: relative;\">\n            <div class=\"mat-content tb-progress-cover\" fxFlex fxLayout=\"column\" fxLayoutAlign=\"center center\"\n                 *ngIf=\"!iframeWidgetEditModeInited\">\n              <mat-spinner diameter=\"100\" mode=\"indeterminate\" color=\"warn\"></mat-spinner>\n            </div>\n            <div tb-fullscreen [fullscreen]=\"iFrameFullscreen\" style=\"width: 100%; height: 100%;\">\n              <iframe #widgetIFrame frameborder=\"0\" height=\"100%\" width=\"100%\"></iframe>\n              <div style=\"position: absolute; top: 10px; left: 10px; bottom: initial;\">\n                <button mat-icon-button\n                        class=\"tb-fullscreen-button-style\"\n                        (click)=\"iFrameFullscreen = !iFrameFullscreen\"\n                        matTooltip=\"{{(iFrameFullscreen ? 'fullscreen.exit' : 'fullscreen.expand') | translate}}\"\n                        matTooltipPosition=\"above\">\n                  <mat-icon>{{ iFrameFullscreen ? 'fullscreen_exit' : 'fullscreen' }}</mat-icon>\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Injectable } from '@angular/core';\nimport { Resolve } from '@angular/router';\nimport {\n  CellActionDescriptorType,\n  DateEntityTableColumn,\n  EntityTableColumn,\n  EntityTableConfig\n} from '@home/models/entity/entities-table-config.models';\nimport {\n  ChecksumAlgorithmTranslationMap,\n  OtaPackage,\n  OtaPackageInfo,\n  OtaUpdateTypeTranslationMap\n} from '@shared/models/ota-package.models';\nimport { EntityType, entityTypeResources, entityTypeTranslations } from '@shared/models/entity-type.models';\nimport { TranslateService } from '@ngx-translate/core';\nimport { DatePipe } from '@angular/common';\nimport { OtaPackageService } from '@core/http/ota-package.service';\nimport { PageLink } from '@shared/models/page/page-link';\nimport { OtaUpdateComponent } from '@home/pages/ota-update/ota-update.component';\nimport { EntityAction } from '@home/models/entity/entity-component.models';\nimport { FileSizePipe } from '@shared/pipe/file-size.pipe';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\n\n@Injectable()\nexport class OtaUpdateTableConfigResolve implements Resolve<EntityTableConfig<OtaPackage, PageLink, OtaPackageInfo>> {\n\n  private readonly config: EntityTableConfig<OtaPackage, PageLink, OtaPackageInfo> =\n    new EntityTableConfig<OtaPackage, PageLink, OtaPackageInfo>();\n\n  constructor(private translate: TranslateService,\n              private datePipe: DatePipe,\n              private store: Store<AppState>,\n              private otaPackageService: OtaPackageService,\n              private fileSize: FileSizePipe) {\n    this.config.entityType = EntityType.OTA_PACKAGE;\n    this.config.entityComponent = OtaUpdateComponent;\n    this.config.entityTranslations = entityTypeTranslations.get(EntityType.OTA_PACKAGE);\n    this.config.entityResources = entityTypeResources.get(EntityType.OTA_PACKAGE);\n\n    this.config.entityTitle = (otaPackage) => otaPackage ? otaPackage.title : '';\n\n    this.config.columns.push(\n      new DateEntityTableColumn<OtaPackageInfo>('createdTime', 'common.created-time', this.datePipe, '150px'),\n      new EntityTableColumn<OtaPackageInfo>('title', 'ota-update.title', '15%'),\n      new EntityTableColumn<OtaPackageInfo>('version', 'ota-update.version', '15%'),\n      new EntityTableColumn<OtaPackageInfo>('tag', 'ota-update.version-tag', '15%'),\n      new EntityTableColumn<OtaPackageInfo>('type', 'ota-update.package-type', '15%', entity => {\n        return this.translate.instant(OtaUpdateTypeTranslationMap.get(entity.type));\n      }),\n      new EntityTableColumn<OtaPackageInfo>('url', 'ota-update.direct-url', '20%', entity => {\n          return entity.url ? (entity.url.length > 20 ? `${entity.url.slice(0, 20)}…` : entity.url) : '';\n        }, () => ({}), true, () => ({}), () => undefined, false,\n        {\n          name: this.translate.instant('ota-update.copy-direct-url'),\n          icon: 'content_paste',\n          style: {\n            'font-size': '16px',\n            color: 'rgba(0,0,0,.87)'\n          },\n          isEnabled: (otaPackage) => !!otaPackage.url,\n          onAction: ($event, entity) => entity.url,\n          type: CellActionDescriptorType.COPY_BUTTON\n        }),\n      new EntityTableColumn<OtaPackageInfo>('fileName', 'ota-update.file-name', '20%'),\n      new EntityTableColumn<OtaPackageInfo>('dataSize', 'ota-update.file-size', '70px', entity => {\n        return entity.dataSize ? this.fileSize.transform(entity.dataSize) : '';\n      }),\n      new EntityTableColumn<OtaPackageInfo>('checksum', 'ota-update.checksum', '220px', entity => {\n        return entity.checksum ? this.checksumText(entity) : '';\n      }, () => ({}), true, () => ({}), () => undefined, false,\n      {\n        name: this.translate.instant('ota-update.copy-checksum'),\n        icon: 'content_paste',\n        style: {\n          'font-size': '16px',\n          color: 'rgba(0,0,0,.87)'\n        },\n        isEnabled: (otaPackage) => !!otaPackage.checksum,\n        onAction: ($event, entity) => entity.checksum,\n        type: CellActionDescriptorType.COPY_BUTTON\n      })\n    );\n\n    this.config.cellActionDescriptors.push(\n      {\n        name: this.translate.instant('ota-update.download'),\n        icon: 'file_download',\n        isEnabled: (otaPackage) => otaPackage.hasData && !otaPackage.url,\n        onAction: ($event, entity) => this.exportPackage($event, entity)\n      }\n    );\n\n    this.config.deleteEntityTitle = otaPackage => this.translate.instant('ota-update.delete-ota-update-title',\n      { title: otaPackage.title });\n    this.config.deleteEntityContent = () => this.translate.instant('ota-update.delete-ota-update-text');\n    this.config.deleteEntitiesTitle = count => this.translate.instant('ota-update.delete-ota-updates-title', {count});\n    this.config.deleteEntitiesContent = () => this.translate.instant('ota-update.delete-ota-updates-text');\n\n    this.config.entitiesFetchFunction = pageLink => this.otaPackageService.getOtaPackages(pageLink);\n    this.config.loadEntity = id => this.otaPackageService.getOtaPackageInfo(id.id);\n    this.config.saveEntity = otaPackage => this.otaPackageService.saveOtaPackage(otaPackage);\n    this.config.deleteEntity = id => this.otaPackageService.deleteOtaPackage(id.id);\n\n    this.config.onEntityAction = action => this.onPackageAction(action);\n  }\n\n  resolve(): EntityTableConfig<OtaPackage, PageLink, OtaPackageInfo> {\n    this.config.tableTitle = this.translate.instant('ota-update.packages-repository');\n    return this.config;\n  }\n\n  exportPackage($event: Event, otaPackageInfo: OtaPackageInfo) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    if (otaPackageInfo.url) {\n      window.open(otaPackageInfo.url, '_blank');\n    } else {\n      this.otaPackageService.downloadOtaPackage(otaPackageInfo.id.id).subscribe();\n    }\n  }\n\n  checksumText(entity): string {\n    let text = `${ChecksumAlgorithmTranslationMap.get(entity.checksumAlgorithm)}: ${entity.checksum}`;\n    if (text.length > 20) {\n      text = `${text.slice(0, 20)}…`;\n    }\n    return text;\n  }\n\n  onPackageAction(action: EntityAction<OtaPackageInfo>): boolean {\n    switch (action.action) {\n      case 'uploadPackage':\n        this.exportPackage(action.event, action.entity);\n        return true;\n    }\n    return false;\n  }\n\n}\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from '@shared/shared.module';\nimport { RuleChainComponent } from '@modules/home/pages/rulechain/rulechain.component';\nimport { RuleChainRoutingModule } from '@modules/home/pages/rulechain/rulechain-routing.module';\nimport { HomeComponentsModule } from '@modules/home/components/home-components.module';\nimport { RuleChainTabsComponent } from '@home/pages/rulechain/rulechain-tabs.component';\nimport {\n  AddRuleNodeDialogComponent,\n  AddRuleNodeLinkDialogComponent,\n  RuleChainPageComponent\n} from './rulechain-page.component';\nimport { RuleNodeComponent } from '@home/pages/rulechain/rulenode.component';\nimport { FC_NODE_COMPONENT_CONFIG } from 'ngx-flowchart/dist/ngx-flowchart';\nimport { RuleNodeDetailsComponent } from './rule-node-details.component';\nimport { RuleNodeLinkComponent } from './rule-node-link.component';\nimport { LinkLabelsComponent } from '@home/pages/rulechain/link-labels.component';\nimport { RuleNodeConfigComponent } from './rule-node-config.component';\n\n@NgModule({\n  declarations: [\n    RuleChainComponent,\n    RuleChainTabsComponent,\n    RuleChainPageComponent,\n    RuleNodeComponent,\n    RuleNodeDetailsComponent,\n    RuleNodeConfigComponent,\n    LinkLabelsComponent,\n    RuleNodeLinkComponent,\n    AddRuleNodeLinkDialogComponent,\n    AddRuleNodeDialogComponent\n  ],\n  providers: [\n    {\n      provide: FC_NODE_COMPONENT_CONFIG,\n      useValue: {\n        nodeComponentType: RuleNodeComponent\n      }\n    }\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    HomeComponentsModule,\n    RuleChainRoutingModule\n  ]\n})\nexport class RuleChainModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, OnInit } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { DialogComponent } from '@shared/components/dialog.component';\nimport { Router } from '@angular/router';\nimport { WidgetsBundle } from '@shared/models/widgets-bundle.model';\nimport { getCurrentAuthUser } from '@core/auth/auth.selectors';\nimport { Authority } from '@shared/models/authority.enum';\n\nexport interface SaveWidgetTypeAsDialogResult {\n  widgetName: string;\n  bundleId: string;\n  bundleAlias: string;\n}\n\n@Component({\n  selector: 'tb-save-widget-type-as-dialog',\n  templateUrl: './save-widget-type-as-dialog.component.html',\n  styleUrls: []\n})\nexport class SaveWidgetTypeAsDialogComponent extends\n  DialogComponent<SaveWidgetTypeAsDialogComponent, SaveWidgetTypeAsDialogResult> implements OnInit {\n\n  saveWidgetTypeAsFormGroup: FormGroup;\n\n  bundlesScope: string;\n\n  constructor(protected store: Store<AppState>,\n              protected router: Router,\n              public dialogRef: MatDialogRef<SaveWidgetTypeAsDialogComponent, SaveWidgetTypeAsDialogResult>,\n              public fb: FormBuilder) {\n    super(store, router, dialogRef);\n\n    const authUser = getCurrentAuthUser(store);\n    if (authUser.authority === Authority.TENANT_ADMIN) {\n      this.bundlesScope = 'tenant';\n    } else {\n      this.bundlesScope = 'system';\n    }\n  }\n\n  ngOnInit(): void {\n    this.saveWidgetTypeAsFormGroup = this.fb.group({\n      title: [null, [Validators.required]],\n      widgetsBundle: [null, [Validators.required]]\n    });\n  }\n\n  cancel(): void {\n    this.dialogRef.close(null);\n  }\n\n  saveAs(): void {\n    const widgetName: string = this.saveWidgetTypeAsFormGroup.get('title').value;\n    const widgetsBundle: WidgetsBundle = this.saveWidgetTypeAsFormGroup.get('widgetsBundle').value;\n    const result: SaveWidgetTypeAsDialogResult = {\n      widgetName,\n      bundleId: widgetsBundle.id.id,\n      bundleAlias: widgetsBundle.alias\n    };\n    this.dialogRef.close(result);\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<form [formGroup]=\"saveWidgetTypeAsFormGroup\" (ngSubmit)=\"saveAs()\">\n  <mat-toolbar color=\"primary\">\n    <h2 translate>widget.save-widget-type-as</h2>\n    <span fxFlex></span>\n    <button mat-button mat-icon-button\n            (click)=\"cancel()\"\n            type=\"button\">\n      <mat-icon class=\"material-icons\">close</mat-icon>\n    </button>\n  </mat-toolbar>\n  <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n  </mat-progress-bar>\n  <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n  <div mat-dialog-content>\n    <fieldset>\n      <span translate>widget.save-widget-type-as-text</span>\n      <mat-form-field class=\"mat-block\">\n        <mat-label translate>widget.title</mat-label>\n        <input matInput formControlName=\"title\" required>\n        <mat-error *ngIf=\"saveWidgetTypeAsFormGroup.get('title').hasError('required')\">\n          {{ 'widget.title-required' | translate }}\n        </mat-error>\n      </mat-form-field>\n      <tb-widgets-bundle-select fxFlex\n                                formControlName=\"widgetsBundle\"\n                                required\n                                bundlesScope=\"{{bundlesScope}}\">\n      </tb-widgets-bundle-select>\n    </fieldset>\n  </div>\n  <div mat-dialog-actions fxLayoutAlign=\"end center\">\n    <button mat-button color=\"primary\"\n            type=\"button\"\n            [disabled]=\"(isLoading$ | async)\"\n            (click)=\"cancel()\" cdkFocusInitial>\n      {{ 'action.cancel' | translate }}\n    </button>\n    <button mat-raised-button color=\"primary\"\n            type=\"submit\"\n            [disabled]=\"(isLoading$ | async) || saveWidgetTypeAsFormGroup.invalid\n            || !saveWidgetTypeAsFormGroup.dirty\">\n      {{ 'action.saveAs' | translate }}\n    </button>\n  </div>\n</form>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, ElementRef, forwardRef, Input, OnChanges, OnInit, SimpleChanges, ViewChild } from '@angular/core';\nimport { ControlValueAccessor, FormBuilder, FormGroup, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { LinkLabel } from '@shared/models/rule-node.models';\nimport { Observable, of } from 'rxjs';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { deepClone } from '@core/utils';\nimport { TruncatePipe } from '@shared/pipe/truncate.pipe';\nimport { MatAutocomplete, MatAutocompleteSelectedEvent } from '@angular/material/autocomplete';\nimport { MatChipInputEvent, MatChipList } from '@angular/material/chips';\nimport { TranslateService } from '@ngx-translate/core';\nimport { COMMA, ENTER, SEMICOLON } from '@angular/cdk/keycodes';\nimport { map, mergeMap, share, startWith } from 'rxjs/operators';\n\n@Component({\n  selector: 'tb-link-labels',\n  templateUrl: './link-labels.component.html',\n  styleUrls: [],\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => LinkLabelsComponent),\n    multi: true\n  }]\n})\nexport class LinkLabelsComponent implements ControlValueAccessor, OnInit, OnChanges {\n\n  @ViewChild('chipList') chipList: MatChipList;\n  @ViewChild('labelAutocomplete') matAutocomplete: MatAutocomplete;\n  @ViewChild('labelInput') labelInput: ElementRef<HTMLInputElement>;\n\n  private requiredValue: boolean;\n  get required(): boolean {\n    return this.requiredValue;\n  }\n  @Input()\n  set required(value: boolean) {\n    this.requiredValue = coerceBooleanProperty(value);\n  }\n\n  @Input()\n  disabled: boolean;\n\n  private allowCustomValue: boolean;\n  get allowCustom(): boolean {\n    return this.allowCustomValue;\n  }\n  @Input()\n  set allowCustom(value: boolean) {\n    this.allowCustomValue = coerceBooleanProperty(value);\n    this.separatorKeysCodes = this.allowCustomValue ? [ENTER, COMMA, SEMICOLON] : [];\n  }\n\n  @Input()\n  allowedLabels: {[label: string]: LinkLabel};\n\n  linksFormGroup: FormGroup;\n\n  modelValue: Array<string>;\n\n  private labelsList: Array<LinkLabel> = [];\n\n  separatorKeysCodes: number[] = [];\n\n  filteredLabels: Observable<Array<LinkLabel>>;\n\n  labels: Array<LinkLabel> = [];\n\n  searchText = '';\n\n  private propagateChange = (v: any) => { };\n\n  constructor(private fb: FormBuilder,\n              public truncate: TruncatePipe,\n              public translate: TranslateService) {\n    this.linksFormGroup = this.fb.group({\n      label: [null]\n    });\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n\n  ngOnInit(): void {\n    this.filteredLabels = this.linksFormGroup.get('label').valueChanges\n      .pipe(\n        startWith(''),\n        map((value) => value ? value : ''),\n        mergeMap(name => this.fetchLabels(name) ),\n        share()\n      );\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    let reloadLabels = false;\n    for (const propName of Object.keys(changes)) {\n      const change = changes[propName];\n      if (change.currentValue !== change.previousValue) {\n        if (['allowCustom', 'allowedLabels'].includes(propName)) {\n          reloadLabels = true;\n        }\n      }\n    }\n    if (reloadLabels) {\n      this.linksFormGroup.get('label').patchValue('', {emitEvent: true});\n    }\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n    if (this.disabled) {\n      this.linksFormGroup.disable({emitEvent: false});\n    } else {\n      this.linksFormGroup.enable({emitEvent: false});\n    }\n  }\n\n  writeValue(value: string[]): void {\n    this.searchText = '';\n    this.labelsList.length = 0;\n    this.labels.length = 0;\n    this.modelValue = value;\n    for (const label of Object.keys(this.allowedLabels)) {\n      this.labelsList.push({name: this.allowedLabels[label].name, value: this.allowedLabels[label].value});\n    }\n    if (value) {\n      value.forEach((label) => {\n        if (this.allowedLabels[label]) {\n          this.labels.push(deepClone(this.allowedLabels[label]));\n        } else {\n          this.labels.push({\n            name: label,\n            value: label\n          });\n        }\n      });\n    }\n    if (this.chipList && this.required) {\n      this.chipList.errorState = this.labels.length ? false : true;\n    }\n    this.linksFormGroup.get('label').patchValue('', {emitEvent: true});\n  }\n\n  displayLabelFn(label?: LinkLabel): string | undefined {\n    return label ? label.name : undefined;\n  }\n\n  textIsNotEmpty(text: string): boolean {\n    return (text && text != null && text.length > 0) ? true : false;\n  }\n\n  createLinkLabel($event: Event, value: string) {\n    $event.preventDefault();\n    this.transformLinkLabel(value);\n  }\n\n  add(event: MatChipInputEvent): void {\n    if (!this.matAutocomplete.isOpen || this.allowCustom) {\n      this.transformLinkLabel(event.value);\n    }\n  }\n\n  private fetchLabels(searchText?: string): Observable<Array<LinkLabel>> {\n    this.searchText = searchText;\n    if (this.searchText && this.searchText.length) {\n      const search = this.searchText.toUpperCase();\n      return of(this.labelsList.filter(label => label.name.toUpperCase().includes(search)));\n    } else {\n      return of(this.labelsList);\n    }\n  }\n\n  private transformLinkLabel(value: string) {\n    if ((value || '').trim()) {\n      let newLabel: LinkLabel = null;\n      const labelName = value.trim();\n      const existingLabel = this.labelsList.find(label => label.name === labelName);\n      if (existingLabel) {\n        newLabel = deepClone(existingLabel);\n      } else if (this.allowCustom) {\n        newLabel = {\n          name: labelName,\n          value: labelName\n        };\n      }\n      if (newLabel) {\n        this.addLabel(newLabel);\n      }\n    }\n    this.clear('');\n  }\n\n  remove(label: LinkLabel) {\n    const index = this.labels.indexOf(label);\n    if (index >= 0) {\n      this.labels.splice(index, 1);\n      if (!this.labels.length) {\n        if (this.required) {\n          this.chipList.errorState = true;\n        }\n      }\n      this.updateModel();\n    }\n  }\n\n  selected(event: MatAutocompleteSelectedEvent): void {\n    this.addLabel(event.option.value);\n    this.clear('');\n  }\n\n  addLabel(label: LinkLabel): void {\n    const index = this.labels.findIndex(existinglabel => existinglabel.value === label.value);\n    if (index === -1) {\n      this.labels.push(label);\n      if (this.required) {\n        this.chipList.errorState = false;\n      }\n      this.updateModel();\n    }\n  }\n\n  onFocus() {\n    this.linksFormGroup.get('label').updateValueAndValidity({onlySelf: true, emitEvent: true});\n  }\n\n  clear(value: string = '') {\n    this.labelInput.nativeElement.value = value;\n    this.linksFormGroup.get('label').patchValue(null, {emitEvent: true});\n    setTimeout(() => {\n      this.labelInput.nativeElement.blur();\n      this.labelInput.nativeElement.focus();\n    }, 0);\n  }\n\n  private updateModel() {\n    const labels = this.labels.map((label => label.value));\n    this.propagateChange(labels);\n  }\n}\n\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<mat-form-field [formGroup]=\"linksFormGroup\" style=\"width: 100%;\">\n  <mat-label translate>rulenode.link-labels</mat-label>\n  <mat-chip-list #chipList>\n    <mat-chip\n      *ngFor=\"let label of labels\"\n      [selectable]=\"!disabled\"\n      [removable]=\"!disabled\"\n      (removed)=\"remove(label)\">\n      {{label.name}}\n      <mat-icon matChipRemove *ngIf=\"!disabled\">close</mat-icon>\n    </mat-chip>\n    <input matInput type=\"text\" placeholder=\"{{ !disabled ? ('rulenode.link-label' | translate) : '' }}\"\n           style=\"max-width: 200px;\"\n           #labelInput\n           (focusin)=\"onFocus()\"\n           formControlName=\"label\"\n           matAutocompleteOrigin\n           #origin=\"matAutocompleteOrigin\"\n           [matAutocompleteConnectedTo]=\"origin\"\n           [matAutocomplete]=\"labelAutocomplete\"\n           [matChipInputFor]=\"chipList\"\n           [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\"\n           (matChipInputTokenEnd)=\"add($event)\">\n  </mat-chip-list>\n  <mat-autocomplete #labelAutocomplete=\"matAutocomplete\"\n                    class=\"tb-autocomplete\"\n                    (optionSelected)=\"selected($event)\"\n                    [displayWith]=\"displayLabelFn\">\n    <mat-option *ngFor=\"let label of filteredLabels | async\" [value]=\"label\">\n      <span [innerHTML]=\"label.name | highlight:searchText\"></span>\n    </mat-option>\n    <mat-option *ngIf=\"(filteredLabels | async)?.length === 0\" [value]=\"null\" class=\"tb-not-found\">\n      <div class=\"tb-not-found-content\" (click)=\"$event.stopPropagation()\">\n        <div *ngIf=\"!textIsNotEmpty(searchText); else searchNotEmpty\">\n          <span translate>rulenode.no-link-labels-found</span>\n        </div>\n        <ng-template #searchNotEmpty>\n                <span>\n                  {{ translate.get('rulenode.no-link-label-matching',\n                  {label: truncate.transform(searchText, true, 6, &apos;...&apos;)}) | async }}\n                </span>\n        </ng-template>\n        <span *ngIf=\"allowCustom\">\n                <a translate (click)=\"createLinkLabel($event, searchText)\">rulenode.create-new-link-label</a>\n              </span>\n      </div>\n    </mat-option>\n  </mat-autocomplete>\n</mat-form-field>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { MenuService } from '@core/services/menu.service';\nimport { BreakpointObserver, BreakpointState } from '@angular/cdk/layout';\nimport { MediaBreakpoints } from '@shared/models/constants';\nimport { HomeSection } from '@core/services/menu.models';\nimport { ActivatedRoute } from '@angular/router';\nimport { HomeDashboard } from '@shared/models/dashboard.models';\n\n@Component({\n  selector: 'tb-home-links',\n  templateUrl: './home-links.component.html',\n  styleUrls: ['./home-links.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class HomeLinksComponent implements OnInit {\n\n  homeSections$ = this.menuService.homeSections();\n\n  cols = 2;\n\n  homeDashboard: HomeDashboard = this.route.snapshot.data.homeDashboard;\n\n  constructor(private menuService: MenuService,\n              public breakpointObserver: BreakpointObserver,\n              private cd: ChangeDetectorRef,\n              private route: ActivatedRoute) {\n  }\n\n  ngOnInit() {\n    if (!this.homeDashboard) {\n      this.updateColumnCount();\n      this.breakpointObserver\n        .observe([MediaBreakpoints.lg, MediaBreakpoints['gt-lg']])\n        .subscribe((state: BreakpointState) => this.updateColumnCount());\n    }\n  }\n\n  private updateColumnCount() {\n    this.cols = 2;\n    if (this.breakpointObserver.isMatched(MediaBreakpoints.lg)) {\n      this.cols = 3;\n    }\n    if (this.breakpointObserver.isMatched(MediaBreakpoints['gt-lg'])) {\n      this.cols = 4;\n    }\n    this.cd.detectChanges();\n  }\n\n  sectionColspan(section: HomeSection): number {\n    if (this.breakpointObserver.isMatched(MediaBreakpoints['gt-sm'])) {\n      let colspan = this.cols;\n      if (section && section.places && section.places.length <= colspan) {\n        colspan = section.places.length;\n      }\n      return colspan;\n    } else {\n      return 2;\n    }\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<tb-dashboard-page *ngIf=\"homeDashboard; else homeLinks\" [embedded]=\"true\" [dashboard]=\"homeDashboard\" [hideToolbar]=\"homeDashboard.hideDashboardToolbar\"></tb-dashboard-page>\n<ng-template #homeLinks>\n  <mat-grid-list class=\"tb-home-links\" [cols]=\"cols\" rowHeight=\"280px\">\n    <mat-grid-tile [colspan]=\"sectionColspan(section)\" *ngFor=\"let section of homeSections$| async\">\n      <mat-card style=\"width: 100%;\">\n        <mat-card-title>\n          <span translate class=\"mat-headline\">{{section.name}}</span>\n        </mat-card-title>\n        <mat-card-content>\n          <mat-grid-list rowHeight=\"170px\" [cols]=\"section.places.length\">\n            <mat-grid-tile *ngFor=\"let place of section.places\">\n              <a mat-raised-button color=\"primary\" class=\"tb-card-button\" routerLink=\"{{place.path}}\">\n                <mat-icon *ngIf=\"!place.isMdiIcon\" class=\"material-icons tb-mat-96\">{{place.icon}}</mat-icon>\n                <mat-icon *ngIf=\"place.isMdiIcon\" class=\"tb-mat-96\" [svgIcon]=\"place.icon\"></mat-icon>\n                <span translate>{{place.name}}</span>\n              </a>\n            </mat-grid-tile>\n          </mat-grid-list>\n        </mat-card-content>\n      </mat-card>\n    </mat-grid-tile>\n  </mat-grid-list>\n</ng-template>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { EntityTabsComponent } from '../../components/entity/entity-tabs.component';\nimport { User } from '@app/shared/models/user.model';\n\n@Component({\n  selector: 'tb-user-tabs',\n  templateUrl: './user-tabs.component.html',\n  styleUrls: []\n})\nexport class UserTabsComponent extends EntityTabsComponent<User> {\n\n  constructor(protected store: Store<AppState>) {\n    super(store);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n  }\n\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'attribute.attributes' | translate }}\" #attributesTab=\"matTab\">\n  <tb-attribute-table [defaultAttributeScope]=\"attributeScopes.SERVER_SCOPE\"\n                      [active]=\"attributesTab.isActive\"\n                      [entityId]=\"entity.id\"\n                      [entityName]=\"entity.name\">\n  </tb-attribute-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'attribute.latest-telemetry' | translate }}\" #telemetryTab=\"matTab\">\n  <tb-attribute-table [defaultAttributeScope]=\"latestTelemetryTypes.LATEST_TELEMETRY\"\n                      disableAttributeScopeSelection\n                      [active]=\"telemetryTab.isActive\"\n                      [entityId]=\"entity.id\"\n                      [entityName]=\"entity.name\">\n  </tb-attribute-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity && authUser.authority === authorities.TENANT_ADMIN\"\n         label=\"{{ 'audit-log.audit-logs' | translate }}\" #auditLogsTab=\"matTab\">\n  <tb-audit-log-table [active]=\"auditLogsTab.isActive\" [auditLogMode]=\"auditLogModes.USER\" [userId]=\"entity.id\" detailsMode=\"true\"></tb-audit-log-table>\n</mat-tab>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, Inject, OnInit, ViewChild } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { FormGroup } from '@angular/forms';\nimport { UserComponent } from '@modules/home/pages/user/user.component';\nimport { Authority } from '@shared/models/authority.enum';\nimport { ActivationMethod, activationMethodTranslations, User } from '@shared/models/user.model';\nimport { CustomerId } from '@shared/models/id/customer-id';\nimport { UserService } from '@core/http/user.service';\nimport { Observable } from 'rxjs';\nimport {\n  ActivationLinkDialogComponent,\n  ActivationLinkDialogData\n} from '@modules/home/pages/user/activation-link-dialog.component';\nimport { TenantId } from '@app/shared/models/id/tenant-id';\nimport { DialogComponent } from '@shared/components/dialog.component';\nimport { Router } from '@angular/router';\n\nexport interface AddUserDialogData {\n  tenantId: string;\n  customerId: string;\n  authority: Authority;\n}\n\n@Component({\n  selector: 'tb-add-user-dialog',\n  templateUrl: './add-user-dialog.component.html',\n  styleUrls: ['./add-user-dialog.component.scss']\n})\nexport class AddUserDialogComponent extends DialogComponent<AddUserDialogComponent, User> implements OnInit {\n\n  detailsForm: FormGroup;\n  user: User;\n\n  activationMethods = Object.keys(ActivationMethod);\n  activationMethodEnum = ActivationMethod;\n\n  activationMethodTranslations = activationMethodTranslations;\n\n  activationMethod = ActivationMethod.DISPLAY_ACTIVATION_LINK;\n\n  @ViewChild(UserComponent, {static: true}) userComponent: UserComponent;\n\n  constructor(protected store: Store<AppState>,\n              protected router: Router,\n              @Inject(MAT_DIALOG_DATA) public data: AddUserDialogData,\n              public dialogRef: MatDialogRef<AddUserDialogComponent, User>,\n              private userService: UserService,\n              private dialog: MatDialog) {\n    super(store, router, dialogRef);\n  }\n\n  ngOnInit(): void {\n    this.user = {} as User;\n    this.userComponent.isEdit = true;\n    this.userComponent.entity = this.user;\n    this.detailsForm = this.userComponent.entityForm;\n  }\n\n  cancel(): void {\n    this.dialogRef.close(null);\n  }\n\n  add(): void {\n    if (this.detailsForm.valid) {\n      this.user = {...this.user, ...this.userComponent.entityForm.value};\n      this.user.authority = this.data.authority;\n      this.user.tenantId = new TenantId(this.data.tenantId);\n      this.user.customerId = new CustomerId(this.data.customerId);\n      const sendActivationEmail = this.activationMethod === ActivationMethod.SEND_ACTIVATION_MAIL;\n      this.userService.saveUser(this.user, sendActivationEmail).subscribe(\n        (user) => {\n          if (this.activationMethod === ActivationMethod.DISPLAY_ACTIVATION_LINK) {\n            this.userService.getActivationLink(user.id.id).subscribe(\n              (activationLink) => {\n                this.displayActivationLink(activationLink).subscribe(\n                  () => {\n                    this.dialogRef.close(user);\n                  }\n                );\n              }\n            );\n          } else {\n            this.dialogRef.close(user);\n          }\n        }\n      );\n    }\n  }\n\n  displayActivationLink(activationLink: string): Observable<void> {\n    return this.dialog.open<ActivationLinkDialogComponent, ActivationLinkDialogData,\n      void>(ActivationLinkDialogComponent, {\n      disableClose: true,\n      panelClass: ['tb-dialog', 'tb-fullscreen-dialog'],\n      data: {\n        activationLink\n      }\n    }).afterClosed();\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<form (ngSubmit)=\"add()\" style=\"min-width: 450px;\">\n  <mat-toolbar color=\"primary\">\n    <h2 translate>user.add</h2>\n    <span fxFlex></span>\n    <div [tb-help]=\"'user'\"></div>\n    <button mat-icon-button\n            (click)=\"cancel()\"\n            type=\"button\">\n      <mat-icon class=\"material-icons\">close</mat-icon>\n    </button>\n  </mat-toolbar>\n  <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n  </mat-progress-bar>\n  <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n  <div mat-dialog-content>\n    <tb-user></tb-user>\n    <mat-form-field class=\"mat-block\">\n      <mat-label translate>user.activation-method</mat-label>\n      <mat-select [ngModelOptions]=\"{standalone: true}\" [(ngModel)]=\"activationMethod\">\n        <mat-option *ngFor=\"let activationMethod of activationMethods\" [value]=\"activationMethod\">\n          {{ activationMethodTranslations.get(activationMethodEnum[activationMethod]) | translate }}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n  </div>\n  <div mat-dialog-actions fxLayoutAlign=\"end center\">\n    <button mat-button color=\"primary\"\n            type=\"button\"\n            cdkFocusInitial\n            [disabled]=\"(isLoading$ | async)\"\n            (click)=\"cancel()\">\n      {{ 'action.cancel' | translate }}\n    </button>\n    <button mat-raised-button color=\"primary\"\n            type=\"submit\"\n            [disabled]=\"(isLoading$ | async) || detailsForm.invalid || !detailsForm.dirty\">\n      {{ 'action.add' | translate }}\n    </button>\n  </div>\n</form>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Injectable } from '@angular/core';\n\nimport { ActivatedRouteSnapshot, Resolve } from '@angular/router';\nimport {\n  DateEntityTableColumn,\n  EntityTableColumn,\n  EntityTableConfig\n} from '@home/models/entity/entities-table-config.models';\nimport { TranslateService } from '@ngx-translate/core';\nimport { DatePipe } from '@angular/common';\nimport { EntityType, entityTypeResources, entityTypeTranslations } from '@shared/models/entity-type.models';\nimport { User } from '@shared/models/user.model';\nimport { UserService } from '@core/http/user.service';\nimport { UserComponent } from '@modules/home/pages/user/user.component';\nimport { CustomerService } from '@core/http/customer.service';\nimport { map, mergeMap, take, tap } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\nimport { Authority } from '@shared/models/authority.enum';\nimport { CustomerId } from '@shared/models/id/customer-id';\nimport { MatDialog } from '@angular/material/dialog';\nimport { EntityAction } from '@home/models/entity/entity-component.models';\nimport { AddUserDialogComponent, AddUserDialogData } from '@modules/home/pages/user/add-user-dialog.component';\nimport { AuthState } from '@core/auth/auth.models';\nimport { select, Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { selectAuth } from '@core/auth/auth.selectors';\nimport { AuthService } from '@core/auth/auth.service';\nimport {\n  ActivationLinkDialogComponent,\n  ActivationLinkDialogData\n} from '@modules/home/pages/user/activation-link-dialog.component';\nimport { ActionNotificationShow } from '@core/notification/notification.actions';\nimport { NULL_UUID } from '@shared/models/id/has-uuid';\nimport { TenantService } from '@app/core/http/tenant.service';\nimport { TenantId } from '@app/shared/models/id/tenant-id';\nimport { UserTabsComponent } from '@home/pages/user/user-tabs.component';\n\nexport interface UsersTableRouteData {\n  authority: Authority;\n}\n\n@Injectable()\nexport class UsersTableConfigResolver implements Resolve<EntityTableConfig<User>> {\n\n  private readonly config: EntityTableConfig<User> = new EntityTableConfig<User>();\n\n  private tenantId: string;\n  private customerId: string;\n  private authority: Authority;\n  private authUser: User;\n\n  constructor(private store: Store<AppState>,\n              private userService: UserService,\n              private authService: AuthService,\n              private tenantService: TenantService,\n              private customerService: CustomerService,\n              private translate: TranslateService,\n              private datePipe: DatePipe,\n              private dialog: MatDialog) {\n\n    this.config.entityType = EntityType.USER;\n    this.config.entityComponent = UserComponent;\n    this.config.entityTabsComponent = UserTabsComponent;\n    this.config.entityTranslations = entityTypeTranslations.get(EntityType.USER);\n    this.config.entityResources = entityTypeResources.get(EntityType.USER);\n\n    this.config.columns.push(\n      new DateEntityTableColumn<User>('createdTime', 'common.created-time', this.datePipe, '150px'),\n      new EntityTableColumn<User>('firstName', 'user.first-name', '33%'),\n      new EntityTableColumn<User>('lastName', 'user.last-name', '33%'),\n      new EntityTableColumn<User>('email', 'user.email', '33%')\n    );\n\n    this.config.deleteEnabled = user => user && user.id && user.id.id !== this.authUser.id.id;\n    this.config.deleteEntityTitle = user => this.translate.instant('user.delete-user-title', { userEmail: user.email });\n    this.config.deleteEntityContent = () => this.translate.instant('user.delete-user-text');\n    this.config.deleteEntitiesTitle = count => this.translate.instant('user.delete-users-title', {count});\n    this.config.deleteEntitiesContent = () => this.translate.instant('user.delete-users-text');\n\n    this.config.loadEntity = id => this.userService.getUser(id.id);\n    this.config.saveEntity = user => this.saveUser(user);\n    this.config.deleteEntity = id => this.userService.deleteUser(id.id);\n    this.config.onEntityAction = action => this.onUserAction(action);\n    this.config.addEntity = () => this.addUser();\n  }\n\n  resolve(route: ActivatedRouteSnapshot): Observable<EntityTableConfig<User>> {\n    const routeParams = route.params;\n    return this.store.pipe(select(selectAuth), take(1)).pipe(\n      tap((auth) => {\n        this.authUser = auth.userDetails;\n        this.authority = routeParams.tenantId ? Authority.TENANT_ADMIN : Authority.CUSTOMER_USER;\n        if (this.authority === Authority.TENANT_ADMIN) {\n          this.tenantId = routeParams.tenantId;\n          this.customerId = NULL_UUID;\n          this.config.entitiesFetchFunction = pageLink => this.userService.getTenantAdmins(this.tenantId, pageLink);\n        } else {\n          this.tenantId = this.authUser.tenantId.id;\n          this.customerId = routeParams.customerId;\n          this.config.entitiesFetchFunction = pageLink => this.userService.getCustomerUsers(this.customerId, pageLink);\n        }\n        this.updateActionCellDescriptors(auth);\n      }),\n      mergeMap(() => this.authority === Authority.TENANT_ADMIN ?\n        this.tenantService.getTenant(this.tenantId) :\n        this.customerService.getCustomer(this.customerId)),\n      map((parentEntity) => {\n        if (this.authority === Authority.TENANT_ADMIN) {\n          this.config.tableTitle = parentEntity.title + ': ' + this.translate.instant('user.tenant-admins');\n        } else {\n          this.config.tableTitle = parentEntity.title + ': ' + this.translate.instant('user.customer-users');\n        }\n        return this.config;\n      })\n    );\n  }\n\n  updateActionCellDescriptors(auth: AuthState) {\n    this.config.cellActionDescriptors.splice(0);\n    if (auth.userTokenAccessEnabled) {\n      this.config.cellActionDescriptors.push(\n        {\n          name: this.authority === Authority.TENANT_ADMIN ?\n            this.translate.instant('user.login-as-tenant-admin') :\n            this.translate.instant('user.login-as-customer-user'),\n          mdiIcon: 'mdi:login',\n          isEnabled: () => true,\n          onAction: ($event, entity) => this.loginAsUser($event, entity)\n        }\n      );\n    }\n  }\n\n  saveUser(user: User): Observable<User> {\n    user.tenantId = new TenantId(this.tenantId);\n    user.customerId = new CustomerId(this.customerId);\n    user.authority = this.authority;\n    return this.userService.saveUser(user);\n  }\n\n  addUser(): Observable<User> {\n    return this.dialog.open<AddUserDialogComponent, AddUserDialogData,\n      User>(AddUserDialogComponent, {\n      disableClose: true,\n      panelClass: ['tb-dialog', 'tb-fullscreen-dialog'],\n      data: {\n        tenantId: this.tenantId,\n        customerId: this.customerId,\n        authority: this.authority\n      }\n    }).afterClosed();\n  }\n\n  loginAsUser($event: Event, user: User) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.authService.loginAsUser(user.id.id).subscribe();\n  }\n\n  displayActivationLink($event: Event, user: User) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.userService.getActivationLink(user.id.id).subscribe(\n      (activationLink) => {\n        this.dialog.open<ActivationLinkDialogComponent, ActivationLinkDialogData,\n          void>(ActivationLinkDialogComponent, {\n          disableClose: true,\n          panelClass: ['tb-dialog', 'tb-fullscreen-dialog'],\n          data: {\n            activationLink\n          }\n        });\n      }\n    );\n  }\n\n  resendActivation($event: Event, user: User) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.userService.sendActivationEmail(user.email).subscribe(() => {\n      this.store.dispatch(new ActionNotificationShow(\n        {\n          message: this.translate.instant('user.activation-email-sent-message'),\n          type: 'success'\n        }));\n    });\n  }\n\n  setUserCredentialsEnabled($event: Event, user: User, userCredentialsEnabled: boolean) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.userService.setUserCredentialsEnabled(user.id.id, userCredentialsEnabled).subscribe(() => {\n      if (!user.additionalInfo) {\n        user.additionalInfo = {};\n      }\n      user.additionalInfo.userCredentialsEnabled = userCredentialsEnabled;\n      this.store.dispatch(new ActionNotificationShow(\n        {\n          message: this.translate.instant(userCredentialsEnabled ? 'user.enable-account-message' : 'user.disable-account-message'),\n          type: 'success'\n        }));\n    });\n  }\n\n  onUserAction(action: EntityAction<User>): boolean {\n    switch (action.action) {\n      case 'loginAsUser':\n        this.loginAsUser(action.event, action.entity);\n        return true;\n      case 'displayActivationLink':\n        this.displayActivationLink(action.event, action.entity);\n        return true;\n      case 'resendActivation':\n        this.resendActivation(action.event, action.entity);\n        return true;\n      case 'disableAccount':\n        this.setUserCredentialsEnabled(action.event, action.entity, false);\n        return true;\n      case 'enableAccount':\n        this.setUserCredentialsEnabled(action.event, action.entity, true);\n        return true;\n    }\n    return false;\n  }\n\n}\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { EntityTabsComponent } from '../../components/entity/entity-tabs.component';\nimport { Customer } from '@shared/models/customer.model';\n\n@Component({\n  selector: 'tb-customer-tabs',\n  templateUrl: './customer-tabs.component.html',\n  styleUrls: []\n})\nexport class CustomerTabsComponent extends EntityTabsComponent<Customer> {\n\n  constructor(protected store: Store<AppState>) {\n    super(store);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n  }\n\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'attribute.attributes' | translate }}\" #attributesTab=\"matTab\">\n  <tb-attribute-table [defaultAttributeScope]=\"attributeScopes.SERVER_SCOPE\"\n                      [active]=\"attributesTab.isActive\"\n                      [entityId]=\"entity.id\"\n                      [entityName]=\"entity.name\">\n  </tb-attribute-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'attribute.latest-telemetry' | translate }}\" #telemetryTab=\"matTab\">\n  <tb-attribute-table [defaultAttributeScope]=\"latestTelemetryTypes.LATEST_TELEMETRY\"\n                      disableAttributeScopeSelection\n                      [active]=\"telemetryTab.isActive\"\n                      [entityId]=\"entity.id\"\n                      [entityName]=\"entity.name\">\n  </tb-attribute-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'alarm.alarms' | translate }}\" #alarmsTab=\"matTab\">\n  <tb-alarm-table [active]=\"alarmsTab.isActive\" [entityId]=\"entity.id\"></tb-alarm-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'customer.events' | translate }}\" #eventsTab=\"matTab\">\n  <tb-event-table [defaultEventType]=\"eventTypes.ERROR\" [active]=\"eventsTab.isActive\" [tenantId]=\"entity.tenantId.id\"\n                  [entityId]=\"entity.id\"></tb-event-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'relation.relations' | translate }}\" #relationsTab=\"matTab\">\n  <tb-relation-table [active]=\"relationsTab.isActive\" [entityId]=\"entity.id\"></tb-relation-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity && authUser.authority === authorities.TENANT_ADMIN\"\n         label=\"{{ 'audit-log.audit-logs' | translate }}\" #auditLogsTab=\"matTab\">\n  <tb-audit-log-table detailsMode=\"true\" [active]=\"auditLogsTab.isActive\" [auditLogMode]=\"auditLogModes.CUSTOMER\" [customerId]=\"entity.id\"></tb-audit-log-table>\n</mat-tab>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanDeactivate, RouterStateSnapshot } from '@angular/router';\nimport { FormGroup } from '@angular/forms';\nimport { select, Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { AuthState } from '@core/auth/auth.models';\nimport { selectAuth } from '@core/auth/auth.selectors';\nimport { take } from 'rxjs/operators';\nimport { DialogService } from '@core/services/dialog.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { isDefined } from '../utils';\n\nexport interface HasConfirmForm {\n  confirmForm(): FormGroup;\n}\n\nexport interface HasDirtyFlag {\n  isDirty: boolean;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ConfirmOnExitGuard implements CanDeactivate<HasConfirmForm & HasDirtyFlag> {\n\n  constructor(private store: Store<AppState>,\n              private dialogService: DialogService,\n              private translate: TranslateService) { }\n\n  canDeactivate(component: HasConfirmForm & HasDirtyFlag,\n                route: ActivatedRouteSnapshot,\n                state: RouterStateSnapshot) {\n\n\n    let auth: AuthState = null;\n    this.store.pipe(select(selectAuth), take(1)).subscribe(\n      (authState: AuthState) => {\n        auth = authState;\n      }\n    );\n\n    if (auth && auth.isAuthenticated) {\n      let isDirty = false;\n      if (component.confirmForm) {\n        const confirmForm = component.confirmForm();\n        if (confirmForm) {\n          isDirty = confirmForm.dirty;\n        }\n      } else if (isDefined(component.isDirty)) {\n        isDirty = component.isDirty;\n      }\n      if (isDirty) {\n        return this.dialogService.confirm(\n          this.translate.instant('confirm-on-exit.title'),\n          this.translate.instant('confirm-on-exit.html-message')\n        );\n      }\n    }\n    return true;\n  }\n}\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  HostBinding,\n  Inject,\n  OnDestroy,\n  OnInit,\n  QueryList,\n  SkipSelf,\n  ViewChild,\n  ViewChildren,\n  ViewEncapsulation\n} from '@angular/core';\nimport { PageComponent } from '@shared/components/page.component';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { FormBuilder, FormControl, FormGroup, FormGroupDirective, NgForm, Validators } from '@angular/forms';\nimport { HasDirtyFlag } from '@core/guards/confirm-on-exit.guard';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ErrorStateMatcher } from '@angular/material/core';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { MatExpansionPanel } from '@angular/material/expansion';\nimport { DialogService } from '@core/services/dialog.service';\nimport { AuthService } from '@core/auth/auth.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport {\n  inputNodeComponent,\n  NodeConnectionInfo,\n  ResolvedRuleChainMetaData,\n  RuleChain,\n  RuleChainConnectionInfo,\n  RuleChainImport,\n  RuleChainMetaData,\n  ruleChainNodeComponent, RuleChainType\n} from '@shared/models/rule-chain.models';\nimport { FcItemInfo, FlowchartConstants, NgxFlowchartComponent, UserCallbacks } from 'ngx-flowchart/dist/ngx-flowchart';\nimport {\n  FcRuleEdge,\n  FcRuleNode,\n  FcRuleNodeType,\n  getRuleNodeHelpLink,\n  LinkLabel,\n  RuleNode,\n  RuleNodeComponentDescriptor,\n  RuleNodeType,\n  ruleNodeTypeDescriptors,\n  ruleNodeTypesLibrary\n} from '@shared/models/rule-node.models';\nimport { FcRuleNodeModel, FcRuleNodeTypeModel, RuleChainMenuContextInfo } from './rulechain-page.models';\nimport { RuleChainService } from '@core/http/rule-chain.service';\nimport { fromEvent, NEVER, Observable, of, Subscription } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, mergeMap, tap } from 'rxjs/operators';\nimport { ISearchableComponent } from '../../models/searchable-component.models';\nimport { deepClone } from '@core/utils';\nimport { RuleNodeDetailsComponent } from '@home/pages/rulechain/rule-node-details.component';\nimport { RuleNodeLinkComponent } from './rule-node-link.component';\nimport { DialogComponent } from '@shared/components/dialog.component';\nimport { MatMenuTrigger } from '@angular/material/menu';\nimport { ItemBufferService, RuleNodeConnection } from '@core/services/item-buffer.service';\nimport { Hotkey } from 'angular2-hotkeys';\nimport { EntityType } from '@shared/models/entity-type.models';\nimport { DebugEventType, EventType } from '@shared/models/event.models';\nimport Timeout = NodeJS.Timeout;\n\n@Component({\n  selector: 'tb-rulechain-page',\n  templateUrl: './rulechain-page.component.html',\n  styleUrls: ['./rulechain-page.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class RuleChainPageComponent extends PageComponent\n  implements AfterViewInit, OnInit, OnDestroy, HasDirtyFlag, ISearchableComponent {\n\n  get isDirty(): boolean {\n    return this.isDirtyValue || this.isImport;\n  }\n\n  @HostBinding('style.width') width = '100%';\n  @HostBinding('style.height') height = '100%';\n\n  @ViewChild('ruleNodeSearchInput') ruleNodeSearchInputField: ElementRef;\n\n  @ViewChild('ruleChainCanvas', {static: true}) ruleChainCanvas: NgxFlowchartComponent;\n\n  @ViewChildren('ruleNodeTypeExpansionPanels',\n    {read: MatExpansionPanel}) expansionPanels: QueryList<MatExpansionPanel>;\n\n  @ViewChild('ruleChainMenuTrigger', {static: true}) ruleChainMenuTrigger: MatMenuTrigger;\n\n  eventTypes = EventType;\n\n  debugEventTypes = DebugEventType;\n\n  ruleChainMenuPosition = { x: '0px', y: '0px' };\n\n  contextMenuEvent: MouseEvent;\n\n  ruleNodeTypeDescriptorsMap = ruleNodeTypeDescriptors;\n  ruleNodeTypesLibraryArray = ruleNodeTypesLibrary;\n\n  isImport: boolean;\n  isDirtyValue: boolean;\n  isInvalid = false;\n\n  ruleChainType: RuleChainType;\n\n  errorTooltips: {[nodeId: string]: JQueryTooltipster.ITooltipsterInstance} = {};\n  isFullscreen = false;\n\n  selectedRuleNodeTabIndex = 0;\n  editingRuleNode: FcRuleNode = null;\n  isEditingRuleNode = false;\n  editingRuleNodeIndex = -1;\n  editingRuleNodeAllowCustomLabels = false;\n  editingRuleNodeLinkLabels: {[label: string]: LinkLabel};\n\n  @ViewChild('tbRuleNode') ruleNodeComponent: RuleNodeDetailsComponent;\n  @ViewChild('tbRuleNodeLink') ruleNodeLinkComponent: RuleNodeLinkComponent;\n\n  editingRuleNodeLink: FcRuleEdge = null;\n  isEditingRuleNodeLink = false;\n  editingRuleNodeLinkIndex = -1;\n\n  hotKeys: Hotkey[] = [];\n\n  enableHotKeys = true;\n  isLibraryOpen = true;\n\n  ruleNodeSearch = '';\n  ruleNodeTypeSearch = '';\n\n  ruleChain: RuleChain;\n  ruleChainMetaData: ResolvedRuleChainMetaData;\n\n  ruleChainModel: FcRuleNodeModel = {\n    nodes: [],\n    edges: []\n  };\n  selectedObjects = [];\n\n  editCallbacks: UserCallbacks = {\n    edgeDoubleClick: (event, edge) => {\n      this.openLinkDetails(edge);\n    },\n    edgeEdit: (event, edge) => {\n      this.openLinkDetails(edge);\n    },\n    nodeCallbacks: {\n      doubleClick: (event, node: FcRuleNode) => {\n        this.openNodeDetails(node);\n      },\n      nodeEdit: (event, node: FcRuleNode) => {\n        this.openNodeDetails(node);\n      },\n      mouseEnter: this.displayNodeDescriptionTooltip.bind(this),\n      mouseLeave: this.destroyTooltips.bind(this),\n      mouseDown: this.destroyTooltips.bind(this)\n    },\n    isValidEdge: (source, destination) => {\n      return source.type === FlowchartConstants.rightConnectorType && destination.type === FlowchartConstants.leftConnectorType;\n    },\n    createEdge: (event, edge: FcRuleEdge) => {\n      const sourceNode = this.ruleChainCanvas.modelService.nodes.getNodeByConnectorId(edge.source) as FcRuleNode;\n      if (sourceNode.component.type === RuleNodeType.INPUT) {\n        const destNode = this.ruleChainCanvas.modelService.nodes.getNodeByConnectorId(edge.destination) as FcRuleNode;\n        if (destNode.component.type === RuleNodeType.RULE_CHAIN) {\n          return NEVER;\n        } else {\n          const found = this.ruleChainModel.edges.find(theEdge => theEdge.source === (this.inputConnectorId + ''));\n          if (found) {\n            this.ruleChainCanvas.modelService.edges.delete(found);\n          }\n          return of(edge);\n        }\n      } else {\n        if (edge.label) {\n          if (!edge.labels) {\n            edge.labels = edge.label.split(' / ');\n          }\n          return of(edge);\n        } else {\n          const labels = this.ruleChainService.getRuleNodeSupportedLinks(sourceNode.component);\n          const allowCustomLabels = this.ruleChainService.ruleNodeAllowCustomLinks(sourceNode.component);\n          this.enableHotKeys = false;\n          return this.addRuleNodeLink(edge, labels, allowCustomLabels).pipe(\n            tap(() => {\n                this.enableHotKeys = true;\n            }),\n            mergeMap((res) => {\n              if (res) {\n                return of(res);\n              } else {\n                return NEVER;\n              }\n            })\n          );\n        }\n      }\n    },\n    dropNode: (event, node: FcRuleNode) => {\n      this.addRuleNode(node);\n    }\n  };\n\n  nextNodeID: number;\n  nextConnectorID: number;\n  inputConnectorId: number;\n\n  ruleNodeTypesModel: {[type: string]: {model: FcRuleNodeTypeModel, selectedObjects: any[]}} = {};\n\n  nodeLibCallbacks: UserCallbacks = {\n    nodeCallbacks: {\n      mouseEnter: this.displayLibNodeDescriptionTooltip.bind(this),\n      mouseLeave: this.destroyTooltips.bind(this),\n      mouseDown: this.destroyTooltips.bind(this)\n    }\n  };\n\n  ruleNodeComponents: Array<RuleNodeComponentDescriptor>;\n\n  flowchartConstants = FlowchartConstants;\n\n  private rxSubscription: Subscription;\n\n  private tooltipTimeout: Timeout;\n\n  constructor(protected store: Store<AppState>,\n              private route: ActivatedRoute,\n              private router: Router,\n              private ruleChainService: RuleChainService,\n              private authService: AuthService,\n              private translate: TranslateService,\n              private itembuffer: ItemBufferService,\n              public dialog: MatDialog,\n              public dialogService: DialogService,\n              public fb: FormBuilder) {\n    super(store);\n\n    this.rxSubscription = this.route.data.subscribe(\n      () => {\n        this.reset();\n        this.init();\n      }\n    );\n  }\n\n  ngOnInit() {\n  }\n\n  ngAfterViewInit() {\n    fromEvent(this.ruleNodeSearchInputField.nativeElement, 'keyup')\n      .pipe(\n        debounceTime(150),\n        distinctUntilChanged(),\n        tap(() => {\n          this.updateRuleChainLibrary();\n        })\n      )\n      .subscribe();\n    this.ruleChainCanvas.adjustCanvasSize(true);\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n    this.rxSubscription.unsubscribe();\n  }\n\n  onSearchTextUpdated(searchText: string) {\n    this.ruleNodeSearch = searchText;\n    this.updateRuleNodesHighlight();\n  }\n\n  private init() {\n    this.initHotKeys();\n    this.isImport = this.route.snapshot.data.import;\n    this.ruleChainType = this.route.snapshot.data.ruleChainType;\n    if (this.isImport) {\n      const ruleChainImport: RuleChainImport = this.itembuffer.getRuleChainImport();\n      this.ruleChain = ruleChainImport.ruleChain;\n      this.ruleChainMetaData = ruleChainImport.resolvedMetadata;\n    } else {\n      this.ruleChain = this.route.snapshot.data.ruleChain;\n      this.ruleChainMetaData = this.route.snapshot.data.ruleChainMetaData;\n    }\n    this.ruleNodeComponents = this.route.snapshot.data.ruleNodeComponents;\n    for (const type of ruleNodeTypesLibrary) {\n      const desc = ruleNodeTypeDescriptors.get(type);\n      if (!desc.special) {\n        this.ruleNodeTypesModel[type] = {\n          model: {\n            nodes: [],\n            edges: []\n          },\n          selectedObjects: []\n        };\n      }\n    }\n    this.updateRuleChainLibrary();\n    this.createRuleChainModel();\n  }\n\n  private reset(): void {\n    this.selectedObjects = [];\n    this.ruleChainModel.nodes = [];\n    this.ruleChainModel.edges = [];\n    this.ruleNodeTypesModel = {};\n    if (this.ruleChainCanvas) {\n      this.ruleChainCanvas.adjustCanvasSize(true);\n    }\n    this.isEditingRuleNode = false;\n    this.isEditingRuleNodeLink = false;\n    this.updateRuleNodesHighlight();\n  }\n\n  private initHotKeys(): void {\n    if (!this.hotKeys.length) {\n      this.hotKeys.push(\n        new Hotkey('ctrl+a', (event: KeyboardEvent) => {\n            if (this.enableHotKeys) {\n              event.preventDefault();\n              this.ruleChainCanvas.modelService.selectAll();\n              return false;\n            }\n            return true;\n          }, ['INPUT', 'SELECT', 'TEXTAREA'],\n          this.translate.instant('rulenode.select-all-objects'))\n      );\n      this.hotKeys.push(\n        new Hotkey('ctrl+c', (event: KeyboardEvent) => {\n            if (this.enableHotKeys) {\n              event.preventDefault();\n              this.copyRuleNodes();\n              return false;\n            }\n            return true;\n          }, ['INPUT', 'SELECT', 'TEXTAREA'],\n          this.translate.instant('rulenode.copy-selected'))\n      );\n      this.hotKeys.push(\n        new Hotkey('ctrl+v', (event: KeyboardEvent) => {\n            if (this.enableHotKeys) {\n              event.preventDefault();\n              if (this.itembuffer.hasRuleNodes()) {\n                this.pasteRuleNodes();\n              }\n              return false;\n            }\n            return true;\n          }, ['INPUT', 'SELECT', 'TEXTAREA'],\n          this.translate.instant('action.paste'))\n      );\n      this.hotKeys.push(\n        new Hotkey('esc', (event: KeyboardEvent) => {\n            if (this.enableHotKeys) {\n              event.preventDefault();\n              event.stopPropagation();\n              this.ruleChainCanvas.modelService.deselectAll();\n              return false;\n            }\n            return true;\n          }, ['INPUT', 'SELECT', 'TEXTAREA'],\n          this.translate.instant('rulenode.deselect-all-objects'))\n      );\n      this.hotKeys.push(\n        new Hotkey('ctrl+s', (event: KeyboardEvent) => {\n            if (this.enableHotKeys) {\n              event.preventDefault();\n              this.saveRuleChain();\n              return false;\n            }\n            return true;\n          }, ['INPUT', 'SELECT', 'TEXTAREA'],\n          this.translate.instant('action.apply'))\n      );\n      this.hotKeys.push(\n        new Hotkey('ctrl+z', (event: KeyboardEvent) => {\n            if (this.enableHotKeys) {\n              event.preventDefault();\n              this.revertRuleChain();\n              return false;\n            }\n            return true;\n          }, ['INPUT', 'SELECT', 'TEXTAREA'],\n          this.translate.instant('action.decline-changes'))\n      );\n      this.hotKeys.push(\n        new Hotkey('del', (event: KeyboardEvent) => {\n            if (this.enableHotKeys) {\n              event.preventDefault();\n              this.ruleChainCanvas.modelService.deleteSelected();\n              return false;\n            }\n            return true;\n          }, ['INPUT', 'SELECT', 'TEXTAREA'],\n          this.translate.instant('rulenode.delete-selected-objects'))\n      );\n    }\n  }\n\n  updateRuleChainLibrary() {\n    const search = this.ruleNodeTypeSearch.toUpperCase();\n    const res = this.ruleNodeComponents.filter(\n      (ruleNodeComponent) => ruleNodeComponent.name.toUpperCase().includes(search));\n    this.loadRuleChainLibrary(res);\n  }\n\n  private loadRuleChainLibrary(ruleNodeComponents: Array<RuleNodeComponentDescriptor>) {\n    for (const componentType of Object.keys(this.ruleNodeTypesModel)) {\n      this.ruleNodeTypesModel[componentType].model.nodes.length = 0;\n    }\n    ruleNodeComponents.forEach((ruleNodeComponent) => {\n      const componentType = ruleNodeComponent.type;\n      const model = this.ruleNodeTypesModel[componentType].model;\n      const desc = ruleNodeTypeDescriptors.get(RuleNodeType[componentType]);\n      let icon = desc.icon;\n      let iconUrl = null;\n      if (ruleNodeComponent.configurationDescriptor.nodeDefinition.icon) {\n        icon = ruleNodeComponent.configurationDescriptor.nodeDefinition.icon;\n      }\n      if (ruleNodeComponent.configurationDescriptor.nodeDefinition.iconUrl) {\n        iconUrl = ruleNodeComponent.configurationDescriptor.nodeDefinition.iconUrl;\n      }\n      const node: FcRuleNodeType = {\n        id: 'node-lib-' + componentType + '-' + model.nodes.length,\n        component: ruleNodeComponent,\n        name: '',\n        nodeClass: desc.nodeClass,\n        icon,\n        iconUrl,\n        x: 30,\n        y: 10 + 50 * model.nodes.length,\n        connectors: []\n      };\n      if (ruleNodeComponent.configurationDescriptor.nodeDefinition.inEnabled) {\n        node.connectors.push(\n          {\n            type: FlowchartConstants.leftConnectorType,\n            id: (model.nodes.length * 2) + ''\n          }\n        );\n      }\n      if (ruleNodeComponent.configurationDescriptor.nodeDefinition.outEnabled) {\n        node.connectors.push(\n          {\n            type: FlowchartConstants.rightConnectorType,\n            id: (model.nodes.length * 2 + 1) + ''\n          }\n        );\n      }\n      model.nodes.push(node);\n    });\n    if (this.expansionPanels) {\n      for (let i = 0; i < ruleNodeTypesLibrary.length; i++) {\n        const panel = this.expansionPanels.find((item, index) => {\n          return index === i;\n        });\n        if (panel) {\n          const type = ruleNodeTypesLibrary[i];\n          if (!this.ruleNodeTypesModel[type].model.nodes.length) {\n            panel.close();\n          } else {\n            panel.open();\n          }\n        }\n      }\n    }\n  }\n\n  private createRuleChainModel() {\n    this.nextNodeID = 1;\n    this.nextConnectorID = 1;\n\n    this.selectedObjects = [];\n    this.ruleChainModel.nodes = [];\n    this.ruleChainModel.edges = [];\n\n    this.inputConnectorId = this.nextConnectorID++;\n    this.ruleChainModel.nodes.push(\n      {\n        id: 'rule-chain-node-' + this.nextNodeID++,\n        component: inputNodeComponent,\n        name: '',\n        nodeClass: ruleNodeTypeDescriptors.get(RuleNodeType.INPUT).nodeClass,\n        icon: ruleNodeTypeDescriptors.get(RuleNodeType.INPUT).icon,\n        readonly: true,\n        x: 50,\n        y: 150,\n        connectors: [\n          {\n            type: FlowchartConstants.rightConnectorType,\n            id: this.inputConnectorId + ''\n          },\n        ]\n\n      }\n    );\n    const nodes: FcRuleNode[] = [];\n    this.ruleChainMetaData.nodes.forEach((ruleNode) => {\n      const component = this.ruleChainService.getRuleNodeComponentByClazz(this.ruleChainType, ruleNode.type);\n      const descriptor = ruleNodeTypeDescriptors.get(component.type);\n      let icon = descriptor.icon;\n      let iconUrl = null;\n      if (component.configurationDescriptor.nodeDefinition.icon) {\n        icon = component.configurationDescriptor.nodeDefinition.icon;\n      }\n      if (component.configurationDescriptor.nodeDefinition.iconUrl) {\n        iconUrl = component.configurationDescriptor.nodeDefinition.iconUrl;\n      }\n      const node: FcRuleNode = {\n        id: 'rule-chain-node-' + this.nextNodeID++,\n        ruleNodeId: ruleNode.id,\n        additionalInfo: ruleNode.additionalInfo,\n        configuration: ruleNode.configuration,\n        debugMode: ruleNode.debugMode,\n        x: Math.round(ruleNode.additionalInfo.layoutX),\n        y: Math.round(ruleNode.additionalInfo.layoutY),\n        component,\n        name: ruleNode.name,\n        nodeClass: descriptor.nodeClass,\n        icon,\n        iconUrl,\n        connectors: [],\n        ruleChainType: this.ruleChainType\n      };\n      if (component.configurationDescriptor.nodeDefinition.inEnabled) {\n        node.connectors.push(\n          {\n            type: FlowchartConstants.leftConnectorType,\n            id: (this.nextConnectorID++) + ''\n          }\n        );\n      }\n      if (component.configurationDescriptor.nodeDefinition.outEnabled) {\n        node.connectors.push(\n          {\n            type: FlowchartConstants.rightConnectorType,\n            id: (this.nextConnectorID++) + ''\n          }\n        );\n      }\n      nodes.push(node);\n      this.ruleChainModel.nodes.push(node);\n    });\n    if (this.ruleChainMetaData.firstNodeIndex > -1) {\n      const destNode = nodes[this.ruleChainMetaData.firstNodeIndex];\n      if (destNode) {\n        const connectors = destNode.connectors.filter(connector => connector.type === FlowchartConstants.leftConnectorType);\n        if (connectors && connectors.length) {\n          const edge: FcRuleEdge = {\n            source: this.inputConnectorId + '',\n            destination: connectors[0].id\n          };\n          this.ruleChainModel.edges.push(edge);\n        }\n      }\n    }\n    if (this.ruleChainMetaData.connections) {\n      const edgeMap: {[edgeKey: string]: FcRuleEdge} = {};\n      this.ruleChainMetaData.connections.forEach((connection) => {\n        const sourceNode = nodes[connection.fromIndex];\n        const destNode = nodes[connection.toIndex];\n        if (sourceNode && destNode) {\n          const sourceConnectors = sourceNode.connectors.filter(connector => connector.type === FlowchartConstants.rightConnectorType);\n          const destConnectors = destNode.connectors.filter(connector => connector.type === FlowchartConstants.leftConnectorType);\n          if (sourceConnectors && sourceConnectors.length && destConnectors && destConnectors.length) {\n            const sourceId = sourceConnectors[0].id;\n            const destId = destConnectors[0].id;\n            const edgeKey = sourceId + '_' + destId;\n            let edge = edgeMap[edgeKey];\n            if (!edge) {\n              edge = {\n                source: sourceId,\n                destination: destId,\n                label: connection.type,\n                labels: [connection.type]\n              };\n              edgeMap[edgeKey] = edge;\n              this.ruleChainModel.edges.push(edge);\n            } else {\n              edge.label += ' / ' + connection.type;\n              edge.labels.push(connection.type);\n            }\n          }\n        }\n      });\n    }\n    if (this.ruleChainMetaData.ruleChainConnections) {\n      const ruleChainsMap = this.ruleChainMetaData.targetRuleChainsMap;\n      const ruleChainNodesMap: {[ruleChainNodeId: string]: FcRuleNode} = {};\n      const ruleChainEdgeMap: {[edgeKey: string]: FcRuleEdge} = {};\n      this.ruleChainMetaData.ruleChainConnections.forEach((ruleChainConnection) => {\n        const ruleChain = ruleChainsMap[ruleChainConnection.targetRuleChainId.id];\n        if (ruleChainConnection.additionalInfo && ruleChainConnection.additionalInfo.ruleChainNodeId) {\n          let ruleChainNode = ruleChainNodesMap[ruleChainConnection.additionalInfo.ruleChainNodeId];\n          if (!ruleChainNode) {\n            ruleChainNode = {\n              id: 'rule-chain-node-' + this.nextNodeID++,\n              name: ruleChain.name ? ruleChain.name : 'Unresolved',\n              targetRuleChainId: ruleChain.name ? ruleChainConnection.targetRuleChainId.id : null,\n              error: ruleChain.name ? undefined : this.translate.instant('rulenode.invalid-target-rulechain'),\n              additionalInfo: ruleChainConnection.additionalInfo,\n              x: Math.round(ruleChainConnection.additionalInfo.layoutX),\n              y: Math.round(ruleChainConnection.additionalInfo.layoutY),\n              component: ruleChainNodeComponent,\n              nodeClass: ruleNodeTypeDescriptors.get(RuleNodeType.RULE_CHAIN).nodeClass,\n              icon: ruleNodeTypeDescriptors.get(RuleNodeType.RULE_CHAIN).icon,\n              connectors: [\n                {\n                  type: FlowchartConstants.leftConnectorType,\n                  id: (this.nextConnectorID++) + ''\n                }\n              ],\n              ruleChainType: this.ruleChainType\n            };\n            ruleChainNodesMap[ruleChainConnection.additionalInfo.ruleChainNodeId] = ruleChainNode;\n            this.ruleChainModel.nodes.push(ruleChainNode);\n          }\n          const sourceNode = nodes[ruleChainConnection.fromIndex];\n          if (sourceNode) {\n            const connectors = sourceNode.connectors.filter(connector => connector.type === FlowchartConstants.rightConnectorType);\n            if (connectors && connectors.length) {\n              const sourceId = connectors[0].id;\n              const destId = ruleChainNode.connectors[0].id;\n              const edgeKey = sourceId + '_' + destId;\n              let ruleChainEdge = ruleChainEdgeMap[edgeKey];\n              if (!ruleChainEdge) {\n                ruleChainEdge = {\n                  source: sourceId,\n                  destination: destId,\n                  label: ruleChainConnection.type,\n                  labels: [ruleChainConnection.type]\n                };\n                ruleChainEdgeMap[edgeKey] = ruleChainEdge;\n                this.ruleChainModel.edges.push(ruleChainEdge);\n              } else {\n                ruleChainEdge.label += ' / ' + ruleChainConnection.type;\n                ruleChainEdge.labels.push(ruleChainConnection.type);\n              }\n            }\n          }\n        }\n      });\n    }\n    if (this.ruleChainCanvas) {\n      this.ruleChainCanvas.adjustCanvasSize(true);\n    }\n    this.isDirtyValue = false;\n    this.updateRuleNodesHighlight();\n    this.validate();\n  }\n\n  openRuleChainContextMenu($event: MouseEvent) {\n    if (this.ruleChainCanvas.modelService && !$event.ctrlKey && !$event.metaKey) {\n      const x = $event.clientX;\n      const y = $event.clientY;\n      const item = this.ruleChainCanvas.modelService.getItemInfoAtPoint(x, y);\n      const contextInfo = this.prepareContextMenu(item);\n      if (contextInfo.menuItems && contextInfo.menuItems.length > 0) {\n        $event.preventDefault();\n        $event.stopPropagation();\n        this.contextMenuEvent = $event;\n        this.ruleChainMenuPosition.x = x + 'px';\n        this.ruleChainMenuPosition.y = y + 'px';\n        this.ruleChainMenuTrigger.menuData = { contextInfo };\n        this.ruleChainMenuTrigger.openMenu();\n      }\n    }\n  }\n\n  onRuleChainContextMenuMouseLeave() {\n    this.ruleChainMenuTrigger.closeMenu();\n  }\n\n  private prepareContextMenu(item: FcItemInfo): RuleChainMenuContextInfo {\n    if (this.objectsSelected() || (!item.node && !item.edge)) {\n      return this.prepareRuleChainContextMenu();\n    } else if (item.node) {\n      return this.prepareRuleNodeContextMenu(item.node);\n    } else if (item.edge) {\n      return this.prepareEdgeContextMenu(item.edge);\n    }\n  }\n\n  private prepareRuleChainContextMenu(): RuleChainMenuContextInfo {\n    const contextInfo: RuleChainMenuContextInfo = {\n      headerClass: 'tb-rulechain-header',\n      icon: 'settings_ethernet',\n      title: this.ruleChain.name,\n      subtitle: this.translate.instant('rulechain.rulechain'),\n      menuItems: []\n    };\n    if (this.ruleChainCanvas.modelService.nodes.getSelectedNodes().length) {\n      contextInfo.menuItems.push(\n        {\n          action: () => {\n            this.copyRuleNodes();\n          },\n          enabled: true,\n          value: 'rulenode.copy-selected',\n          icon: 'content_copy',\n          shortcut: 'M-C'\n        }\n      );\n    }\n    contextInfo.menuItems.push(\n      {\n        action: ($event) => {\n          this.pasteRuleNodes($event);\n        },\n        enabled: this.itembuffer.hasRuleNodes(),\n        value: 'action.paste',\n        icon: 'content_paste',\n        shortcut: 'M-V'\n      }\n    );\n    contextInfo.menuItems.push(\n      {\n        divider: true\n      }\n    );\n    if (this.objectsSelected()) {\n      contextInfo.menuItems.push(\n        {\n          action: () => {\n            this.ruleChainCanvas.modelService.deselectAll();\n          },\n          enabled: true,\n          value: 'rulenode.deselect-all',\n          icon: 'tab_unselected',\n          shortcut: 'Esc'\n        }\n      );\n      contextInfo.menuItems.push(\n        {\n          action: () => {\n            this.ruleChainCanvas.modelService.deleteSelected();\n          },\n          enabled: true,\n          value: 'rulenode.delete-selected',\n          icon: 'clear',\n          shortcut: 'Del'\n        }\n      );\n    } else {\n      contextInfo.menuItems.push(\n        {\n          action: () => {\n            this.ruleChainCanvas.modelService.selectAll();\n          },\n          enabled: true,\n          value: 'rulenode.select-all',\n          icon: 'select_all',\n          shortcut: 'M-A'\n        }\n      );\n    }\n    contextInfo.menuItems.push(\n      {\n        divider: true\n      }\n    );\n    contextInfo.menuItems.push(\n      {\n        action: () => {\n          this.saveRuleChain();\n        },\n        enabled: !(this.isInvalid || (!this.isDirty && !this.isImport)),\n        value: 'action.apply-changes',\n        icon: 'done',\n        shortcut: 'M-S'\n      }\n    );\n    contextInfo.menuItems.push(\n      {\n        action: () => {\n          this.revertRuleChain();\n        },\n        enabled: this.isDirty,\n        value: 'action.decline-changes',\n        icon: 'close',\n        shortcut: 'M-Z'\n      }\n    );\n    return contextInfo;\n  }\n\n  private prepareRuleNodeContextMenu(node: FcRuleNode): RuleChainMenuContextInfo {\n    const contextInfo: RuleChainMenuContextInfo = {\n      headerClass: node.nodeClass,\n      icon: node.icon,\n      iconUrl: node.iconUrl,\n      title: node.name,\n      subtitle: node.component.name,\n      menuItems: []\n    };\n    if (!node.readonly) {\n      contextInfo.menuItems.push(\n        {\n          action: () => {\n            this.openNodeDetails(node);\n          },\n          enabled: true,\n          value: 'rulenode.details',\n          icon: 'menu'\n        }\n      );\n      contextInfo.menuItems.push(\n        {\n          action: () => {\n            this.copyNode(node);\n          },\n          enabled: true,\n          value: 'action.copy',\n          icon: 'content_copy'\n        }\n      );\n      contextInfo.menuItems.push(\n        {\n          action: () => {\n            this.ruleChainCanvas.modelService.nodes.delete(node);\n          },\n          enabled: true,\n          value: 'action.delete',\n          icon: 'clear',\n          shortcut: 'M-X'\n        }\n      );\n    }\n    return contextInfo;\n  }\n\n  private prepareEdgeContextMenu(edge: FcRuleEdge): RuleChainMenuContextInfo {\n    const contextInfo: RuleChainMenuContextInfo = {\n      headerClass: 'tb-link-header',\n      icon: 'trending_flat',\n      title: edge.label,\n      subtitle: this.translate.instant('rulenode.link'),\n      menuItems: []\n    };\n    const sourceNode: FcRuleNode = this.ruleChainCanvas.modelService.nodes.getNodeByConnectorId(edge.source);\n    if (sourceNode.component.type !== RuleNodeType.INPUT) {\n      contextInfo.menuItems.push(\n        {\n          action: () => {\n            this.openLinkDetails(edge);\n          },\n          enabled: true,\n          value: 'rulenode.details',\n          icon: 'menu'\n        }\n      );\n    }\n    contextInfo.menuItems.push(\n      {\n        action: () => {\n          this.ruleChainCanvas.modelService.edges.delete(edge);\n        },\n        enabled: true,\n        value: 'action.delete',\n        icon: 'clear',\n        shortcut: 'M-X'\n      }\n    );\n    return contextInfo;\n  }\n\n  onModelChanged() {\n    this.isDirtyValue = true;\n    this.validate();\n  }\n\n  helpLinkIdForRuleNodeType(): string {\n    let component: RuleNodeComponentDescriptor = null;\n    if (this.editingRuleNode) {\n      component = this.editingRuleNode.component;\n    }\n    return getRuleNodeHelpLink(component);\n  }\n\n  openNodeDetails(node: FcRuleNode) {\n    if (node.component.type !== RuleNodeType.INPUT) {\n      this.enableHotKeys = false;\n      this.updateErrorTooltips(true);\n      this.isEditingRuleNodeLink = false;\n      this.editingRuleNodeLink = null;\n      this.isEditingRuleNode = true;\n      this.editingRuleNodeIndex = this.ruleChainModel.nodes.indexOf(node);\n      this.editingRuleNode = deepClone(node, ['component']);\n      setTimeout(() => {\n        this.ruleNodeComponent.ruleNodeFormGroup.markAsPristine();\n      }, 0);\n    }\n  }\n\n  openLinkDetails(edge: FcRuleEdge) {\n    const sourceNode: FcRuleNode = this.ruleChainCanvas.modelService.nodes.getNodeByConnectorId(edge.source) as FcRuleNode;\n    if (sourceNode.component.type !== RuleNodeType.INPUT) {\n      this.enableHotKeys = false;\n      this.updateErrorTooltips(true);\n      this.isEditingRuleNode = false;\n      this.editingRuleNode = null;\n      this.editingRuleNodeLinkLabels = this.ruleChainService.getRuleNodeSupportedLinks(sourceNode.component);\n      this.editingRuleNodeAllowCustomLabels = this.ruleChainService.ruleNodeAllowCustomLinks(sourceNode.component);\n      this.isEditingRuleNodeLink = true;\n      this.editingRuleNodeLinkIndex = this.ruleChainModel.edges.indexOf(edge);\n      this.editingRuleNodeLink = deepClone(edge);\n      setTimeout(() => {\n        this.ruleNodeLinkComponent.ruleNodeLinkFormGroup.markAsPristine();\n      }, 0);\n    }\n  }\n\n  private copyNode(node: FcRuleNode) {\n    this.itembuffer.copyRuleNodes([node], []);\n  }\n\n  private copyRuleNodes() {\n    const nodes: FcRuleNode[] = this.ruleChainCanvas.modelService.nodes.getSelectedNodes();\n    const edges: FcRuleEdge[] = this.ruleChainCanvas.modelService.edges.getSelectedEdges();\n    const connections: RuleNodeConnection[] = [];\n    edges.forEach((edge) => {\n      const sourceNode = this.ruleChainCanvas.modelService.nodes.getNodeByConnectorId(edge.source);\n      const destNode = this.ruleChainCanvas.modelService.nodes.getNodeByConnectorId(edge.destination);\n      const isInputSource = sourceNode.component.type === RuleNodeType.INPUT;\n      const fromIndex = nodes.indexOf(sourceNode);\n      const toIndex = nodes.indexOf(destNode);\n      if ( (isInputSource || fromIndex > -1) && toIndex > -1 ) {\n        const connection: RuleNodeConnection = {\n          isInputSource,\n          fromIndex,\n          toIndex,\n          label: edge.label,\n          labels: edge.labels\n        };\n        connections.push(connection);\n      }\n    });\n    this.itembuffer.copyRuleNodes(nodes, connections);\n  }\n\n  private pasteRuleNodes(event?: MouseEvent) {\n    const canvas = $(this.ruleChainCanvas.modelService.canvasHtmlElement);\n    let x: number;\n    let y: number;\n    if (event) {\n      const offset = canvas.offset();\n      x = Math.round(event.clientX - offset.left);\n      y = Math.round(event.clientY - offset.top);\n    } else {\n      const scrollParent = canvas.parent();\n      const scrollTop = scrollParent.scrollTop();\n      const scrollLeft = scrollParent.scrollLeft();\n      x = scrollLeft + scrollParent.width() / 2;\n      y = scrollTop + scrollParent.height() / 2;\n    }\n    const ruleNodes = this.itembuffer.pasteRuleNodes(x, y);\n    if (ruleNodes) {\n      this.ruleChainCanvas.modelService.deselectAll();\n      const nodes: FcRuleNode[] = [];\n      ruleNodes.nodes.forEach((node) => {\n        node.id = 'rule-chain-node-' + this.nextNodeID++;\n        const component = node.component;\n        if (component.configurationDescriptor.nodeDefinition.inEnabled) {\n          node.connectors.push(\n            {\n              type: FlowchartConstants.leftConnectorType,\n              id: (this.nextConnectorID++) + ''\n            }\n          );\n        }\n        if (component.configurationDescriptor.nodeDefinition.outEnabled) {\n          node.connectors.push(\n            {\n              type: FlowchartConstants.rightConnectorType,\n              id: (this.nextConnectorID++) + ''\n            }\n          );\n        }\n        nodes.push(node);\n        this.ruleChainModel.nodes.push(node);\n        this.ruleChainCanvas.modelService.nodes.select(node);\n      });\n      ruleNodes.connections.forEach((connection) => {\n        const sourceNode = nodes[connection.fromIndex];\n        const destNode = nodes[connection.toIndex];\n        if ( (connection.isInputSource || sourceNode) &&  destNode ) {\n          let source: string;\n          let destination: string;\n          if (connection.isInputSource) {\n            source = this.inputConnectorId + '';\n            const found = this.ruleChainModel.edges.find(theEdge => theEdge.source === (this.inputConnectorId + ''));\n            if (found) {\n              this.ruleChainCanvas.modelService.edges.delete(found);\n            }\n          } else {\n            const sourceConnectors = this.ruleChainCanvas.modelService.nodes\n              .getConnectorsByType(sourceNode, FlowchartConstants.rightConnectorType);\n            if (sourceConnectors && sourceConnectors.length) {\n              source = sourceConnectors[0].id;\n            }\n          }\n          const destConnectors = this.ruleChainCanvas.modelService.nodes\n            .getConnectorsByType(destNode, FlowchartConstants.leftConnectorType);\n          if (destConnectors && destConnectors.length) {\n            destination = destConnectors[0].id;\n          }\n          if (source && destination) {\n            const edge: FcRuleEdge = {\n              source,\n              destination,\n              label: connection.label,\n              labels: connection.labels\n            };\n            this.ruleChainModel.edges.push(edge);\n            this.ruleChainCanvas.modelService.edges.select(edge);\n          }\n        }\n      });\n      this.updateRuleNodesHighlight();\n      this.validate();\n      this.onModelChanged();\n    }\n  }\n\n  onDetailsDrawerClosed() {\n    this.onEditRuleNodeClosed();\n    this.onEditRuleNodeLinkClosed();\n    this.enableHotKeys = true;\n    this.updateErrorTooltips(false);\n  }\n\n  onEditRuleNodeClosed() {\n    this.editingRuleNode = null;\n    this.isEditingRuleNode = false;\n  }\n\n  onEditRuleNodeLinkClosed() {\n    this.editingRuleNodeLink = null;\n    this.isEditingRuleNodeLink = false;\n  }\n\n  onRevertRuleNodeEdit() {\n    this.ruleNodeComponent.ruleNodeFormGroup.markAsPristine();\n    const node = this.ruleChainModel.nodes[this.editingRuleNodeIndex];\n    this.editingRuleNode = deepClone(node, ['component']);\n  }\n\n  onRevertRuleNodeLinkEdit() {\n    this.ruleNodeLinkComponent.ruleNodeLinkFormGroup.markAsPristine();\n    const edge = this.ruleChainModel.edges[this.editingRuleNodeLinkIndex];\n    this.editingRuleNodeLink = deepClone(edge);\n  }\n\n  saveRuleNode() {\n    this.ruleNodeComponent.validate();\n    if (this.ruleNodeComponent.ruleNodeFormGroup.valid) {\n      this.ruleNodeComponent.ruleNodeFormGroup.markAsPristine();\n      if (this.editingRuleNode.error) {\n        delete this.editingRuleNode.error;\n      }\n      this.ruleChainModel.nodes[this.editingRuleNodeIndex] = this.editingRuleNode;\n      this.editingRuleNode = deepClone(this.editingRuleNode, ['component']);\n      this.onModelChanged();\n      this.updateRuleNodesHighlight();\n    }\n  }\n\n  saveRuleNodeLink() {\n    this.ruleNodeLinkComponent.ruleNodeLinkFormGroup.markAsPristine();\n    this.ruleChainModel.edges[this.editingRuleNodeLinkIndex] = this.editingRuleNodeLink;\n    this.editingRuleNodeLink = deepClone(this.editingRuleNodeLink);\n    this.onModelChanged();\n  }\n\n  typeHeaderMouseEnter(event: MouseEvent, ruleNodeType: RuleNodeType) {\n    const type = ruleNodeTypeDescriptors.get(ruleNodeType);\n    this.displayTooltip(event,\n      '<div class=\"tb-rule-node-tooltip tb-lib-tooltip\">' +\n      '<div id=\"tb-node-content\" layout=\"column\">' +\n      '<div class=\"tb-node-title\">' + this.translate.instant(type.name) + '</div>' +\n      '<div class=\"tb-node-details\">' + this.translate.instant(type.details) + '</div>' +\n      '</div>' +\n      '</div>'\n    );\n  }\n\n  displayLibNodeDescriptionTooltip(event: MouseEvent, node: FcRuleNodeType) {\n    this.displayTooltip(event,\n      '<div class=\"tb-rule-node-tooltip tb-lib-tooltip\">' +\n      '<div id=\"tb-node-content\" layout=\"column\">' +\n      '<div class=\"tb-node-title\">' + node.component.name + '</div>' +\n      '<div class=\"tb-node-description\">' + node.component.configurationDescriptor.nodeDefinition.description + '</div>' +\n      '<div class=\"tb-node-details\">' + node.component.configurationDescriptor.nodeDefinition.details + '</div>' +\n      '</div>' +\n      '</div>'\n    );\n  }\n\n  displayNodeDescriptionTooltip(event: MouseEvent, node: FcRuleNode) {\n    if (!this.errorTooltips[node.id]) {\n      let name: string;\n      let desc: string;\n      let details: string;\n      if (node.component.type === RuleNodeType.INPUT) {\n        name = this.translate.instant(ruleNodeTypeDescriptors.get(RuleNodeType.INPUT).name);\n        desc = this.translate.instant(ruleNodeTypeDescriptors.get(RuleNodeType.INPUT).details);\n      } else {\n        name = node.name;\n        desc = this.translate.instant(ruleNodeTypeDescriptors.get(node.component.type).name) + ' - ' + node.component.name;\n        if (node.additionalInfo) {\n          details = node.additionalInfo.description;\n        }\n      }\n      let tooltipContent = '<div class=\"tb-rule-node-tooltip\">' +\n        '<div id=\"tb-node-content\" layout=\"column\">' +\n        '<div class=\"tb-node-title\">' + name + '</div>' +\n        '<div class=\"tb-node-description\">' + desc + '</div>';\n      if (details) {\n        tooltipContent += '<div class=\"tb-node-details\">' + details + '</div>';\n      }\n      tooltipContent += '</div>' +\n        '</div>';\n      this.displayTooltip(event, tooltipContent);\n    }\n  }\n\n  destroyTooltips() {\n    if (this.tooltipTimeout) {\n      clearTimeout(this.tooltipTimeout);\n      this.tooltipTimeout = null;\n    }\n    const instances = $.tooltipster.instances();\n    instances.forEach((instance) => {\n      if (!instance.isErrorTooltip) {\n        instance.destroy();\n      }\n    });\n  }\n\n  private updateRuleNodesHighlight() {\n    for (const ruleNode of this.ruleChainModel.nodes) {\n      ruleNode.highlighted = false;\n    }\n    if (this.ruleNodeSearch) {\n      const search = this.ruleNodeSearch.toUpperCase();\n      const res = this.ruleChainModel.nodes.filter(node => node.name.toUpperCase().includes(search));\n      if (res) {\n        for (const ruleNode of res) {\n          ruleNode.highlighted = true;\n        }\n      }\n    }\n    if (this.ruleChainCanvas) {\n      this.ruleChainCanvas.modelService.detectChanges();\n    }\n  }\n\n  objectsSelected(): boolean {\n    return this.ruleChainCanvas.modelService.nodes.getSelectedNodes().length > 0 ||\n      this.ruleChainCanvas.modelService.edges.getSelectedEdges().length > 0;\n  }\n\n  deleteSelected() {\n    this.ruleChainCanvas.modelService.deleteSelected();\n  }\n\n  isDebugModeEnabled(): boolean {\n    const res = this.ruleChainModel.nodes.find((node) => node.debugMode);\n    return typeof res !== 'undefined';\n  }\n\n  resetDebugModeInAllNodes() {\n    let changed = false;\n    this.ruleChainModel.nodes.forEach((node) => {\n      if (node.component.type !== RuleNodeType.INPUT && node.component.type !== RuleNodeType.RULE_CHAIN) {\n        changed = changed || node.debugMode;\n        node.debugMode = false;\n      }\n    });\n    if (changed) {\n      this.onModelChanged();\n    }\n  }\n\n  validate() {\n    setTimeout(() => {\n      this.isInvalid = false;\n      this.ruleChainModel.nodes.forEach((node) => {\n        if (node.error) {\n          this.isInvalid = true;\n        }\n        this.updateNodeErrorTooltip(node);\n      });\n    }, 0);\n  }\n\n  saveRuleChain() {\n    let saveRuleChainObservable: Observable<RuleChain>;\n    if (this.isImport) {\n      saveRuleChainObservable = this.ruleChainService.saveRuleChain(this.ruleChain);\n    } else {\n      saveRuleChainObservable = of(this.ruleChain);\n    }\n    saveRuleChainObservable.subscribe((ruleChain) => {\n      this.ruleChain = ruleChain;\n      const ruleChainMetaData: RuleChainMetaData = {\n        ruleChainId: this.ruleChain.id,\n        nodes: [],\n        connections: [],\n        ruleChainConnections: []\n      };\n      const nodes: FcRuleNode[] = [];\n      this.ruleChainModel.nodes.forEach((node) => {\n        if (node.component.type !== RuleNodeType.INPUT && node.component.type !== RuleNodeType.RULE_CHAIN) {\n          const ruleNode: RuleNode = {\n            id: node.ruleNodeId,\n            type: node.component.clazz,\n            name: node.name,\n            configuration: node.configuration,\n            additionalInfo: node.additionalInfo ? node.additionalInfo : {},\n            debugMode: node.debugMode\n          };\n          ruleNode.additionalInfo.layoutX = Math.round(node.x);\n          ruleNode.additionalInfo.layoutY = Math.round(node.y);\n          ruleChainMetaData.nodes.push(ruleNode);\n          nodes.push(node);\n        }\n      });\n      const firstNodeEdge = this.ruleChainModel.edges.find((edge) => edge.source === this.inputConnectorId + '');\n      if (firstNodeEdge) {\n        const firstNode = this.ruleChainCanvas.modelService.nodes.getNodeByConnectorId(firstNodeEdge.destination);\n        ruleChainMetaData.firstNodeIndex = nodes.indexOf(firstNode);\n      }\n      this.ruleChainModel.edges.forEach((edge) => {\n        const sourceNode = this.ruleChainCanvas.modelService.nodes.getNodeByConnectorId(edge.source);\n        const destNode = this.ruleChainCanvas.modelService.nodes.getNodeByConnectorId(edge.destination);\n        if (sourceNode.component.type !== RuleNodeType.INPUT) {\n          const fromIndex = nodes.indexOf(sourceNode);\n          if (destNode.component.type === RuleNodeType.RULE_CHAIN) {\n            const ruleChainConnection = {\n              fromIndex,\n              targetRuleChainId: {entityType: EntityType.RULE_CHAIN, id: destNode.targetRuleChainId},\n              additionalInfo: destNode.additionalInfo ? destNode.additionalInfo : {}\n            } as RuleChainConnectionInfo;\n            ruleChainConnection.additionalInfo.layoutX = Math.round(destNode.x);\n            ruleChainConnection.additionalInfo.layoutY = Math.round(destNode.y);\n            ruleChainConnection.additionalInfo.ruleChainNodeId = destNode.id;\n            edge.labels.forEach((label) => {\n              const newRuleChainConnection = deepClone(ruleChainConnection);\n              newRuleChainConnection.type = label;\n              ruleChainMetaData.ruleChainConnections.push(newRuleChainConnection);\n            });\n          } else {\n            const toIndex = nodes.indexOf(destNode);\n            const nodeConnection = {\n              fromIndex,\n              toIndex\n            } as NodeConnectionInfo;\n            edge.labels.forEach((label) => {\n              const newNodeConnection = deepClone(nodeConnection);\n              newNodeConnection.type = label;\n              ruleChainMetaData.connections.push(newNodeConnection);\n            });\n          }\n        }\n      });\n      this.ruleChainService.saveAndGetResolvedRuleChainMetadata(ruleChainMetaData).subscribe((savedRuleChainMetaData) => {\n        this.ruleChainMetaData = savedRuleChainMetaData;\n        if (this.isImport) {\n          this.isDirtyValue = false;\n          this.isImport = false;\n          if (this.ruleChainType !== RuleChainType.EDGE) {\n            this.router.navigateByUrl(`ruleChains/${this.ruleChain.id.id}`);\n          } else {\n            this.router.navigateByUrl(`edgeManagement/ruleChains/${this.ruleChain.id.id}`);\n          }\n        } else {\n          this.createRuleChainModel();\n        }\n      });\n    });\n  }\n\n  revertRuleChain() {\n    this.createRuleChainModel();\n  }\n\n  addRuleNode(ruleNode: FcRuleNode) {\n    ruleNode.configuration = deepClone(ruleNode.component.configurationDescriptor.nodeDefinition.defaultConfiguration);\n    const ruleChainId = this.ruleChain.id ? this.ruleChain.id.id : null;\n    this.enableHotKeys = false;\n    const ruleChainType = this.ruleChainType;\n    this.dialog.open<AddRuleNodeDialogComponent, AddRuleNodeDialogData,\n      FcRuleNode>(AddRuleNodeDialogComponent, {\n      disableClose: true,\n      panelClass: ['tb-dialog', 'tb-fullscreen-dialog'],\n      data: {\n        ruleNode,\n        ruleChainId,\n        ruleChainType\n      }\n    }).afterClosed().subscribe(\n      (addedRuleNode) => {\n        if (addedRuleNode) {\n          addedRuleNode.id = 'rule-chain-node-' + this.nextNodeID++;\n          addedRuleNode.connectors = [];\n          if (addedRuleNode.component.configurationDescriptor.nodeDefinition.inEnabled) {\n            addedRuleNode.connectors.push(\n              {\n                id: (this.nextConnectorID++) + '',\n                type: FlowchartConstants.leftConnectorType\n              }\n            );\n          }\n          if (addedRuleNode.component.configurationDescriptor.nodeDefinition.outEnabled) {\n            addedRuleNode.connectors.push(\n              {\n                id: (this.nextConnectorID++) + '',\n                type: FlowchartConstants.rightConnectorType\n              }\n            );\n          }\n          this.ruleChainModel.nodes.push(addedRuleNode);\n          this.onModelChanged();\n          this.updateRuleNodesHighlight();\n        }\n        this.enableHotKeys = true;\n      }\n    );\n  }\n\n  addRuleNodeLink(link: FcRuleEdge, labels: {[label: string]: LinkLabel}, allowCustomLabels: boolean): Observable<FcRuleEdge> {\n    return this.dialog.open<AddRuleNodeLinkDialogComponent, AddRuleNodeLinkDialogData,\n      FcRuleEdge>(AddRuleNodeLinkDialogComponent, {\n      disableClose: true,\n      panelClass: ['tb-dialog', 'tb-fullscreen-dialog'],\n      data: {\n        link,\n        labels,\n        allowCustomLabels\n      }\n    }).afterClosed();\n  }\n\n  private updateNodeErrorTooltip(node: FcRuleNode) {\n    if (node.error) {\n      const element = $('#' + node.id);\n      let tooltip = this.errorTooltips[node.id];\n      if (!tooltip || !element.hasClass('tooltipstered')) {\n        element.tooltipster(\n          {\n            theme: 'tooltipster-shadow',\n            delay: 0,\n            animationDuration: 0,\n            trigger: 'custom',\n            triggerOpen: {\n              click: false,\n              tap: false\n            },\n            triggerClose: {\n              click: false,\n              tap: false,\n              scroll: false\n            },\n            side: 'top',\n            trackOrigin: true\n          }\n        );\n        const content = '<div class=\"tb-rule-node-error-tooltip\">' +\n          '<div id=\"tooltip-content\" layout=\"column\">' +\n          '<div class=\"tb-node-details\">' + node.error + '</div>' +\n          '</div>' +\n          '</div>';\n        const contentElement = $(content);\n        tooltip = element.tooltipster('instance');\n        tooltip.isErrorTooltip = true;\n        tooltip.content(contentElement);\n        this.errorTooltips[node.id] = tooltip;\n      }\n      setTimeout(() => {\n        tooltip.open();\n      }, 0);\n    } else {\n      if (this.errorTooltips[node.id]) {\n        const tooltip = this.errorTooltips[node.id];\n        tooltip.destroy();\n        delete this.errorTooltips[node.id];\n      }\n    }\n  }\n\n  private updateErrorTooltips(hide: boolean) {\n    for (const nodeId of Object.keys(this.errorTooltips)) {\n      const tooltip = this.errorTooltips[nodeId];\n      if (hide) {\n        tooltip.close();\n      } else {\n        tooltip.open();\n      }\n    }\n  }\n\n  private displayTooltip(event: MouseEvent, content: string) {\n    this.destroyTooltips();\n    this.tooltipTimeout = setTimeout(() => {\n      const element = $(event.target);\n      element.tooltipster(\n        {\n          theme: 'tooltipster-shadow',\n          delay: 100,\n          trigger: 'custom',\n          triggerOpen: {\n            click: false,\n            tap: false\n          },\n          triggerClose: {\n            click: true,\n            tap: true,\n            scroll: true\n          },\n          side: 'right',\n          distance: 12,\n          trackOrigin: true\n        }\n      );\n      const contentElement = $(content);\n      const tooltip = element.tooltipster('instance');\n      tooltip.content(contentElement);\n      tooltip.open();\n    }, 500);\n  }\n}\n\nexport interface AddRuleNodeLinkDialogData {\n  link: FcRuleEdge;\n  labels: {[label: string]: LinkLabel};\n  allowCustomLabels: boolean;\n}\n\n@Component({\n  selector: 'tb-add-rule-node-link-dialog',\n  templateUrl: './add-rule-node-link-dialog.component.html',\n  providers: [{provide: ErrorStateMatcher, useExisting: AddRuleNodeLinkDialogComponent}],\n  styleUrls: ['./add-rule-node-link-dialog.component.scss']\n})\nexport class AddRuleNodeLinkDialogComponent extends DialogComponent<AddRuleNodeLinkDialogComponent, FcRuleEdge>\n  implements OnInit, ErrorStateMatcher {\n\n  ruleNodeLinkFormGroup: FormGroup;\n\n  link: FcRuleEdge;\n  labels: {[label: string]: LinkLabel};\n  allowCustomLabels: boolean;\n\n  submitted = false;\n\n  constructor(protected store: Store<AppState>,\n              protected router: Router,\n              @Inject(MAT_DIALOG_DATA) public data: AddRuleNodeLinkDialogData,\n              @SkipSelf() private errorStateMatcher: ErrorStateMatcher,\n              public dialogRef: MatDialogRef<AddRuleNodeLinkDialogComponent, FcRuleEdge>,\n              private fb: FormBuilder) {\n    super(store, router, dialogRef);\n\n    this.link = this.data.link;\n    this.labels = this.data.labels;\n    this.allowCustomLabels = this.data.allowCustomLabels;\n\n    this.ruleNodeLinkFormGroup = this.fb.group({\n        link: [deepClone(this.link), [Validators.required]]\n      }\n    );\n  }\n\n  ngOnInit(): void {\n  }\n\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    const originalErrorState = this.errorStateMatcher.isErrorState(control, form);\n    const customErrorState = !!(control && control.invalid && this.submitted);\n    return originalErrorState || customErrorState;\n  }\n\n  cancel(): void {\n    this.dialogRef.close(null);\n  }\n\n  add(): void {\n    this.submitted = true;\n    const link: FcRuleEdge = this.ruleNodeLinkFormGroup.get('link').value;\n    this.link = {...this.link, ...link};\n    this.dialogRef.close(this.link);\n  }\n}\n\nexport interface AddRuleNodeDialogData {\n  ruleNode: FcRuleNode;\n  ruleChainId: string;\n  ruleChainType: RuleChainType;\n}\n\n@Component({\n  selector: 'tb-add-rule-node-dialog',\n  templateUrl: './add-rule-node-dialog.component.html',\n  providers: [{provide: ErrorStateMatcher, useExisting: AddRuleNodeDialogComponent}],\n  styleUrls: []\n})\nexport class AddRuleNodeDialogComponent extends DialogComponent<AddRuleNodeDialogComponent, FcRuleNode>\n  implements OnInit, ErrorStateMatcher {\n\n  @ViewChild('tbRuleNode', {static: true}) ruleNodeDetailsComponent: RuleNodeDetailsComponent;\n\n  ruleNode: FcRuleNode;\n  ruleChainId: string;\n  ruleChainType: RuleChainType;\n\n  submitted = false;\n\n  constructor(protected store: Store<AppState>,\n              protected router: Router,\n              @Inject(MAT_DIALOG_DATA) public data: AddRuleNodeDialogData,\n              @SkipSelf() private errorStateMatcher: ErrorStateMatcher,\n              public dialogRef: MatDialogRef<AddRuleNodeDialogComponent, FcRuleNode>) {\n    super(store, router, dialogRef);\n\n    this.ruleNode = this.data.ruleNode;\n    this.ruleChainId = this.data.ruleChainId;\n    this.ruleChainType = this.data.ruleChainType;\n  }\n\n  ngOnInit(): void {\n  }\n\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    const originalErrorState = this.errorStateMatcher.isErrorState(control, form);\n    const customErrorState = !!(control && control.invalid && this.submitted);\n    return originalErrorState || customErrorState;\n  }\n\n  helpLinkIdForRuleNodeType(): string {\n    return getRuleNodeHelpLink(this.ruleNode.component);\n  }\n\n  cancel(): void {\n    this.dialogRef.close(null);\n  }\n\n  add(): void {\n    this.submitted = true;\n\n    this.ruleNodeDetailsComponent.validate();\n    if (this.ruleNodeDetailsComponent.ruleNodeFormGroup.valid) {\n      this.dialogRef.close(this.ruleNode);\n    }\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div class=\"mat-content\" fxFlex tb-fullscreen [fullscreen]=\"isFullscreen\" tb-hotkeys [hotkeys]=\"hotKeys\"\n     [cheatSheet]=\"cheatSheetComponent\"\n  fxLayout=\"column\" class=\"tb-rulechain\">\n  <tb-hotkeys-cheatsheet #cheatSheetComponent></tb-hotkeys-cheatsheet>\n  <section class=\"tb-rulechain-container\" fxFlex fxLayout=\"column\">\n    <div class=\"tb-rulechain-layout\" fxFlex fxLayout=\"row\">\n      <section fxLayout=\"row\"\n               class=\"tb-header-buttons tb-library-open\" [fxShow]=\"!isLibraryOpen\">\n        <button mat-button mat-icon-button color=\"primary\"\n                class=\"tb-btn-header tb-btn-open-library mat-fab\"\n                (click)=\"isLibraryOpen = true\"\n                matTooltip=\"{{ 'rulenode.open-node-library' | translate }}\"\n                matTooltipPosition=\"above\">\n          <mat-icon>menu</mat-icon>\n        </button>\n      </section>\n      <mat-drawer-container style=\"width: 100%; height: 100%;\">\n        <mat-drawer class=\"tb-rulechain-library mat-elevation-z4\"\n                    disableClose=\"true\"\n                    mode=\"side\"\n                    [opened]=\"isLibraryOpen\"\n                    position=\"start\"\n                    fxLayout=\"column\">\n          <mat-toolbar color=\"primary\" class=\"tb-dark\">\n            <div class=\"mat-toolbar-tools\">\n              <button mat-button mat-icon-button class=\"tb-small\"\n                matTooltip=\"{{'rulenode.search' | translate}}\"\n                matTooltipPosition=\"above\">\n                <mat-icon>search</mat-icon>\n              </button>\n              <mat-form-field fxFlex floatLabel=\"always\">\n                <mat-label></mat-label>\n                <input #ruleNodeSearchInput matInput\n                       [(ngModel)]=\"ruleNodeTypeSearch\"\n                       placeholder=\"{{'rulenode.search' | translate}}\"/>\n              </mat-form-field>\n              <button mat-button mat-icon-button class=\"tb-small\"\n                      [fxShow]=\"ruleNodeTypeSearch !== ''\"\n                      (click)=\"ruleNodeTypeSearch = ''; updateRuleChainLibrary()\"\n                      matTooltip=\"{{'action.clear-search' | translate}}\"\n                      matTooltipPosition=\"above\">\n                <mat-icon>close</mat-icon>\n              </button>\n              <button mat-button mat-icon-button class=\"tb-small\"\n                      (click)=\"isLibraryOpen = false\"\n                      matTooltip=\"{{'action.close' | translate}}\"\n                      matTooltipPosition=\"above\">\n                <mat-icon>chevron_left</mat-icon>\n              </button>\n            </div>\n          </mat-toolbar>\n          <div class=\"tb-rulechain-library-panel-group\">\n            <mat-expansion-panel #ruleNodeTypeExpansionPanels\n                                 class=\"mat-elevation-z2\"\n                                 [expanded]=\"true\" *ngFor=\"let ruleNodeType of ruleNodeTypesLibraryArray\">\n              <mat-expansion-panel-header expandedHeight=\"48px\"\n                                          (mouseenter)=\"typeHeaderMouseEnter($event, ruleNodeType)\"\n                                          (mouseleave)=\"destroyTooltips()\">\n                <mat-panel-title>\n                  <mat-icon>{{ ruleNodeTypeDescriptorsMap.get(ruleNodeType).icon }}</mat-icon>\n                  <div class=\"tb-panel-title\" translate>{{ ruleNodeTypeDescriptorsMap.get(ruleNodeType).name }}</div>\n                </mat-panel-title>\n              </mat-expansion-panel-header>\n              <fc-canvas id=\"tb-rulchain-{{ruleNodeType}}\"\n                         [model]=\"ruleNodeTypesModel[ruleNodeType].model\"\n                         [selectedObjects]=\"ruleNodeTypesModel[ruleNodeType].selectedObjects\"\n                         [automaticResize]=\"false\"\n                         fitModelSizeByDefault\n                         [userCallbacks]=\"nodeLibCallbacks\"\n                         [nodeWidth]=\"170\"\n                         [nodeHeight]=\"50\"\n                         [dropTargetId]=\"'tb-rulchain-canvas'\">\n              </fc-canvas>\n            </mat-expansion-panel>\n          </div>\n        </mat-drawer>\n        <mat-drawer class=\"tb-details-drawer\"\n                    [opened]=\"isEditingRuleNode || isEditingRuleNodeLink\"\n                    (closed)=\"onDetailsDrawerClosed()\"\n                    mode=\"over\"\n                    position=\"end\">\n          <tb-details-panel *ngIf=\"editingRuleNode\" fxFlex\n                            headerTitle=\"{{editingRuleNode.name}}\"\n                            headerSubtitle=\"{{\n                              (ruleNodeTypeDescriptorsMap.get(editingRuleNode.component.type).name | translate)\n                              + ' - ' + editingRuleNode.component.name\n                            }}\"\n                            [isReadOnly]=\"selectedRuleNodeTabIndex > 0\"\n                            [isAlwaysEdit]=\"true\"\n                            (closeDetails)=\"onEditRuleNodeClosed()\"\n                            (toggleDetailsEditMode)=\"onRevertRuleNodeEdit()\"\n                            (applyDetails)=\"saveRuleNode()\"\n                            [theForm]=\"tbRuleNode.ruleNodeFormGroup\">\n            <div class=\"details-buttons\">\n              <div [tb-help]=\"helpLinkIdForRuleNodeType()\"></div>\n            </div>\n            <mat-tab-group fxFlex class=\"tb-absolute-fill tb-rulenode-details\" [(selectedIndex)]=\"selectedRuleNodeTabIndex\">\n              <mat-tab label=\"{{ 'rulenode.details' | translate }}\">\n                <tb-rule-node #tbRuleNode\n                              [ruleNode]=\"editingRuleNode\"\n                              [ruleChainId]=\"ruleChain.id?.id\"\n                              [ruleChainType]=\"ruleChainType\"\n                              [isEdit]=\"true\"\n                              [isReadOnly]=\"false\">\n                </tb-rule-node>\n              </mat-tab>\n              <mat-tab *ngIf=\"editingRuleNode.ruleNodeId\" label=\"{{ 'rulenode.events' | translate }}\" #eventsTab=\"matTab\">\n                <tb-event-table [debugEventTypes]=\"[debugEventTypes.DEBUG_RULE_NODE]\"\n                                [defaultEventType]=\"debugEventTypes.DEBUG_RULE_NODE\"\n                                [active]=\"eventsTab.isActive\"\n                                [tenantId]=\"ruleChain.tenantId.id\"\n                                [entityId]=\"editingRuleNode.ruleNodeId\"></tb-event-table>\n              </mat-tab>\n              <mat-tab label=\"{{ 'rulenode.help' | translate }}\">\n                <div class=\"tb-rule-node-help\">\n                  <div id=\"tb-node-content\" class=\"mat-padding\" fxLayout=\"column\">\n                    <div class=\"tb-node-title\">{{editingRuleNode.component.name}}</div>\n                    <div>&nbsp;</div>\n                    <div class=\"tb-node-description\">{{editingRuleNode.component.configurationDescriptor.nodeDefinition.description}}</div>\n                    <div>&nbsp;</div>\n                    <div class=\"tb-node-details\" [innerHtml]=\"editingRuleNode.component.configurationDescriptor.nodeDefinition.details\"></div>\n                  </div>\n                </div>\n              </mat-tab>\n            </mat-tab-group>\n          </tb-details-panel>\n          <tb-details-panel *ngIf=\"editingRuleNodeLink\" fxFlex\n                            headerTitle=\"{{editingRuleNodeLink.label}}\"\n                            headerSubtitle=\"{{'rulenode.link-details' | translate}}\"\n                            [isReadOnly]=\"false\"\n                            [isAlwaysEdit]=\"true\"\n                            (closeDetails)=\"onEditRuleNodeLinkClosed()\"\n                            (toggleDetailsEditMode)=\"onRevertRuleNodeLinkEdit()\"\n                            (applyDetails)=\"saveRuleNodeLink()\"\n                            [theForm]=\"tbRuleNodeLink.ruleNodeLinkFormGroup\">\n            <div class=\"details-buttons\">\n              <div [tb-help]=\"'ruleEngine'\"></div>\n            </div>\n            <tb-rule-node-link\n              fxFlex\n              #tbRuleNodeLink\n              [(ngModel)]=\"editingRuleNodeLink\"\n              [allowedLabels]=\"editingRuleNodeLinkLabels\"\n              [allowCustom]=\"editingRuleNodeAllowCustomLabels\">\n            </tb-rule-node-link>\n          </tb-details-panel>\n        </mat-drawer>\n        <mat-drawer-content class=\"tb-rulechain-graph-content\">\n          <button mat-button\n                  type=\"button\"\n                  mat-icon-button class=\"tb-fullscreen-button\"\n                  (click)=\"isFullscreen = !isFullscreen\"\n                  matTooltip=\"{{(isFullscreen ? 'fullscreen.exit' : 'fullscreen.expand') | translate}}\"\n                  matTooltipPosition=\"above\">\n            <mat-icon>{{ isFullscreen ? 'fullscreen_exit' : 'fullscreen' }}</mat-icon>\n          </button>\n          <div class=\"tb-absolute-fill tb-rulechain-graph\" (contextmenu)=\"openRuleChainContextMenu($event)\">\n            <div #ruleChainMenuTrigger=\"matMenuTrigger\" style=\"visibility: hidden; position: fixed\"\n                 [style.left]=\"ruleChainMenuPosition.x\"\n                 [style.top]=\"ruleChainMenuPosition.y\"\n                 [matMenuTriggerFor]=\"ruleChainMenu\">\n            </div>\n            <mat-menu #ruleChainMenu=\"matMenu\" class=\"tb-rule-chain-context-menu\"\n                      [overlapTrigger]=\"true\">\n              <ng-template matMenuContent let-contextInfo=\"contextInfo\">\n                <div class=\"tb-rule-chain-context-menu-container\" (mouseleave)=\"onRuleChainContextMenuMouseLeave()\">\n                  <div class=\"tb-context-menu-header {{contextInfo.headerClass}}\">\n                    <mat-icon *ngIf=\"!contextInfo.iconUrl\">{{contextInfo.icon}}</mat-icon>\n                    <img *ngIf=\"contextInfo.iconUrl\" [src]=\"contextInfo.iconUrl\"/>\n                    <div fxFlex>\n                      <div class=\"tb-context-menu-title\">{{contextInfo.title}}</div>\n                      <div class=\"tb-context-menu-subtitle\">{{contextInfo.subtitle}}</div>\n                    </div>\n                  </div>\n                  <div *ngFor=\"let menuItem of contextInfo.menuItems\">\n                    <mat-divider *ngIf=\"menuItem.divider\"></mat-divider>\n                    <button *ngIf=\"!menuItem.divider\"\n                            mat-menu-item\n                            [disabled]=\"!menuItem.enabled\"\n                            (click)=\"menuItem.action(contextMenuEvent)\">\n                      <span *ngIf=\"menuItem.shortcut\" class=\"tb-alt-text\"> {{ menuItem.shortcut | keyboardShortcut }}</span>\n                      <mat-icon *ngIf=\"menuItem.icon\">{{menuItem.icon}}</mat-icon>\n                      <span translate>{{menuItem.value}}</span>\n                    </button>\n                  </div>\n                </div>\n              </ng-template>\n            </mat-menu>\n            <fc-canvas #ruleChainCanvas\n                       id=\"tb-rulchain-canvas\"\n                       [model]=\"ruleChainModel\"\n                       (modelChanged)=\"onModelChanged()\"\n                       [selectedObjects]=\"selectedObjects\"\n                       [edgeStyle]=\"flowchartConstants.curvedStyle\"\n                       [automaticResize]=\"true\"\n                       fitModelSizeByDefault=\"false\"\n                       [nodeWidth]=\"170\"\n                       [nodeHeight]=\"50\"\n                       [dragAnimation]=\"flowchartConstants.dragAnimationRepaint\"\n                       [userCallbacks]=\"editCallbacks\">\n            </fc-canvas>\n          </div>\n          <section fxLayout=\"row\" class=\"layout-wrap tb-footer-buttons\" fxLayoutAlign=\"start end\">\n            <button [disabled]=\"isLoading$ | async\"\n                    mat-fab color=\"accent\" class=\"tb-btn-footer\"\n                    [ngClass]=\"{'tb-hide': !objectsSelected()}\"\n                    (click)=\"deleteSelected()\"\n                    matTooltip=\"{{ 'rulenode.delete-selected-objects' | translate }}\"\n                    matTooltipPosition=\"above\">\n              <mat-icon>delete</mat-icon>\n            </button>\n            <button [disabled]=\"(isLoading$ | async) || !isDebugModeEnabled()\"\n                    mat-fab color=\"accent\" class=\"tb-btn-footer\"\n                    (click)=\"resetDebugModeInAllNodes()\"\n                    matTooltip=\"{{ 'rulenode.reset-debug-mode' | translate }}\"\n                    matTooltipPosition=\"above\">\n              <mat-icon>bug_report</mat-icon>\n            </button>\n            <button [disabled]=\"(isLoading$ | async) || isInvalid || (!isDirtyValue && !isImport)\"\n                    mat-fab color=\"accent\" class=\"tb-btn-footer\"\n                    (click)=\"saveRuleChain()\"\n                    matTooltip=\"{{ 'action.apply-changes' | translate }}\"\n                    matTooltipPosition=\"above\">\n              <mat-icon>done</mat-icon>\n            </button>\n            <button [disabled]=\"(isLoading$ | async) || !isDirtyValue\"\n                    mat-fab color=\"accent\" class=\"tb-btn-footer\"\n                    (click)=\"revertRuleChain()\"\n                    matTooltip=\"{{ 'action.decline-changes' | translate }}\"\n                    matTooltipPosition=\"above\">\n              <mat-icon>close</mat-icon>\n            </button>\n          </section>\n        </mat-drawer-content>\n      </mat-drawer-container>\n    </div>\n  </section>\n</div>\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<form [formGroup]=\"ruleNodeLinkFormGroup\" (ngSubmit)=\"add()\" style=\"width: 480px;\">\n  <mat-toolbar color=\"primary\">\n    <h2 translate>rulenode.add-link</h2>\n    <span fxFlex></span>\n    <div [tb-help]=\"'ruleEngine'\"></div>\n    <button mat-icon-button\n            (click)=\"cancel()\"\n            type=\"button\">\n      <mat-icon class=\"material-icons\">close</mat-icon>\n    </button>\n  </mat-toolbar>\n  <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n  </mat-progress-bar>\n  <div mat-dialog-content>\n    <fieldset [disabled]=\"isLoading$ | async\">\n      <tb-rule-node-link\n        required\n        formControlName=\"link\"\n        [allowedLabels]=\"labels\"\n        [allowCustom]=\"allowCustomLabels\">\n      </tb-rule-node-link>\n    </fieldset>\n  </div>\n  <div mat-dialog-actions fxLayoutAlign=\"end center\">\n    <button mat-button color=\"primary\"\n            type=\"button\"\n            [disabled]=\"(isLoading$ | async)\"\n            (click)=\"cancel()\" cdkFocusInitial>\n      {{ 'action.cancel' | translate }}\n    </button>\n    <button mat-raised-button color=\"primary\"\n            type=\"submit\"\n            [disabled]=\"(isLoading$ | async) || ruleNodeLinkFormGroup.invalid || !ruleNodeLinkFormGroup.dirty\">\n      {{ 'action.add' | translate }}\n    </button>\n  </div>\n</form>\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<form (ngSubmit)=\"add()\" style=\"min-width: 650px;\">\n  <mat-toolbar color=\"primary\">\n    <h2 translate>rulenode.add</h2>\n    <span fxFlex>: {{ruleNode.component.name}}</span>\n    <div [tb-help]=\"helpLinkIdForRuleNodeType()\"></div>\n    <button mat-icon-button\n            (click)=\"cancel()\"\n            type=\"button\">\n      <mat-icon class=\"material-icons\">close</mat-icon>\n    </button>\n  </mat-toolbar>\n  <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n  </mat-progress-bar>\n  <div mat-dialog-content>\n    <fieldset [disabled]=\"isLoading$ | async\">\n      <tb-rule-node #tbRuleNode\n        [ruleNode]=\"ruleNode\"\n        [ruleChainId]=\"ruleChainId\"\n        [ruleChainType]=\"ruleChainType\"\n        [isEdit]=\"true\"\n        [isAdd]=\"true\"\n        [isReadOnly]=\"false\">\n      </tb-rule-node>\n    </fieldset>\n  </div>\n  <div mat-dialog-actions fxLayoutAlign=\"end center\">\n    <button mat-button color=\"primary\"\n            type=\"button\"\n            [disabled]=\"(isLoading$ | async)\"\n            (click)=\"cancel()\" cdkFocusInitial>\n      {{ 'action.cancel' | translate }}\n    </button>\n    <button mat-raised-button color=\"primary\"\n            type=\"submit\"\n            [disabled]=\"(isLoading$ | async) || tbRuleNode.ruleNodeFormGroup.invalid || !tbRuleNode.ruleNodeFormGroup.dirty\">\n      {{ 'action.add' | translate }}\n    </button>\n  </div>\n</form>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Injectable } from '@angular/core';\n\nimport { ActivatedRouteSnapshot, Resolve, Router } from '@angular/router';\nimport {\n  CellActionDescriptor,\n  checkBoxCell,\n  DateEntityTableColumn,\n  EntityTableColumn,\n  EntityTableConfig,\n  GroupActionDescriptor,\n  HeaderActionDescriptor\n} from '@home/models/entity/entities-table-config.models';\nimport { TranslateService } from '@ngx-translate/core';\nimport { DatePipe } from '@angular/common';\nimport { EntityType, entityTypeResources, entityTypeTranslations } from '@shared/models/entity-type.models';\nimport { EntityAction } from '@home/models/entity/entity-component.models';\nimport { forkJoin, Observable, of } from 'rxjs';\nimport { select, Store } from '@ngrx/store';\nimport { selectAuthUser } from '@core/auth/auth.selectors';\nimport { map, mergeMap, take, tap } from 'rxjs/operators';\nimport { AppState } from '@core/core.state';\nimport { Authority } from '@app/shared/models/authority.enum';\nimport { CustomerService } from '@core/http/customer.service';\nimport { Customer } from '@app/shared/models/customer.model';\nimport { NULL_UUID } from '@shared/models/id/has-uuid';\nimport { BroadcastService } from '@core/services/broadcast.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { DialogService } from '@core/services/dialog.service';\nimport {\n  AssignToCustomerDialogComponent,\n  AssignToCustomerDialogData\n} from '@modules/home/dialogs/assign-to-customer-dialog.component';\nimport {\n  AddEntitiesToCustomerDialogComponent,\n  AddEntitiesToCustomerDialogData\n} from '../../dialogs/add-entities-to-customer-dialog.component';\nimport { EntityView, EntityViewInfo } from '@app/shared/models/entity-view.models';\nimport { EntityViewService } from '@core/http/entity-view.service';\nimport { EntityViewComponent } from '@modules/home/pages/entity-view/entity-view.component';\nimport { EntityViewTableHeaderComponent } from '@modules/home/pages/entity-view/entity-view-table-header.component';\nimport { EntityViewId } from '@shared/models/id/entity-view-id';\nimport { EntityViewTabsComponent } from '@home/pages/entity-view/entity-view-tabs.component';\nimport { EdgeService } from '@core/http/edge.service';\nimport {\n  AddEntitiesToEdgeDialogComponent,\n  AddEntitiesToEdgeDialogData\n} from '@home/dialogs/add-entities-to-edge-dialog.component';\n\n@Injectable()\nexport class EntityViewsTableConfigResolver implements Resolve<EntityTableConfig<EntityViewInfo>> {\n\n  private readonly config: EntityTableConfig<EntityViewInfo> = new EntityTableConfig<EntityViewInfo>();\n\n  private customerId: string;\n\n  constructor(private store: Store<AppState>,\n              private broadcast: BroadcastService,\n              private entityViewService: EntityViewService,\n              private customerService: CustomerService,\n              private edgeService: EdgeService,\n              private dialogService: DialogService,\n              private translate: TranslateService,\n              private datePipe: DatePipe,\n              private router: Router,\n              private dialog: MatDialog) {\n\n    this.config.entityType = EntityType.ENTITY_VIEW;\n    this.config.entityComponent = EntityViewComponent;\n    this.config.entityTabsComponent = EntityViewTabsComponent;\n    this.config.entityTranslations = entityTypeTranslations.get(EntityType.ENTITY_VIEW);\n    this.config.entityResources = entityTypeResources.get(EntityType.ENTITY_VIEW);\n\n    this.config.addDialogStyle = {maxWidth: '800px'};\n\n    this.config.deleteEntityTitle = entityView =>\n      this.translate.instant('entity-view.delete-entity-view-title', {entityViewName: entityView.name});\n    this.config.deleteEntityContent = () => this.translate.instant('entity-view.delete-entity-view-text');\n    this.config.deleteEntitiesTitle = count => this.translate.instant('entity-view.delete-entity-views-title', {count});\n    this.config.deleteEntitiesContent = () => this.translate.instant('entity-view.delete-entity-views-text');\n\n    this.config.loadEntity = id => this.entityViewService.getEntityViewInfo(id.id);\n    this.config.saveEntity = entityView => {\n      return this.entityViewService.saveEntityView(entityView).pipe(\n        tap(() => {\n          this.broadcast.broadcast('entityViewSaved');\n        }),\n        mergeMap((savedEntityView) => this.entityViewService.getEntityViewInfo(savedEntityView.id.id)\n        ));\n    };\n    this.config.onEntityAction = action => this.onEntityViewAction(action);\n    this.config.detailsReadonly = () => (this.config.componentsData.entityViewScope === 'customer_user' ||\n      this.config.componentsData.entityViewScope === 'edge_customer_user');\n\n    this.config.headerComponent = EntityViewTableHeaderComponent;\n\n  }\n\n  resolve(route: ActivatedRouteSnapshot): Observable<EntityTableConfig<EntityViewInfo>> {\n    const routeParams = route.params;\n    this.config.componentsData = {\n      entityViewScope: route.data.entityViewsType,\n      entityViewType: '',\n      edgeId: routeParams.edgeId\n    };\n    this.customerId = routeParams.customerId;\n    return this.store.pipe(select(selectAuthUser), take(1)).pipe(\n      tap((authUser) => {\n        if (authUser.authority === Authority.CUSTOMER_USER) {\n          if (route.data.entityViewsType === 'edge') {\n            this.config.componentsData.entityViewScope = 'edge_customer_user';\n          } else {\n            this.config.componentsData.entityViewScope = 'customer_user';\n          }\n          this.customerId = authUser.customerId;\n        }\n      }),\n      mergeMap(() =>\n        this.customerId ? this.customerService.getCustomer(this.customerId) : of(null as Customer)\n      ),\n      map((parentCustomer) => {\n        if (parentCustomer) {\n          if (parentCustomer.additionalInfo && parentCustomer.additionalInfo.isPublic) {\n            this.config.tableTitle = this.translate.instant('customer.public-entity-views');\n          } else {\n            this.config.tableTitle = parentCustomer.title + ': ' + this.translate.instant('entity-view.entity-views');\n          }\n        } else if (this.config.componentsData.entityViewScope === 'edge') {\n          this.edgeService.getEdge(this.config.componentsData.edgeId).subscribe(\n            edge => this.config.tableTitle = edge.name + ': ' + this.translate.instant('entity-view.entity-views')\n          );\n        } else {\n          this.config.tableTitle = this.translate.instant('entity-view.entity-views');\n        }\n        this.config.columns = this.configureColumns(this.config.componentsData.entityViewScope);\n        this.configureEntityFunctions(this.config.componentsData.entityViewScope);\n        this.config.cellActionDescriptors = this.configureCellActions(this.config.componentsData.entityViewScope);\n        this.config.groupActionDescriptors = this.configureGroupActions(this.config.componentsData.entityViewScope);\n        this.config.addActionDescriptors = this.configureAddActions(this.config.componentsData.entityViewScope);\n        this.config.addEnabled = !(this.config.componentsData.entityViewScope === 'customer_user' ||\n          this.config.componentsData.entityViewScope === 'edge_customer_user');\n        this.config.entitiesDeleteEnabled = this.config.componentsData.entityViewScope === 'tenant';\n        this.config.deleteEnabled = () => this.config.componentsData.entityViewScope === 'tenant';\n        return this.config;\n      })\n    );\n  }\n\n  configureColumns(entityViewScope: string): Array<EntityTableColumn<EntityViewInfo>> {\n    const columns: Array<EntityTableColumn<EntityViewInfo>> = [\n      new DateEntityTableColumn<EntityViewInfo>('createdTime', 'common.created-time', this.datePipe, '150px'),\n      new EntityTableColumn<EntityViewInfo>('name', 'entity-view.name', '33%'),\n      new EntityTableColumn<EntityViewInfo>('type', 'entity-view.entity-view-type', '33%'),\n    ];\n    if (entityViewScope === 'tenant') {\n      columns.push(\n        new EntityTableColumn<EntityViewInfo>('customerTitle', 'customer.customer', '33%'),\n        new EntityTableColumn<EntityViewInfo>('customerIsPublic', 'entity-view.public', '60px',\n          entity => {\n            return checkBoxCell(entity.customerIsPublic);\n          }, () => ({}), false),\n      );\n    }\n    return columns;\n  }\n\n  configureEntityFunctions(entityViewScope: string): void {\n    if (entityViewScope === 'tenant') {\n      this.config.entitiesFetchFunction = pageLink =>\n        this.entityViewService.getTenantEntityViewInfos(pageLink, this.config.componentsData.entityViewType);\n      this.config.deleteEntity = id => this.entityViewService.deleteEntityView(id.id);\n    } else if (entityViewScope === 'edge' || entityViewScope === 'edge_customer_user') {\n      this.config.entitiesFetchFunction = pageLink =>\n        this.entityViewService.getEdgeEntityViews(this.config.componentsData.edgeId, pageLink, this.config.componentsData.entityViewType);\n    } else {\n      this.config.entitiesFetchFunction = pageLink =>\n        this.entityViewService.getCustomerEntityViewInfos(this.customerId, pageLink, this.config.componentsData.entityViewType);\n      this.config.deleteEntity = id => this.entityViewService.unassignEntityViewFromCustomer(id.id);\n    }\n  }\n\n  configureCellActions(entityViewScope: string): Array<CellActionDescriptor<EntityViewInfo>> {\n    const actions: Array<CellActionDescriptor<EntityViewInfo>> = [];\n    if (entityViewScope === 'tenant') {\n      actions.push(\n        {\n          name: this.translate.instant('entity-view.make-public'),\n          icon: 'share',\n          isEnabled: (entity) => (!entity.customerId || entity.customerId.id === NULL_UUID),\n          onAction: ($event, entity) => this.makePublic($event, entity)\n        },\n        {\n          name: this.translate.instant('entity-view.assign-to-customer'),\n          icon: 'assignment_ind',\n          isEnabled: (entity) => (!entity.customerId || entity.customerId.id === NULL_UUID),\n          onAction: ($event, entity) => this.assignToCustomer($event, [entity.id])\n        },\n        {\n          name: this.translate.instant('entity-view.unassign-from-customer'),\n          icon: 'assignment_return',\n          isEnabled: (entity) => (entity.customerId && entity.customerId.id !== NULL_UUID && !entity.customerIsPublic),\n          onAction: ($event, entity) => this.unassignFromCustomer($event, entity)\n        },\n        {\n          name: this.translate.instant('entity-view.make-private'),\n          icon: 'reply',\n          isEnabled: (entity) => (entity.customerId && entity.customerId.id !== NULL_UUID && entity.customerIsPublic),\n          onAction: ($event, entity) => this.unassignFromCustomer($event, entity)\n        }\n      );\n    }\n    if (entityViewScope === 'customer') {\n      actions.push(\n        {\n          name: this.translate.instant('entity-view.unassign-from-customer'),\n          icon: 'assignment_return',\n          isEnabled: (entity) => (entity.customerId && entity.customerId.id !== NULL_UUID && !entity.customerIsPublic),\n          onAction: ($event, entity) => this.unassignFromCustomer($event, entity)\n        },\n        {\n          name: this.translate.instant('entity-view.make-private'),\n          icon: 'reply',\n          isEnabled: (entity) => (entity.customerId && entity.customerId.id !== NULL_UUID && entity.customerIsPublic),\n          onAction: ($event, entity) => this.unassignFromCustomer($event, entity)\n        }\n      );\n    }\n    if (entityViewScope === 'edge') {\n      actions.push(\n        {\n          name: this.translate.instant('edge.unassign-from-edge'),\n          icon: 'assignment_return',\n          isEnabled: () => true,\n          onAction: ($event, entity) => this.unassignFromEdge($event, entity)\n        }\n      );\n    }\n    return actions;\n  }\n\n  configureGroupActions(entityViewScope: string): Array<GroupActionDescriptor<EntityViewInfo>> {\n    const actions: Array<GroupActionDescriptor<EntityViewInfo>> = [];\n    if (entityViewScope === 'tenant') {\n      actions.push(\n        {\n          name: this.translate.instant('entity-view.assign-entity-views'),\n          icon: 'assignment_ind',\n          isEnabled: true,\n          onAction: ($event, entities) => this.assignToCustomer($event, entities.map((entity) => entity.id))\n        }\n      );\n    }\n    if (entityViewScope === 'customer') {\n      actions.push(\n        {\n          name: this.translate.instant('entity-view.unassign-entity-views'),\n          icon: 'assignment_return',\n          isEnabled: true,\n          onAction: ($event, entities) => this.unassignEntityViewsFromCustomer($event, entities)\n        }\n      );\n    }\n    if (entityViewScope === 'edge') {\n      actions.push(\n        {\n          name: this.translate.instant('entity-view.unassign-entity-views-from-edge'),\n          icon: 'assignment_return',\n          isEnabled: true,\n          onAction: ($event, entities) => this.unassignEntityViewsFromEdge($event, entities)\n        }\n      );\n    }\n    return actions;\n  }\n\n  configureAddActions(entityViewScope: string): Array<HeaderActionDescriptor> {\n    const actions: Array<HeaderActionDescriptor> = [];\n    if (entityViewScope === 'customer') {\n      actions.push(\n        {\n          name: this.translate.instant('entity-view.assign-new-entity-view'),\n          icon: 'add',\n          isEnabled: () => true,\n          onAction: ($event) => this.addEntityViewsToCustomer($event)\n        }\n      );\n    }\n    if (entityViewScope === 'edge') {\n      actions.push(\n        {\n          name: this.translate.instant('entity-view.assign-new-entity-view'),\n          icon: 'add',\n          isEnabled: () => true,\n          onAction: ($event) => this.addEntityViewsToEdge($event)\n        }\n      );\n    }\n    return actions;\n  }\n\n  addEntityViewsToCustomer($event: Event) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialog.open<AddEntitiesToCustomerDialogComponent, AddEntitiesToCustomerDialogData,\n      boolean>(AddEntitiesToCustomerDialogComponent, {\n      disableClose: true,\n      panelClass: ['tb-dialog', 'tb-fullscreen-dialog'],\n      data: {\n        customerId: this.customerId,\n        entityType: EntityType.ENTITY_VIEW\n      }\n    }).afterClosed()\n      .subscribe((res) => {\n        if (res) {\n          this.config.table.updateData();\n        }\n      });\n  }\n\n  makePublic($event: Event, entityView: EntityView) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialogService.confirm(\n      this.translate.instant('entity-view.make-public-entity-view-title', {entityViewName: entityView.name}),\n      this.translate.instant('entity-view.make-public-entity-view-text'),\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n        if (res) {\n          this.entityViewService.makeEntityViewPublic(entityView.id.id).subscribe(\n            () => {\n              this.config.table.updateData();\n            }\n          );\n        }\n      }\n    );\n  }\n\n  assignToCustomer($event: Event, entityViewIds: Array<EntityViewId>) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialog.open<AssignToCustomerDialogComponent, AssignToCustomerDialogData,\n      boolean>(AssignToCustomerDialogComponent, {\n      disableClose: true,\n      panelClass: ['tb-dialog', 'tb-fullscreen-dialog'],\n      data: {\n        entityIds: entityViewIds,\n        entityType: EntityType.ENTITY_VIEW\n      }\n    }).afterClosed()\n      .subscribe((res) => {\n        if (res) {\n          this.config.table.updateData();\n        }\n      });\n  }\n\n  unassignFromCustomer($event: Event, entityView: EntityViewInfo) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    const isPublic = entityView.customerIsPublic;\n    let title;\n    let content;\n    if (isPublic) {\n      title = this.translate.instant('entity-view.make-private-entity-view-title', {entityViewName: entityView.name});\n      content = this.translate.instant('entity-view.make-private-entity-view-text');\n    } else {\n      title = this.translate.instant('entity-view.unassign-entity-view-title', {entityViewName: entityView.name});\n      content = this.translate.instant('entity-view.unassign-entity-view-text');\n    }\n    this.dialogService.confirm(\n      title,\n      content,\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n        if (res) {\n          this.entityViewService.unassignEntityViewFromCustomer(entityView.id.id).subscribe(\n            () => {\n              this.config.table.updateData();\n            }\n          );\n        }\n      }\n    );\n  }\n\n  unassignEntityViewsFromCustomer($event: Event, entityViews: Array<EntityViewInfo>) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialogService.confirm(\n      this.translate.instant('entity-view.unassign-entity-views-title', {count: entityViews.length}),\n      this.translate.instant('entity-view.unassign-entity-views-text'),\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n        if (res) {\n          const tasks: Observable<any>[] = [];\n          entityViews.forEach(\n            (entityView) => {\n              tasks.push(this.entityViewService.unassignEntityViewFromCustomer(entityView.id.id));\n            }\n          );\n          forkJoin(tasks).subscribe(\n            () => {\n              this.config.table.updateData();\n            }\n          );\n        }\n      }\n    );\n  }\n\n  onEntityViewAction(action: EntityAction<EntityViewInfo>): boolean {\n    switch (action.action) {\n      case 'makePublic':\n        this.makePublic(action.event, action.entity);\n        return true;\n      case 'assignToCustomer':\n        this.assignToCustomer(action.event, [action.entity.id]);\n        return true;\n      case 'unassignFromCustomer':\n        this.unassignFromCustomer(action.event, action.entity);\n        return true;\n      case 'unassignFromEdge':\n        this.unassignFromEdge(action.event, action.entity);\n        return true;\n    }\n    return false;\n  }\n\n  addEntityViewsToEdge($event: Event) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialog.open<AddEntitiesToEdgeDialogComponent, AddEntitiesToEdgeDialogData,\n      boolean>(AddEntitiesToEdgeDialogComponent, {\n      disableClose: true,\n      panelClass: ['tb-dialog', 'tb-fullscreen-dialog'],\n      data: {\n        edgeId: this.config.componentsData.edgeId,\n        entityType: EntityType.ENTITY_VIEW\n      }\n    }).afterClosed()\n      .subscribe((res) => {\n        if (res) {\n          this.config.table.updateData();\n        }\n      });\n  }\n\n  unassignFromEdge($event: Event, entityView: EntityViewInfo) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialogService.confirm(\n      this.translate.instant('entity-view.unassign-entity-view-from-edge-title', {entityViewName: entityView.name}),\n      this.translate.instant('entity-view.unassign-entity-view-from-edge-text'),\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n        if (res) {\n          this.entityViewService.unassignEntityViewFromEdge(this.config.componentsData.edgeId, entityView.id.id).subscribe(\n            () => {\n              this.config.table.updateData();\n            }\n          );\n        }\n      }\n    );\n  }\n\n  unassignEntityViewsFromEdge($event: Event, entityViews: Array<EntityViewInfo>) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialogService.confirm(\n      this.translate.instant('entity-view.unassign-entity-views-from-edge-title', {count: entityViews.length}),\n      this.translate.instant('entity-view.unassign-entity-views-from-edge-text'),\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n        if (res) {\n          const tasks: Observable<any>[] = [];\n          entityViews.forEach(\n            (entityView) => {\n              tasks.push(this.entityViewService.unassignEntityViewFromEdge(this.config.componentsData.edgeId, entityView.id.id));\n            }\n          );\n          forkJoin(tasks).subscribe(\n            () => {\n              this.config.table.updateData();\n            }\n          );\n        }\n      }\n    );\n  }\n\n}\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { EntityTabsComponent } from '../../components/entity/entity-tabs.component';\nimport { AssetInfo } from '@app/shared/models/asset.models';\n\n@Component({\n  selector: 'tb-asset-tabs',\n  templateUrl: './asset-tabs.component.html',\n  styleUrls: []\n})\nexport class AssetTabsComponent extends EntityTabsComponent<AssetInfo> {\n\n  constructor(protected store: Store<AppState>) {\n    super(store);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n  }\n\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'attribute.attributes' | translate }}\" #attributesTab=\"matTab\">\n  <tb-attribute-table [defaultAttributeScope]=\"attributeScopes.SERVER_SCOPE\"\n                      [active]=\"attributesTab.isActive\"\n                      [entityId]=\"entity.id\"\n                      [entityName]=\"entity.name\">\n  </tb-attribute-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'attribute.map' | translate }}\" #attributesTab=\"matTab\">\n  <tb-attribute-table [defaultAttributeScope]=\"attributeScopes.SERVER_SCOPE\"\n                      [active]=\"attributesTab.isActive\"\n                      [entityId]=\"entity.id\"\n                      [entityName]=\"entity.name\">\n  </tb-attribute-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'attribute.latest-telemetry' | translate }}\" #telemetryTab=\"matTab\">\n  <tb-attribute-table [defaultAttributeScope]=\"latestTelemetryTypes.LATEST_TELEMETRY\"\n                      disableAttributeScopeSelection\n                      [active]=\"telemetryTab.isActive\"\n                      [entityId]=\"entity.id\"\n                      [entityName]=\"entity.name\">\n  </tb-attribute-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'alarm.alarms' | translate }}\" #alarmsTab=\"matTab\">\n  <tb-alarm-table [active]=\"alarmsTab.isActive\" [entityId]=\"entity.id\"></tb-alarm-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'asset.events' | translate }}\" #eventsTab=\"matTab\">\n  <tb-event-table [defaultEventType]=\"eventTypes.ERROR\" [active]=\"eventsTab.isActive\" [tenantId]=\"entity.tenantId.id\"\n                  [entityId]=\"entity.id\"></tb-event-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity\"\n         label=\"{{ 'relation.relations' | translate }}\" #relationsTab=\"matTab\">\n  <tb-relation-table [active]=\"relationsTab.isActive\" [entityId]=\"entity.id\"></tb-relation-table>\n</mat-tab>\n<mat-tab *ngIf=\"entity && authUser.authority === authorities.TENANT_ADMIN\"\n         label=\"{{ 'audit-log.audit-logs' | translate }}\" #auditLogsTab=\"matTab\">\n  <tb-audit-log-table detailsMode=\"true\" [active]=\"auditLogsTab.isActive\" [auditLogMode]=\"auditLogModes.ENTITY\" [entityId]=\"entity.id\"></tb-audit-log-table>\n</mat-tab>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { ChangeDetectorRef, Component, Inject } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { EntityComponent } from '../../components/entity/entity.component';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActionNotificationShow } from '@core/notification/notification.actions';\nimport { TranslateService } from '@ngx-translate/core';\nimport { RuleChain } from '@shared/models/rule-chain.models';\nimport { EntityTableConfig } from '@home/models/entity/entities-table-config.models';\n\n@Component({\n  selector: 'tb-rulechain',\n  templateUrl: './rulechain.component.html',\n  styleUrls: ['./rulechain.component.scss']\n})\nexport class RuleChainComponent extends EntityComponent<RuleChain> {\n\n  ruleChainScope: 'tenant' | 'edges' | 'edge';\n\n  constructor(protected store: Store<AppState>,\n              protected translate: TranslateService,\n              @Inject('entity') protected entityValue: RuleChain,\n              @Inject('entitiesTableConfig') protected entitiesTableConfigValue: EntityTableConfig<RuleChain>,\n              public fb: FormBuilder,\n              protected cd: ChangeDetectorRef) {\n    super(store, fb, entityValue, entitiesTableConfigValue, cd);\n  }\n\n  ngOnInit() {\n    this.ruleChainScope = this.entitiesTableConfig.componentsData.ruleChainScope;\n    super.ngOnInit();\n  }\n\n  hideDelete() {\n    if (this.entitiesTableConfig) {\n      return !this.entitiesTableConfig.deleteEnabled(this.entity);\n    } else {\n      return false;\n    }\n  }\n\n  buildForm(entity: RuleChain): FormGroup {\n    return this.fb.group(\n      {\n        name: [entity ? entity.name : '', [Validators.required, Validators.maxLength(255)]],\n        debugMode: [entity ? entity.debugMode : false],\n        additionalInfo: this.fb.group(\n          {\n            description: [entity && entity.additionalInfo ? entity.additionalInfo.description : ''],\n          }\n        )\n      }\n    );\n  }\n\n  updateForm(entity: RuleChain) {\n    this.entityForm.patchValue({name: entity.name});\n    this.entityForm.patchValue({debugMode: entity.debugMode});\n    this.entityForm.patchValue({additionalInfo: {description: entity.additionalInfo ? entity.additionalInfo.description : ''}});\n  }\n\n\n  onRuleChainIdCopied($event) {\n    this.store.dispatch(new ActionNotificationShow(\n      {\n        message: this.translate.instant('rulechain.idCopiedMessage'),\n        type: 'success',\n        duration: 750,\n        verticalPosition: 'bottom',\n        horizontalPosition: 'right'\n      }));\n  }\n\n  isEdgeRootRuleChain() {\n    if (this.entitiesTableConfig && this.entityValue) {\n      return this.entitiesTableConfig.componentsData.edge?.rootRuleChainId?.id == this.entityValue.id.id;\n    } else {\n      return false;\n    }\n  }\n\n  isAutoAssignToEdgeRuleChain() {\n    if (this.entitiesTableConfig && this.entityValue) {\n      return !this.entityValue.root &&\n        this.entitiesTableConfig.componentsData?.autoAssignToEdgeRuleChainIds?.includes(this.entityValue.id.id);\n    } else {\n      return false;\n    }\n  }\n\n  isNotAutoAssignToEdgeRuleChain() {\n    if (this.entitiesTableConfig && this.entityValue) {\n      return !this.entityValue.root &&\n        !this.entitiesTableConfig.componentsData?.autoAssignToEdgeRuleChainIds?.includes(this.entityValue.id.id);\n    } else {\n      return false;\n    }\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div class=\"tb-details-buttons\">\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'open')\"\n          [fxShow]=\"!isEdit\">\n    {{'rulechain.open-rulechain' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'export')\"\n          [fxShow]=\"!isEdit\">\n    {{'rulechain.export' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'setRoot')\"\n          [fxShow]=\"!isEdit && ((!entity?.root && ruleChainScope === 'tenant') || (!isEdgeRootRuleChain() && ruleChainScope === 'edge'))\">\n    {{'rulechain.set-root' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'setEdgeTemplateRoot')\"\n          [fxShow]=\"!isEdit && !entity?.root && ruleChainScope === 'edges'\">\n    {{'rulechain.set-edge-template-root-rulechain' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'setAutoAssignToEdge')\"\n          [fxShow]=\"!isEdit && isNotAutoAssignToEdgeRuleChain() && ruleChainScope === 'edges'\">\n    {{'rulechain.set-auto-assign-to-edge' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'unsetAutoAssignToEdge')\"\n          [fxShow]=\"!isEdit && isAutoAssignToEdgeRuleChain() && ruleChainScope === 'edges'\">\n    {{'rulechain.unset-auto-assign-to-edge' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'unassignFromEdge')\"\n          [fxShow]=\"!isEdit && !isEdgeRootRuleChain() && ruleChainScope === 'edge'\">\n    {{'edge.unassign-from-edge' | translate }}\n  </button>\n  <button mat-raised-button color=\"primary\"\n          [disabled]=\"(isLoading$ | async)\"\n          (click)=\"onEntityAction($event, 'delete')\"\n          [fxShow]=\"!hideDelete() && !isEdit && ruleChainScope !== 'edge'\">\n    {{'rulechain.delete' | translate }}\n  </button>\n  <div fxLayout=\"row\">\n    <button mat-raised-button\n            ngxClipboard\n            (cbOnSuccess)=\"onRuleChainIdCopied($event)\"\n            [cbContent]=\"entity?.id?.id\"\n            [fxShow]=\"!isEdit\">\n      <mat-icon svgIcon=\"mdi:clipboard-arrow-left\"></mat-icon>\n      <span translate>rulechain.copyId</span>\n    </button>\n  </div>\n</div>\n<div class=\"mat-padding\" fxLayout=\"column\">\n  <form [formGroup]=\"entityForm\">\n    <fieldset [disabled]=\"(isLoading$ | async) || !isEdit\">\n      <mat-form-field class=\"mat-block\">\n        <mat-label translate>rulechain.name</mat-label>\n        <input matInput formControlName=\"name\" required>\n        <mat-error *ngIf=\"entityForm.get('name').hasError('required')\">\n          {{ 'rulechain.name-required' | translate }}\n        </mat-error>\n        <mat-error *ngIf=\"entityForm.get('name').hasError('maxlength')\">\n          {{ 'rulechain.name-max-length' | translate }}\n        </mat-error>\n      </mat-form-field>\n      <mat-checkbox fxFlex formControlName=\"debugMode\" style=\"padding-bottom: 16px;\">\n        {{ 'rulechain.debug-mode' | translate }}\n      </mat-checkbox>\n      <div formGroupName=\"additionalInfo\">\n        <mat-form-field class=\"mat-block\">\n          <mat-label translate>rulechain.description</mat-label>\n          <textarea matInput formControlName=\"description\" rows=\"2\"></textarea>\n        </mat-form-field>\n      </div>\n    </fieldset>\n  </form>\n</div>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Injectable } from '@angular/core';\n\nimport { ActivatedRouteSnapshot, Resolve, Router } from '@angular/router';\nimport {\n  CellActionDescriptor,\n  checkBoxCell,\n  DateEntityTableColumn,\n  EntityTableColumn,\n  EntityTableConfig,\n  GroupActionDescriptor,\n  HeaderActionDescriptor\n} from '@home/models/entity/entities-table-config.models';\nimport { TranslateService } from '@ngx-translate/core';\nimport { DatePipe } from '@angular/common';\nimport { EntityType, entityTypeResources, entityTypeTranslations } from '@shared/models/entity-type.models';\nimport { AddEntityDialogData, EntityAction } from '@home/models/entity/entity-component.models';\nimport { Device, DeviceCredentials, DeviceInfo } from '@app/shared/models/device.models';\nimport { DeviceComponent } from '@modules/home/pages/device/device.component';\nimport { forkJoin, Observable, of, Subject } from 'rxjs';\nimport { select, Store } from '@ngrx/store';\nimport { selectAuthUser } from '@core/auth/auth.selectors';\nimport { map, mergeMap, take, tap } from 'rxjs/operators';\nimport { AppState } from '@core/core.state';\nimport { DeviceService } from '@app/core/http/device.service';\nimport { Authority } from '@app/shared/models/authority.enum';\nimport { CustomerService } from '@core/http/customer.service';\nimport { Customer } from '@app/shared/models/customer.model';\nimport { NULL_UUID } from '@shared/models/id/has-uuid';\nimport { BroadcastService } from '@core/services/broadcast.service';\nimport { DeviceTableHeaderComponent } from '@modules/home/pages/device/device-table-header.component';\nimport { MatDialog } from '@angular/material/dialog';\nimport {\n  DeviceCredentialsDialogComponent,\n  DeviceCredentialsDialogData\n} from '@modules/home/pages/device/device-credentials-dialog.component';\nimport { DialogService } from '@core/services/dialog.service';\nimport {\n  AssignToCustomerDialogComponent,\n  AssignToCustomerDialogData\n} from '@modules/home/dialogs/assign-to-customer-dialog.component';\nimport { DeviceId } from '@app/shared/models/id/device-id';\nimport {\n  AddEntitiesToCustomerDialogComponent,\n  AddEntitiesToCustomerDialogData\n} from '../../dialogs/add-entities-to-customer-dialog.component';\nimport { DeviceTabsComponent } from '@home/pages/device/device-tabs.component';\nimport { HomeDialogsService } from '@home/dialogs/home-dialogs.service';\nimport { DeviceWizardDialogComponent } from '@home/components/wizard/device-wizard-dialog.component';\nimport { BaseData, HasId } from '@shared/models/base-data';\nimport { isDefinedAndNotNull } from '@core/utils';\nimport { EdgeService } from '@core/http/edge.service';\nimport {\n  AddEntitiesToEdgeDialogComponent,\n  AddEntitiesToEdgeDialogData\n} from '@home/dialogs/add-entities-to-edge-dialog.component';\n\n@Injectable()\nexport class DevicesTableConfigResolver implements Resolve<EntityTableConfig<DeviceInfo>> {\n\n  private readonly config: EntityTableConfig<DeviceInfo> = new EntityTableConfig<DeviceInfo>();\n\n  private customerId: string;\n\n  constructor(private store: Store<AppState>,\n              private broadcast: BroadcastService,\n              private deviceService: DeviceService,\n              private customerService: CustomerService,\n              private dialogService: DialogService,\n              private edgeService: EdgeService,\n              private homeDialogs: HomeDialogsService,\n              private translate: TranslateService,\n              private datePipe: DatePipe,\n              private router: Router,\n              private dialog: MatDialog) {\n\n    this.config.entityType = EntityType.DEVICE;\n    this.config.entityComponent = DeviceComponent;\n    this.config.entityTabsComponent = DeviceTabsComponent;\n    this.config.entityTranslations = entityTypeTranslations.get(EntityType.DEVICE);\n    this.config.entityResources = entityTypeResources.get(EntityType.DEVICE);\n\n    this.config.addDialogStyle = {width: '600px'};\n\n    this.config.deleteEntityTitle = device => this.translate.instant('device.delete-device-title', {deviceName: device.name});\n    this.config.deleteEntityContent = () => this.translate.instant('device.delete-device-text');\n    this.config.deleteEntitiesTitle = count => this.translate.instant('device.delete-devices-title', {count});\n    this.config.deleteEntitiesContent = () => this.translate.instant('device.delete-devices-text');\n\n    this.config.loadEntity = id => this.deviceService.getDeviceInfo(id.id);\n    this.config.saveEntity = device => {\n      return this.deviceService.saveDevice(device).pipe(\n        tap(() => {\n          this.broadcast.broadcast('deviceSaved');\n        }),\n        mergeMap((savedDevice) => this.deviceService.getDeviceInfo(savedDevice.id.id)\n        ));\n    };\n    this.config.onEntityAction = action => this.onDeviceAction(action);\n    this.config.detailsReadonly = () =>\n      (this.config.componentsData.deviceScope === 'customer_user' || this.config.componentsData.deviceScope === 'edge_customer_user');\n\n    this.config.headerComponent = DeviceTableHeaderComponent;\n\n  }\n\n  resolve(route: ActivatedRouteSnapshot): Observable<EntityTableConfig<DeviceInfo>> {\n    const routeParams = route.params;\n    this.config.componentsData = {\n      deviceScope: route.data.devicesType,\n      deviceProfileId: null,\n      deviceCredentials$: new Subject<DeviceCredentials>(),\n      edgeId: routeParams.edgeId\n    };\n    this.customerId = routeParams.customerId;\n    this.config.componentsData.edgeId = routeParams.edgeId;\n    return this.store.pipe(select(selectAuthUser), take(1)).pipe(\n      tap((authUser) => {\n        if (authUser.authority === Authority.CUSTOMER_USER) {\n          if (route.data.devicesType === 'edge') {\n            this.config.componentsData.deviceScope = 'edge_customer_user';\n          } else {\n            this.config.componentsData.deviceScope = 'customer_user';\n          }\n          this.customerId = authUser.customerId;\n        }\n      }),\n      mergeMap(() =>\n        this.customerId ? this.customerService.getCustomer(this.customerId) : of(null as Customer)\n      ),\n      map((parentCustomer) => {\n        if (parentCustomer) {\n          if (parentCustomer.additionalInfo && parentCustomer.additionalInfo.isPublic) {\n            this.config.tableTitle = this.translate.instant('customer.public-devices');\n          } else {\n            this.config.tableTitle = parentCustomer.title + ': ' + this.translate.instant('device.devices');\n          }\n        } else if (this.config.componentsData.deviceScope === 'edge') {\n          this.edgeService.getEdge(this.config.componentsData.edgeId).subscribe(\n            edge => this.config.tableTitle = edge.name + ': ' + this.translate.instant('device.devices')\n          );\n        } else {\n          this.config.tableTitle = this.translate.instant('device.devices');\n        }\n        this.config.columns = this.configureColumns(this.config.componentsData.deviceScope);\n        this.configureEntityFunctions(this.config.componentsData.deviceScope);\n        this.config.cellActionDescriptors = this.configureCellActions(this.config.componentsData.deviceScope);\n        this.config.groupActionDescriptors = this.configureGroupActions(this.config.componentsData.deviceScope);\n        this.config.addActionDescriptors = this.configureAddActions(this.config.componentsData.deviceScope);\n        this.config.addEnabled = !(this.config.componentsData.deviceScope === 'customer_user' || this.config.componentsData.deviceScope === 'edge_customer_user');\n        this.config.entitiesDeleteEnabled = this.config.componentsData.deviceScope === 'tenant';\n        this.config.deleteEnabled = () => this.config.componentsData.deviceScope === 'tenant';\n        return this.config;\n      })\n    );\n  }\n\n  configureColumns(deviceScope: string): Array<EntityTableColumn<DeviceInfo>> {\n    const columns: Array<EntityTableColumn<DeviceInfo>> = [\n      new DateEntityTableColumn<DeviceInfo>('createdTime', 'common.created-time', this.datePipe, '150px'),\n      new EntityTableColumn<DeviceInfo>('name', 'device.name', '25%'),\n      new EntityTableColumn<DeviceInfo>('deviceProfileName', 'device-profile.device-profile', '25%'),\n      new EntityTableColumn<DeviceInfo>('label', 'device.label', '25%')\n    ];\n    if (deviceScope === 'tenant') {\n      columns.push(\n        new EntityTableColumn<DeviceInfo>('customerTitle', 'customer.customer', '25%'),\n        new EntityTableColumn<DeviceInfo>('customerIsPublic', 'device.public', '60px',\n          entity => {\n            return checkBoxCell(entity.customerIsPublic);\n          }, () => ({}), false),\n      );\n    }\n    columns.push(\n      new EntityTableColumn<DeviceInfo>('gateway', 'device.is-gateway', '60px',\n        entity => {\n          return checkBoxCell(entity.additionalInfo && entity.additionalInfo.gateway);\n        }, () => ({}), false)\n    );\n    return columns;\n  }\n\n  configureEntityFunctions(deviceScope: string): void {\n    if (deviceScope === 'tenant') {\n      this.config.entitiesFetchFunction = pageLink =>\n        this.deviceService.getTenantDeviceInfosByDeviceProfileId(pageLink,\n          this.config.componentsData.deviceProfileId !== null ?\n            this.config.componentsData.deviceProfileId.id : '');\n      this.config.deleteEntity = id => this.deviceService.deleteDevice(id.id);\n    } else if (deviceScope === 'edge' || deviceScope === 'edge_customer_user') {\n      this.config.entitiesFetchFunction = pageLink =>\n        this.deviceService.getEdgeDevices(this.config.componentsData.edgeId, pageLink, this.config.componentsData.edgeType);\n    } else {\n      this.config.entitiesFetchFunction = pageLink =>\n        this.deviceService.getCustomerDeviceInfosByDeviceProfileId(this.customerId, pageLink,\n          this.config.componentsData.deviceProfileId !== null ?\n            this.config.componentsData.deviceProfileId.id : '');\n      this.config.deleteEntity = id => this.deviceService.unassignDeviceFromCustomer(id.id);\n    }\n  }\n\n  configureCellActions(deviceScope: string): Array<CellActionDescriptor<DeviceInfo>> {\n    const actions: Array<CellActionDescriptor<DeviceInfo>> = [];\n    if (deviceScope === 'tenant') {\n      actions.push(\n        {\n          name: this.translate.instant('device.make-public'),\n          icon: 'share',\n          isEnabled: (entity) => (!entity.customerId || entity.customerId.id === NULL_UUID),\n          onAction: ($event, entity) => this.makePublic($event, entity)\n        },\n        {\n          name: this.translate.instant('device.assign-to-customer'),\n          icon: 'assignment_ind',\n          isEnabled: (entity) => (!entity.customerId || entity.customerId.id === NULL_UUID),\n          onAction: ($event, entity) => this.assignToCustomer($event, [entity.id])\n        },\n        {\n          name: this.translate.instant('device.unassign-from-customer'),\n          icon: 'assignment_return',\n          isEnabled: (entity) => (entity.customerId && entity.customerId.id !== NULL_UUID && !entity.customerIsPublic),\n          onAction: ($event, entity) => this.unassignFromCustomer($event, entity)\n        },\n        {\n          name: this.translate.instant('device.make-private'),\n          icon: 'reply',\n          isEnabled: (entity) => (entity.customerId && entity.customerId.id !== NULL_UUID && entity.customerIsPublic),\n          onAction: ($event, entity) => this.unassignFromCustomer($event, entity)\n        },\n        {\n          name: this.translate.instant('device.manage-credentials'),\n          icon: 'security',\n          isEnabled: () => true,\n          onAction: ($event, entity) => this.manageCredentials($event, entity)\n        }\n      );\n    }\n    if (deviceScope === 'customer') {\n      actions.push(\n        {\n          name: this.translate.instant('device.unassign-from-customer'),\n          icon: 'assignment_return',\n          isEnabled: (entity) => (entity.customerId && entity.customerId.id !== NULL_UUID && !entity.customerIsPublic),\n          onAction: ($event, entity) => this.unassignFromCustomer($event, entity)\n        },\n        {\n          name: this.translate.instant('device.make-private'),\n          icon: 'reply',\n          isEnabled: (entity) => (entity.customerId && entity.customerId.id !== NULL_UUID && entity.customerIsPublic),\n          onAction: ($event, entity) => this.unassignFromCustomer($event, entity)\n        },\n        {\n          name: this.translate.instant('device.manage-credentials'),\n          icon: 'security',\n          isEnabled: () => true,\n          onAction: ($event, entity) => this.manageCredentials($event, entity)\n        }\n      );\n    }\n    if (deviceScope === 'customer_user' || deviceScope === 'edge_customer_user') {\n      actions.push(\n        {\n          name: this.translate.instant('device.view-credentials'),\n          icon: 'security',\n          isEnabled: () => true,\n          onAction: ($event, entity) => this.manageCredentials($event, entity)\n        }\n      );\n    }\n    if (deviceScope === 'edge') {\n      actions.push(\n        {\n          name: this.translate.instant('edge.unassign-from-edge'),\n          icon: 'assignment_return',\n          isEnabled: (entity) => true,\n          onAction: ($event, entity) => this.unassignFromEdge($event, entity)\n        }\n      );\n    }\n    return actions;\n  }\n\n  configureGroupActions(deviceScope: string): Array<GroupActionDescriptor<DeviceInfo>> {\n    const actions: Array<GroupActionDescriptor<DeviceInfo>> = [];\n    if (deviceScope === 'tenant') {\n      actions.push(\n        {\n          name: this.translate.instant('device.assign-devices'),\n          icon: 'assignment_ind',\n          isEnabled: true,\n          onAction: ($event, entities) => this.assignToCustomer($event, entities.map((entity) => entity.id))\n        }\n      );\n    }\n    if (deviceScope === 'customer') {\n      actions.push(\n        {\n          name: this.translate.instant('device.unassign-devices'),\n          icon: 'assignment_return',\n          isEnabled: true,\n          onAction: ($event, entities) => this.unassignDevicesFromCustomer($event, entities)\n        }\n      );\n    }\n    if (deviceScope === 'edge') {\n      actions.push(\n        {\n          name: this.translate.instant('device.unassign-devices-from-edge'),\n          icon: 'assignment_return',\n          isEnabled: true,\n          onAction: ($event, entities) => this.unassignDevicesFromEdge($event, entities)\n        }\n      );\n    }\n    return actions;\n  }\n\n  configureAddActions(deviceScope: string): Array<HeaderActionDescriptor> {\n    const actions: Array<HeaderActionDescriptor> = [];\n    if (deviceScope === 'tenant') {\n      actions.push(\n        {\n          name: this.translate.instant('device.add-device-text'),\n          icon: 'insert_drive_file',\n          isEnabled: () => true,\n          onAction: ($event) => this.deviceWizard($event)\n        },\n        {\n          name: this.translate.instant('device.import'),\n          icon: 'file_upload',\n          isEnabled: () => true,\n          onAction: ($event) => this.importDevices($event)\n        },\n      );\n    }\n    if (deviceScope === 'customer') {\n      actions.push(\n        {\n          name: this.translate.instant('device.assign-new-device'),\n          icon: 'add',\n          isEnabled: () => true,\n          onAction: ($event) => this.addDevicesToCustomer($event)\n        }\n      );\n    }\n    if (deviceScope === 'edge') {\n      actions.push(\n        {\n          name: this.translate.instant('device.assign-new-device'),\n          icon: 'add',\n          isEnabled: () => true,\n          onAction: ($event) => this.addDevicesToEdge($event)\n        }\n      );\n    }\n    return actions;\n  }\n\n  importDevices($event: Event) {\n    this.homeDialogs.importEntities(EntityType.DEVICE).subscribe((res) => {\n      if (res) {\n        this.broadcast.broadcast('deviceSaved');\n        this.config.table.updateData();\n      }\n    });\n  }\n\n  deviceWizard($event: Event) {\n    this.dialog.open<DeviceWizardDialogComponent, AddEntityDialogData<BaseData<HasId>>,\n      boolean>(DeviceWizardDialogComponent, {\n      disableClose: true,\n      panelClass: ['tb-dialog', 'tb-fullscreen-dialog'],\n      data: {\n        entitiesTableConfig: this.config.table.entitiesTableConfig\n      }\n    }).afterClosed().subscribe(\n      (res) => {\n        if (res) {\n          this.config.table.updateData();\n        }\n      }\n    );\n  }\n\n  addDevicesToCustomer($event: Event) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialog.open<AddEntitiesToCustomerDialogComponent, AddEntitiesToCustomerDialogData,\n      boolean>(AddEntitiesToCustomerDialogComponent, {\n      disableClose: true,\n      panelClass: ['tb-dialog', 'tb-fullscreen-dialog'],\n      data: {\n        customerId: this.customerId,\n        entityType: EntityType.DEVICE\n      }\n    }).afterClosed()\n      .subscribe((res) => {\n        if (res) {\n          this.config.table.updateData();\n        }\n      });\n  }\n\n  makePublic($event: Event, device: Device) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialogService.confirm(\n      this.translate.instant('device.make-public-device-title', {deviceName: device.name}),\n      this.translate.instant('device.make-public-device-text'),\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n        if (res) {\n          this.deviceService.makeDevicePublic(device.id.id).subscribe(\n            () => {\n              this.config.table.updateData();\n            }\n          );\n        }\n      }\n    );\n  }\n\n  assignToCustomer($event: Event, deviceIds: Array<DeviceId>) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialog.open<AssignToCustomerDialogComponent, AssignToCustomerDialogData,\n      boolean>(AssignToCustomerDialogComponent, {\n      disableClose: true,\n      panelClass: ['tb-dialog', 'tb-fullscreen-dialog'],\n      data: {\n        entityIds: deviceIds,\n        entityType: EntityType.DEVICE\n      }\n    }).afterClosed()\n      .subscribe((res) => {\n        if (res) {\n          this.config.table.updateData();\n        }\n      });\n  }\n\n  unassignFromCustomer($event: Event, device: DeviceInfo) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    const isPublic = device.customerIsPublic;\n    let title;\n    let content;\n    if (isPublic) {\n      title = this.translate.instant('device.make-private-device-title', {deviceName: device.name});\n      content = this.translate.instant('device.make-private-device-text');\n    } else {\n      title = this.translate.instant('device.unassign-device-title', {deviceName: device.name});\n      content = this.translate.instant('device.unassign-device-text');\n    }\n    this.dialogService.confirm(\n      title,\n      content,\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n        if (res) {\n          this.deviceService.unassignDeviceFromCustomer(device.id.id).subscribe(\n            () => {\n              this.config.table.updateData();\n            }\n          );\n        }\n      }\n    );\n  }\n\n  unassignDevicesFromCustomer($event: Event, devices: Array<DeviceInfo>) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialogService.confirm(\n      this.translate.instant('device.unassign-devices-title', {count: devices.length}),\n      this.translate.instant('device.unassign-devices-text'),\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n        if (res) {\n          const tasks: Observable<any>[] = [];\n          devices.forEach(\n            (device) => {\n              tasks.push(this.deviceService.unassignDeviceFromCustomer(device.id.id));\n            }\n          );\n          forkJoin(tasks).subscribe(\n            () => {\n              this.config.table.updateData();\n            }\n          );\n        }\n      }\n    );\n  }\n\n  manageCredentials($event: Event, device: Device) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialog.open<DeviceCredentialsDialogComponent, DeviceCredentialsDialogData,\n      DeviceCredentials>(DeviceCredentialsDialogComponent, {\n      disableClose: true,\n      panelClass: ['tb-dialog', 'tb-fullscreen-dialog'],\n      data: {\n        deviceId: device.id.id,\n        deviceProfileId: device.deviceProfileId.id,\n        isReadOnly: this.config.componentsData.deviceScope === 'customer_user' || this.config.componentsData.deviceScope === 'edge_customer_user'\n      }\n    }).afterClosed().subscribe(deviceCredentials => {\n      if (isDefinedAndNotNull(deviceCredentials)) {\n        this.config.componentsData.deviceCredentials$.next(deviceCredentials);\n      }\n    });\n  }\n\n  onDeviceAction(action: EntityAction<DeviceInfo>): boolean {\n    switch (action.action) {\n      case 'makePublic':\n        this.makePublic(action.event, action.entity);\n        return true;\n      case 'assignToCustomer':\n        this.assignToCustomer(action.event, [action.entity.id]);\n        return true;\n      case 'unassignFromCustomer':\n        this.unassignFromCustomer(action.event, action.entity);\n        return true;\n      case 'unassignFromEdge':\n        this.unassignFromEdge(action.event, action.entity);\n        return true;\n      case 'manageCredentials':\n        this.manageCredentials(action.event, action.entity);\n        return true;\n    }\n    return false;\n  }\n\n  addDevicesToEdge($event: Event) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialog.open<AddEntitiesToEdgeDialogComponent, AddEntitiesToEdgeDialogData,\n      boolean>(AddEntitiesToEdgeDialogComponent, {\n      disableClose: true,\n      panelClass: ['tb-dialog', 'tb-fullscreen-dialog'],\n      data: {\n        edgeId: this.config.componentsData.edgeId,\n        entityType: EntityType.DEVICE\n      }\n    }).afterClosed()\n      .subscribe((res) => {\n        if (res) {\n          this.config.table.updateData();\n        }\n      });\n  }\n\n  unassignFromEdge($event: Event, device: DeviceInfo) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialogService.confirm(\n      this.translate.instant('device.unassign-device-from-edge-title', {deviceName: device.name}),\n      this.translate.instant('device.unassign-device-from-edge-text'),\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n        if (res) {\n          this.deviceService.unassignDeviceFromEdge(this.config.componentsData.edgeId, device.id.id).subscribe(\n            () => {\n              this.config.table.updateData();\n            }\n          );\n        }\n      }\n    );\n  }\n\n  unassignDevicesFromEdge($event: Event, devices: Array<DeviceInfo>) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialogService.confirm(\n      this.translate.instant('device.unassign-devices-from-edge-title', {count: devices.length}),\n      this.translate.instant('device.unassign-devices-from-edge-text'),\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n        if (res) {\n          const tasks: Observable<any>[] = [];\n          devices.forEach(\n            (device) => {\n              tasks.push(this.deviceService.unassignDeviceFromEdge(this.config.componentsData.edgeId, device.id.id));\n            }\n          );\n          forkJoin(tasks).subscribe(\n            () => {\n              this.config.table.updateData();\n            }\n          );\n        }\n      }\n    );\n  }\n\n}\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from '@shared/shared.module';\nimport { HomeDialogsModule } from '../../dialogs/home-dialogs.module';\nimport { EntityViewComponent } from '@modules/home/pages/entity-view/entity-view.component';\nimport { EntityViewTableHeaderComponent } from './entity-view-table-header.component';\nimport { EntityViewRoutingModule } from './entity-view-routing.module';\nimport { HomeComponentsModule } from '@modules/home/components/home-components.module';\nimport { EntityViewTabsComponent } from '@home/pages/entity-view/entity-view-tabs.component';\n\n@NgModule({\n  declarations: [\n    EntityViewComponent,\n    EntityViewTabsComponent,\n    EntityViewTableHeaderComponent\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    HomeComponentsModule,\n    HomeDialogsModule,\n    EntityViewRoutingModule\n  ]\n})\nexport class EntityViewModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { ActivatedRouteSnapshot, Resolve, Router } from '@angular/router';\nimport {\n  AddEntitiesToCustomerDialogComponent,\n  AddEntitiesToCustomerDialogData\n} from '../../dialogs/add-entities-to-customer-dialog.component';\nimport {\n  AddEntitiesToEdgeDialogComponent,\n  AddEntitiesToEdgeDialogData\n} from '@home/dialogs/add-entities-to-edge-dialog.component';\nimport { Asset, AssetInfo } from '@app/shared/models/asset.models';\nimport {\n  AssignToCustomerDialogComponent,\n  AssignToCustomerDialogData\n} from '@modules/home/dialogs/assign-to-customer-dialog.component';\nimport {\n  CellActionDescriptor,\n  DateEntityTableColumn,\n  EntityTableColumn,\n  EntityTableConfig,\n  GroupActionDescriptor,\n  HeaderActionDescriptor,\n  checkBoxCell\n} from '@home/models/entity/entities-table-config.models';\nimport { EntityType, entityTypeResources, entityTypeTranslations } from '@shared/models/entity-type.models';\nimport { Observable, forkJoin, of } from 'rxjs';\nimport { Store, select } from '@ngrx/store';\nimport { map, mergeMap, take, tap } from 'rxjs/operators';\n\nimport { AppState } from '@core/core.state';\nimport { AssetComponent } from '@modules/home/pages/asset/asset.component';\nimport { AssetId } from '@app/shared/models/id/asset-id';\nimport { AssetService } from '@app/core/http/asset.service';\nimport { AssetTableHeaderComponent } from '@modules/home/pages/asset/asset-table-header.component';\nimport { AssetTabsComponent } from '@home/pages/asset/asset-tabs.component';\nimport { Authority } from '@app/shared/models/authority.enum';\nimport { BroadcastService } from '@core/services/broadcast.service';\nimport { Customer } from '@app/shared/models/customer.model';\nimport { CustomerService } from '@core/http/customer.service';\nimport { DatePipe } from '@angular/common';\nimport { DeviceInfo } from '@shared/models/device.models';\nimport { DialogService } from '@core/services/dialog.service';\nimport { EdgeService } from '@core/http/edge.service';\nimport { EntityAction } from '@home/models/entity/entity-component.models';\nimport { HomeDialogsService } from '@home/dialogs/home-dialogs.service';\nimport { Injectable } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { NULL_UUID } from '@shared/models/id/has-uuid';\nimport { TranslateService } from '@ngx-translate/core';\nimport { selectAuthUser } from '@core/auth/auth.selectors';\n\n@Injectable()\nexport class AssetsTableConfigResolver implements Resolve<EntityTableConfig<AssetInfo>> {\n\n  private readonly config: EntityTableConfig<AssetInfo> = new EntityTableConfig<AssetInfo>();\n\n  private customerId: string;\n\n  constructor(private store: Store<AppState>,\n    private broadcast: BroadcastService,\n    private assetService: AssetService,\n    private customerService: CustomerService,\n    private edgeService: EdgeService,\n    private dialogService: DialogService,\n    private homeDialogs: HomeDialogsService,\n    private translate: TranslateService,\n    private datePipe: DatePipe,\n    private router: Router,\n    private dialog: MatDialog) {\n\n    this.config.entityType = EntityType.ASSET;\n    this.config.entityComponent = AssetComponent;\n    this.config.entityTabsComponent = AssetTabsComponent;\n    this.config.entityTranslations = entityTypeTranslations.get(EntityType.ASSET);\n    this.config.entityResources = entityTypeResources.get(EntityType.ASSET);\n\n    this.config.deleteEntityTitle = asset => this.translate.instant('asset.delete-asset-title', { assetName: asset.name });\n    this.config.deleteEntityContent = () => this.translate.instant('asset.delete-asset-text');\n    this.config.deleteEntitiesTitle = count => this.translate.instant('asset.delete-assets-title', { count });\n    this.config.deleteEntitiesContent = () => this.translate.instant('asset.delete-assets-text');\n\n    this.config.loadEntity = id => this.assetService.getAssetInfo(id.id);\n    this.config.saveEntity = asset => {\n      return this.assetService.saveAsset(asset).pipe(\n        tap(() => {\n          this.broadcast.broadcast('assetSaved');\n        }),\n        mergeMap((savedAsset) => this.assetService.getAssetInfo(savedAsset.id.id)\n        ));\n    };\n    this.config.onEntityAction = action => this.onAssetAction(action);\n    this.config.detailsReadonly = () => (this.config.componentsData.assetScope === 'customer_user' || this.config.componentsData.assetScope === 'edge_customer_user');\n\n    this.config.headerComponent = AssetTableHeaderComponent;\n\n  }\n\n  resolve(route: ActivatedRouteSnapshot): Observable<EntityTableConfig<AssetInfo>> {\n    const routeParams = route.params;\n    this.config.componentsData = {\n      assetScope: route.data.assetsType,\n      assetType: '',\n      edgeId: routeParams.edgeId\n    };\n    this.customerId = routeParams.customerId;\n    return this.store.pipe(select(selectAuthUser), take(1)).pipe(\n      tap((authUser) => {\n        if (authUser.authority === Authority.CUSTOMER_USER) {\n          if (route.data.assetsType === 'edge') {\n            this.config.componentsData.assetScope = 'edge_customer_user';\n          } else {\n            this.config.componentsData.assetScope = 'customer_user';\n          }\n          this.customerId = authUser.customerId;\n        }\n      }),\n      mergeMap(() =>\n        this.customerId ? this.customerService.getCustomer(this.customerId) : of(null as Customer)\n      ),\n      map((parentCustomer) => {\n        if (parentCustomer) {\n          if (parentCustomer.additionalInfo && parentCustomer.additionalInfo.isPublic) {\n            this.config.tableTitle = this.translate.instant('customer.public-assets');\n          } else {\n            this.config.tableTitle = parentCustomer.title + ': ' + this.translate.instant('asset.assets');\n          }\n        } else if (this.config.componentsData.assetScope === 'edge') {\n          this.edgeService.getEdge(this.config.componentsData.edgeId).subscribe(\n            edge => this.config.tableTitle = edge.name + ': ' + this.translate.instant('asset.assets')\n          );\n        } else {\n          this.config.tableTitle = this.translate.instant('asset.assets');\n        }\n        this.config.columns = this.configureColumns(this.config.componentsData.assetScope);\n        this.configureEntityFunctions(this.config.componentsData.assetScope);\n        this.config.cellActionDescriptors = this.configureCellActions(this.config.componentsData.assetScope);\n        this.config.groupActionDescriptors = this.configureGroupActions(this.config.componentsData.assetScope);\n        this.config.addActionDescriptors = this.configureAddActions(this.config.componentsData.assetScope);\n        this.config.addEnabled = !(this.config.componentsData.assetScope === 'customer_user' || this.config.componentsData.assetScope === 'edge_customer_user');\n        this.config.entitiesDeleteEnabled = this.config.componentsData.assetScope === 'tenant';\n        this.config.deleteEnabled = () => this.config.componentsData.assetScope === 'tenant';\n        return this.config;\n      })\n    );\n  }\n\n  configureColumns(assetScope: string): Array<EntityTableColumn<AssetInfo>> {\n    const columns: Array<EntityTableColumn<AssetInfo>> = [\n      new DateEntityTableColumn<AssetInfo>('createdTime', 'common.created-time', this.datePipe, '150px'),\n      new EntityTableColumn<AssetInfo>('name', 'asset.name', '25%'),\n      new EntityTableColumn<AssetInfo>('type', 'asset.asset-type', '25%'),\n      new EntityTableColumn<DeviceInfo>('label', 'asset.label', '25%'),\n    ];\n    if (assetScope === 'tenant') {\n      columns.push(\n        new EntityTableColumn<AssetInfo>('customerTitle', 'customer.customer', '25%'),\n        new EntityTableColumn<AssetInfo>('customerIsPublic', 'asset.public', '60px',\n          entity => {\n            return checkBoxCell(entity.customerIsPublic);\n          }, () => ({}), false),\n      );\n    }\n    return columns;\n  }\n\n  configureEntityFunctions(assetScope: string): void {\n    if (assetScope === 'tenant') {\n      this.config.entitiesFetchFunction = pageLink =>\n        this.assetService.getTenantAssetInfos(pageLink, this.config.componentsData.assetType);\n      this.config.deleteEntity = id => this.assetService.deleteAsset(id.id);\n    } else if (assetScope === 'edge' || assetScope === 'edge_customer_user') {\n      this.config.entitiesFetchFunction = pageLink =>\n        this.assetService.getEdgeAssets(this.config.componentsData.edgeId, pageLink, this.config.componentsData.assetType);\n    } else {\n      this.config.entitiesFetchFunction = pageLink =>\n        this.assetService.getCustomerAssetInfos(this.customerId, pageLink, this.config.componentsData.assetType);\n      this.config.deleteEntity = id => this.assetService.unassignAssetFromCustomer(id.id);\n    }\n  }\n\n  configureCellActions(assetScope: string): Array<CellActionDescriptor<AssetInfo>> {\n    const actions: Array<CellActionDescriptor<AssetInfo>> = [];\n    if (assetScope === 'tenant') {\n      actions.push(\n        {\n          name: this.translate.instant('asset.view-relations'),\n          icon: 'lan',\n          isEnabled: (entity) => (!entity.customerId || entity.customerId.id === NULL_UUID),\n          onAction: ($event, entity) => this.makePublic($event, entity)\n        },\n        {\n          name: this.translate.instant('asset.make-public'),\n          icon: 'share',\n          isEnabled: (entity) => (!entity.customerId || entity.customerId.id === NULL_UUID),\n          onAction: ($event, entity) => this.makePublic($event, entity)\n        },\n        {\n          name: this.translate.instant('asset.assign-to-customer'),\n          icon: 'assignment_ind',\n          isEnabled: (entity) => (!entity.customerId || entity.customerId.id === NULL_UUID),\n          onAction: ($event, entity) => this.assignToCustomer($event, [entity.id])\n        },\n        {\n          name: this.translate.instant('asset.unassign-from-customer'),\n          icon: 'assignment_return',\n          isEnabled: (entity) => (entity.customerId && entity.customerId.id !== NULL_UUID && !entity.customerIsPublic),\n          onAction: ($event, entity) => this.unassignFromCustomer($event, entity)\n        },\n        {\n          name: this.translate.instant('asset.make-private'),\n          icon: 'reply',\n          isEnabled: (entity) => (entity.customerId && entity.customerId.id !== NULL_UUID && entity.customerIsPublic),\n          onAction: ($event, entity) => this.unassignFromCustomer($event, entity)\n        }\n      );\n    }\n    if (assetScope === 'customer') {\n      actions.push(\n        {\n          name: this.translate.instant('asset.unassign-from-customer'),\n          icon: 'assignment_return',\n          isEnabled: (entity) => (entity.customerId && entity.customerId.id !== NULL_UUID && !entity.customerIsPublic),\n          onAction: ($event, entity) => this.unassignFromCustomer($event, entity)\n        },\n        {\n          name: this.translate.instant('asset.make-private'),\n          icon: 'reply',\n          isEnabled: (entity) => (entity.customerId && entity.customerId.id !== NULL_UUID && entity.customerIsPublic),\n          onAction: ($event, entity) => this.unassignFromCustomer($event, entity)\n        }\n      );\n    }\n    if (assetScope === 'edge') {\n      actions.push(\n        {\n          name: this.translate.instant('edge.unassign-from-edge'),\n          icon: 'assignment_return',\n          isEnabled: (entity) => true,\n          onAction: ($event, entity) => this.unassignFromEdge($event, entity)\n        }\n      );\n    }\n    return actions;\n  }\n\n  configureGroupActions(assetScope: string): Array<GroupActionDescriptor<AssetInfo>> {\n    const actions: Array<GroupActionDescriptor<AssetInfo>> = [];\n    if (assetScope === 'tenant') {\n      actions.push(\n        {\n          name: this.translate.instant('asset.assign-assets'),\n          icon: 'assignment_ind',\n          isEnabled: true,\n          onAction: ($event, entities) => this.assignToCustomer($event, entities.map((entity) => entity.id))\n        }\n      );\n    }\n    if (assetScope === 'customer') {\n      actions.push(\n        {\n          name: this.translate.instant('asset.unassign-assets'),\n          icon: 'assignment_return',\n          isEnabled: true,\n          onAction: ($event, entities) => this.unassignAssetsFromCustomer($event, entities)\n        }\n      );\n    }\n    if (assetScope === 'edge') {\n      actions.push(\n        {\n          name: this.translate.instant('asset.unassign-assets-from-edge'),\n          icon: 'assignment_return',\n          isEnabled: true,\n          onAction: ($event, entities) => this.unassignAssetsFromEdge($event, entities)\n        }\n      );\n    }\n    return actions;\n  }\n\n  configureAddActions(assetScope: string): Array<HeaderActionDescriptor> {\n    const actions: Array<HeaderActionDescriptor> = [];\n    if (assetScope === 'tenant') {\n      actions.push(\n        {\n          name: this.translate.instant('asset.add-asset-text'),\n          icon: 'insert_drive_file',\n          isEnabled: () => true,\n          onAction: ($event) => this.config.table.addEntity($event)\n        },\n        {\n          name: this.translate.instant('asset.import'),\n          icon: 'file_upload',\n          isEnabled: () => true,\n          onAction: ($event) => this.importAssets($event)\n        }\n      );\n    }\n    if (assetScope === 'customer') {\n      actions.push(\n        {\n          name: this.translate.instant('asset.assign-new-asset'),\n          icon: 'add',\n          isEnabled: () => true,\n          onAction: ($event) => this.addAssetsToCustomer($event)\n        }\n      );\n    }\n    if (assetScope === 'edge') {\n      actions.push(\n        {\n          name: this.translate.instant('asset.assign-new-asset'),\n          icon: 'add',\n          isEnabled: () => true,\n          onAction: ($event) => this.addAssetsToEdge($event)\n        }\n      );\n    }\n    return actions;\n  }\n\n  importAssets($event: Event) {\n    this.homeDialogs.importEntities(EntityType.ASSET).subscribe((res) => {\n      if (res) {\n        this.broadcast.broadcast('assetSaved');\n        this.config.table.updateData();\n      }\n    });\n  }\n\n  addAssetsToCustomer($event: Event) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialog.open<AddEntitiesToCustomerDialogComponent, AddEntitiesToCustomerDialogData,\n      boolean>(AddEntitiesToCustomerDialogComponent, {\n        disableClose: true,\n        panelClass: ['tb-dialog', 'tb-fullscreen-dialog'],\n        data: {\n          customerId: this.customerId,\n          entityType: EntityType.ASSET\n        }\n      }).afterClosed()\n      .subscribe((res) => {\n        if (res) {\n          this.config.table.updateData();\n        }\n      });\n  }\n\n  makePublic($event: Event, asset: Asset) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialogService.confirm(\n      this.translate.instant('asset.make-public-asset-title', { assetName: asset.name }),\n      this.translate.instant('asset.make-public-asset-text'),\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n      if (res) {\n        this.assetService.makeAssetPublic(asset.id.id).subscribe(\n          () => {\n            this.config.table.updateData();\n          }\n        );\n      }\n    }\n    );\n  }\n\n  assignToCustomer($event: Event, assetIds: Array<AssetId>) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialog.open<AssignToCustomerDialogComponent, AssignToCustomerDialogData,\n      boolean>(AssignToCustomerDialogComponent, {\n        disableClose: true,\n        panelClass: ['tb-dialog', 'tb-fullscreen-dialog'],\n        data: {\n          entityIds: assetIds,\n          entityType: EntityType.ASSET\n        }\n      }).afterClosed()\n      .subscribe((res) => {\n        if (res) {\n          this.config.table.updateData();\n        }\n      });\n  }\n\n  unassignFromCustomer($event: Event, asset: AssetInfo) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    const isPublic = asset.customerIsPublic;\n    let title;\n    let content;\n    if (isPublic) {\n      title = this.translate.instant('asset.make-private-asset-title', { assetName: asset.name });\n      content = this.translate.instant('asset.make-private-asset-text');\n    } else {\n      title = this.translate.instant('asset.unassign-asset-title', { assetName: asset.name });\n      content = this.translate.instant('asset.unassign-asset-text');\n    }\n    this.dialogService.confirm(\n      title,\n      content,\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n      if (res) {\n        this.assetService.unassignAssetFromCustomer(asset.id.id).subscribe(\n          () => {\n            this.config.table.updateData();\n          }\n        );\n      }\n    }\n    );\n  }\n\n  unassignAssetsFromCustomer($event: Event, assets: Array<AssetInfo>) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialogService.confirm(\n      this.translate.instant('asset.unassign-assets-title', { count: assets.length }),\n      this.translate.instant('asset.unassign-assets-text'),\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n      if (res) {\n        const tasks: Observable<any>[] = [];\n        assets.forEach(\n          (asset) => {\n            tasks.push(this.assetService.unassignAssetFromCustomer(asset.id.id));\n          }\n        );\n        forkJoin(tasks).subscribe(\n          () => {\n            this.config.table.updateData();\n          }\n        );\n      }\n    }\n    );\n  }\n\n  onAssetAction(action: EntityAction<AssetInfo>): boolean {\n    switch (action.action) {\n      case 'makePublic':\n        this.makePublic(action.event, action.entity);\n        return true;\n      case 'assignToCustomer':\n        this.assignToCustomer(action.event, [action.entity.id]);\n        return true;\n      case 'unassignFromCustomer':\n        this.unassignFromCustomer(action.event, action.entity);\n        return true;\n      case 'unassignFromEdge':\n        this.unassignFromEdge(action.event, action.entity);\n        return true;\n    }\n    return false;\n  }\n\n  addAssetsToEdge($event: Event) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialog.open<AddEntitiesToEdgeDialogComponent, AddEntitiesToEdgeDialogData,\n      boolean>(AddEntitiesToEdgeDialogComponent, {\n        disableClose: true,\n        panelClass: ['tb-dialog', 'tb-fullscreen-dialog'],\n        data: {\n          edgeId: this.config.componentsData.edgeId,\n          entityType: EntityType.ASSET\n        }\n      }).afterClosed()\n      .subscribe((res) => {\n        if (res) {\n          this.config.table.updateData();\n        }\n      });\n  }\n\n  unassignFromEdge($event: Event, asset: AssetInfo) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialogService.confirm(\n      this.translate.instant('asset.unassign-asset-from-edge-title', { assetName: asset.name }),\n      this.translate.instant('asset.unassign-asset-from-edge-text'),\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n      if (res) {\n        this.assetService.unassignAssetFromEdge(this.config.componentsData.edgeId, asset.id.id).subscribe(\n          () => {\n            this.config.table.updateData();\n          }\n        );\n      }\n    }\n    );\n  }\n\n  unassignAssetsFromEdge($event: Event, assets: Array<AssetInfo>) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialogService.confirm(\n      this.translate.instant('asset.unassign-assets-from-edge-title', { count: assets.length }),\n      this.translate.instant('asset.unassign-assets-from-edge-text'),\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n      if (res) {\n        const tasks: Observable<any>[] = [];\n        assets.forEach(\n          (asset) => {\n            tasks.push(this.assetService.unassignAssetFromEdge(this.config.componentsData.edgeId, asset.id.id));\n          }\n        );\n        forkJoin(tasks).subscribe(\n          () => {\n            this.config.table.updateData();\n          }\n        );\n      }\n    }\n    );\n  }\n\n}\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, OnInit } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { PageComponent } from '@shared/components/page.component';\nimport { Router } from '@angular/router';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { AdminSettings, GeneralSettings } from '@shared/models/settings.models';\nimport { AdminService } from '@core/http/admin.service';\nimport { HasConfirmForm } from '@core/guards/confirm-on-exit.guard';\n\n@Component({\n  selector: 'tb-general-settings',\n  templateUrl: './general-settings.component.html',\n  styleUrls: ['./general-settings.component.scss', './settings-card.scss']\n})\nexport class GeneralSettingsComponent extends PageComponent implements OnInit, HasConfirmForm {\n\n  generalSettings: FormGroup;\n  adminSettings: AdminSettings<GeneralSettings>;\n\n  constructor(protected store: Store<AppState>,\n              private router: Router,\n              private adminService: AdminService,\n              public fb: FormBuilder) {\n    super(store);\n  }\n\n  ngOnInit() {\n    this.buildGeneralServerSettingsForm();\n    this.adminService.getAdminSettings<GeneralSettings>('general').subscribe(\n      (adminSettings) => {\n        this.adminSettings = adminSettings;\n        this.generalSettings.reset(this.adminSettings.jsonValue);\n      }\n    );\n  }\n\n  buildGeneralServerSettingsForm() {\n    this.generalSettings = this.fb.group({\n      baseUrl: ['', [Validators.required]],\n      prohibitDifferentUrl: ['',[]]\n    });\n  }\n\n  save(): void {\n    this.adminSettings.jsonValue = {...this.adminSettings.jsonValue, ...this.generalSettings.value};\n    this.adminService.saveAdminSettings(this.adminSettings).subscribe(\n      (adminSettings) => {\n        this.adminSettings = adminSettings;\n        this.generalSettings.reset(this.adminSettings.jsonValue);\n      }\n    );\n  }\n\n  confirmForm(): FormGroup {\n    return this.generalSettings;\n  }\n\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div>\n  <mat-card class=\"settings-card\">\n    <mat-card-title>\n      <div fxLayout=\"row\">\n        <span class=\"mat-headline\" translate>admin.general-settings</span>\n      </div>\n    </mat-card-title>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <mat-card-content style=\"padding-top: 16px;\">\n      <form [formGroup]=\"generalSettings\" (ngSubmit)=\"save()\">\n        <fieldset [disabled]=\"isLoading$ | async\">\n          <mat-form-field class=\"mat-block\">\n            <mat-label translate>admin.base-url</mat-label>\n            <input matInput formControlName=\"baseUrl\" required/>\n            <mat-error *ngIf=\"generalSettings.get('baseUrl').hasError('required')\">\n              {{ 'admin.base-url-required' | translate }}\n            </mat-error>\n          </mat-form-field>\n          <tb-checkbox formControlName=\"prohibitDifferentUrl\" style=\"display: block; padding-bottom: 16px;\">\n            {{ 'admin.prohibit-different-url' | translate }}\n          </tb-checkbox>\n          <div class=\"tb-hint\" translate>admin.prohibit-different-url-hint</div>\n          <div fxLayout=\"row\" fxLayoutAlign=\"end center\" style=\"width: 100%;\" class=\"layout-wrap\">\n            <button mat-button mat-raised-button color=\"primary\" [disabled]=\"(isLoading$ | async) || generalSettings.invalid || !generalSettings.dirty\"\n                    type=\"submit\">{{'action.save' | translate}}\n            </button>\n          </div>\n        </fieldset>\n      </form>\n    </mat-card-content>\n  </mat-card>\n</div>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Injectable, NgModule } from '@angular/core';\nimport { ActivatedRouteSnapshot, Resolve, RouterModule, Routes } from '@angular/router';\n\nimport { EntitiesTableComponent } from '../../components/entity/entities-table.component';\nimport { Authority } from '@shared/models/authority.enum';\nimport { WidgetsBundlesTableConfigResolver } from '@modules/home/pages/widget/widgets-bundles-table-config.resolver';\nimport { WidgetLibraryComponent } from '@home/pages/widget/widget-library.component';\nimport { BreadCrumbConfig, BreadCrumbLabelFunction } from '@shared/components/breadcrumb';\nimport { Observable } from 'rxjs';\nimport { WidgetsBundle } from '@shared/models/widgets-bundle.model';\nimport { WidgetService } from '@core/http/widget.service';\nimport { WidgetEditorComponent } from '@home/pages/widget/widget-editor.component';\nimport { map } from 'rxjs/operators';\nimport { detailsToWidgetInfo, toWidgetInfo, WidgetInfo } from '@home/models/widget-component.models';\nimport { widgetType, WidgetType, WidgetTypeDetails } from '@app/shared/models/widget.models';\nimport { ConfirmOnExitGuard } from '@core/guards/confirm-on-exit.guard';\nimport { WidgetsData } from '@home/models/dashboard-component.models';\nimport { NULL_UUID } from '@shared/models/id/has-uuid';\n\nexport interface WidgetEditorData {\n  widgetTypeDetails: WidgetTypeDetails;\n  widget: WidgetInfo;\n}\n\n@Injectable()\nexport class WidgetsBundleResolver implements Resolve<WidgetsBundle> {\n\n  constructor(private widgetsService: WidgetService) {\n  }\n\n  resolve(route: ActivatedRouteSnapshot): Observable<WidgetsBundle> {\n    let widgetsBundleId = route.params.widgetsBundleId;\n    if (!widgetsBundleId) {\n      widgetsBundleId = route.parent.params.widgetsBundleId;\n    }\n    return this.widgetsService.getWidgetsBundle(widgetsBundleId);\n  }\n}\n\n@Injectable()\nexport class WidgetsTypesDataResolver implements Resolve<WidgetsData> {\n\n  constructor(private widgetsService: WidgetService) {\n  }\n\n  resolve(route: ActivatedRouteSnapshot): Observable<WidgetsData> {\n    const widgetsBundle: WidgetsBundle = route.parent.data.widgetsBundle;\n    const bundleAlias = widgetsBundle.alias;\n    const isSystem = widgetsBundle.tenantId.id === NULL_UUID;\n    return this.widgetsService.loadBundleLibraryWidgets(bundleAlias,\n      isSystem).pipe(\n      map((widgets) => {\n          return { widgets };\n        }\n      ));\n  }\n}\n\n@Injectable()\nexport class WidgetEditorDataResolver implements Resolve<WidgetEditorData> {\n\n  constructor(private widgetsService: WidgetService) {\n  }\n\n  resolve(route: ActivatedRouteSnapshot): Observable<WidgetEditorData> {\n    const widgetTypeId = route.params.widgetTypeId;\n    return this.widgetsService.getWidgetTypeById(widgetTypeId).pipe(\n      map((result) => {\n        return {\n          widgetTypeDetails: result,\n          widget: detailsToWidgetInfo(result)\n        };\n      })\n    );\n  }\n}\n\n@Injectable()\nexport class WidgetEditorAddDataResolver implements Resolve<WidgetEditorData> {\n\n  constructor(private widgetsService: WidgetService) {\n  }\n\n  resolve(route: ActivatedRouteSnapshot): Observable<WidgetEditorData> {\n    let widgetTypeParam = route.params.widgetType as widgetType;\n    if (!widgetTypeParam) {\n      widgetTypeParam = widgetType.timeseries;\n    }\n    return this.widgetsService.getWidgetTemplate(widgetTypeParam).pipe(\n      map((widget) => {\n        widget.widgetName = null;\n        return {\n          widgetTypeDetails: null,\n          widget\n        };\n      })\n    );\n  }\n}\n\nexport const widgetTypesBreadcumbLabelFunction: BreadCrumbLabelFunction<any> = ((route, translate) =>\n  route.data.widgetsBundle.title);\n\nexport const widgetEditorBreadcumbLabelFunction: BreadCrumbLabelFunction<WidgetEditorComponent> =\n  ((route, translate, component) => component ? component.widget.widgetName : '');\n\nexport const routes: Routes = [\n  {\n    path: 'widgets-bundles',\n    data: {\n      breadcrumb: {\n        label: 'widgets-bundle.widgets-bundles',\n        icon: 'now_widgets'\n      }\n    },\n    children: [\n      {\n        path: '',\n        component: EntitiesTableComponent,\n        data: {\n          auth: [Authority.SYS_ADMIN, Authority.TENANT_ADMIN],\n          title: 'widgets-bundle.widgets-bundles'\n        },\n        resolve: {\n          entitiesTableConfig: WidgetsBundlesTableConfigResolver\n        }\n      },\n      {\n        path: ':widgetsBundleId/widgetTypes',\n        data: {\n          breadcrumb: {\n            labelFunction: widgetTypesBreadcumbLabelFunction,\n            icon: 'now_widgets'\n          } as BreadCrumbConfig<any>\n        },\n        resolve: {\n          widgetsBundle: WidgetsBundleResolver\n        },\n        children: [\n          {\n            path: '',\n            component: WidgetLibraryComponent,\n            data: {\n              auth: [Authority.SYS_ADMIN, Authority.TENANT_ADMIN],\n              title: 'widget.widget-library'\n            },\n            resolve: {\n              widgetsData: WidgetsTypesDataResolver\n            }\n          },\n          {\n            path: ':widgetTypeId',\n            component: WidgetEditorComponent,\n            canDeactivate: [ConfirmOnExitGuard],\n            data: {\n              auth: [Authority.SYS_ADMIN, Authority.TENANT_ADMIN],\n              title: 'widget.editor',\n              breadcrumb: {\n                labelFunction: widgetEditorBreadcumbLabelFunction,\n                icon: 'insert_chart'\n              } as BreadCrumbConfig<WidgetEditorComponent>\n            },\n            resolve: {\n              widgetEditorData: WidgetEditorDataResolver\n            }\n          },\n          {\n            path: 'add/:widgetType',\n            component: WidgetEditorComponent,\n            canDeactivate: [ConfirmOnExitGuard],\n            data: {\n              auth: [Authority.SYS_ADMIN, Authority.TENANT_ADMIN],\n              title: 'widget.editor',\n              breadcrumb: {\n                labelFunction: widgetEditorBreadcumbLabelFunction,\n                icon: 'insert_chart'\n              } as BreadCrumbConfig<WidgetEditorComponent>\n            },\n            resolve: {\n              widgetEditorData: WidgetEditorAddDataResolver\n            }\n          }\n        ]\n      }\n    ]\n  }\n];\n\n// @dynamic\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n  providers: [\n    WidgetsBundlesTableConfigResolver,\n    WidgetsBundleResolver,\n    WidgetsTypesDataResolver,\n    WidgetEditorDataResolver,\n    WidgetEditorAddDataResolver\n  ]\n})\nexport class WidgetLibraryRoutingModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from '@shared/shared.module';\nimport { TenantComponent } from '@modules/home/pages/tenant/tenant.component';\nimport { TenantRoutingModule } from '@modules/home/pages/tenant/tenant-routing.module';\nimport { HomeComponentsModule } from '@modules/home/components/home-components.module';\nimport { TenantTabsComponent } from '@home/pages/tenant/tenant-tabs.component';\n\n@NgModule({\n  declarations: [\n    TenantComponent,\n    TenantTabsComponent\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    HomeComponentsModule,\n    TenantRoutingModule\n  ]\n})\nexport class TenantModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, OnInit } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { PageComponent } from '@shared/components/page.component';\nimport { Router } from '@angular/router';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { SecuritySettings } from '@shared/models/settings.models';\nimport { AdminService } from '@core/http/admin.service';\nimport { HasConfirmForm } from '@core/guards/confirm-on-exit.guard';\n\n@Component({\n  selector: 'tb-security-settings',\n  templateUrl: './security-settings.component.html',\n  styleUrls: ['./security-settings.component.scss', './settings-card.scss']\n})\nexport class SecuritySettingsComponent extends PageComponent implements OnInit, HasConfirmForm {\n\n  securitySettingsFormGroup: FormGroup;\n  securitySettings: SecuritySettings;\n\n  constructor(protected store: Store<AppState>,\n              private router: Router,\n              private adminService: AdminService,\n              public fb: FormBuilder) {\n    super(store);\n  }\n\n  ngOnInit() {\n    this.buildSecuritySettingsForm();\n    this.adminService.getSecuritySettings().subscribe(\n      (securitySettings) => {\n        this.securitySettings = securitySettings;\n        this.securitySettingsFormGroup.reset(this.securitySettings);\n      }\n    );\n  }\n\n  buildSecuritySettingsForm() {\n    this.securitySettingsFormGroup = this.fb.group({\n      maxFailedLoginAttempts: [null, [Validators.min(0)]],\n      userLockoutNotificationEmail: ['', []],\n      passwordPolicy: this.fb.group(\n        {\n          minimumLength: [null, [Validators.required, Validators.min(5), Validators.max(50)]],\n          minimumUppercaseLetters: [null, Validators.min(0)],\n          minimumLowercaseLetters: [null, Validators.min(0)],\n          minimumDigits: [null, Validators.min(0)],\n          minimumSpecialCharacters: [null, Validators.min(0)],\n          passwordExpirationPeriodDays: [null, Validators.min(0)],\n          passwordReuseFrequencyDays: [null, Validators.min(0)]\n        }\n      )\n    });\n  }\n\n  save(): void {\n    this.securitySettings = {...this.securitySettings, ...this.securitySettingsFormGroup.value};\n    this.adminService.saveSecuritySettings(this.securitySettings).subscribe(\n      (securitySettings) => {\n        this.securitySettings = securitySettings;\n        this.securitySettingsFormGroup.reset(this.securitySettings);\n      }\n    );\n  }\n\n  confirmForm(): FormGroup {\n    return this.securitySettingsFormGroup;\n  }\n\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div>\n  <mat-card class=\"settings-card\">\n    <mat-card-title>\n      <div fxLayout=\"row\">\n        <span class=\"mat-headline\" translate>admin.security-settings</span>\n        <span fxFlex></span>\n        <div tb-help=\"securitySettings\"></div>\n      </div>\n    </mat-card-title>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <mat-card-content style=\"padding-top: 16px;\">\n      <form [formGroup]=\"securitySettingsFormGroup\" (ngSubmit)=\"save()\" autocomplete=\"off\">\n        <fieldset [disabled]=\"isLoading$ | async\">\n          <div class=\"mat-accordion-container\">\n            <mat-accordion multi=\"true\">\n              <mat-expansion-panel [expanded]=\"true\">\n                <mat-expansion-panel-header>\n                  <mat-panel-title>\n                    <div class=\"tb-panel-title\" translate>admin.general-policy</div>\n                  </mat-panel-title>\n                </mat-expansion-panel-header>\n                <mat-form-field class=\"mat-block\">\n                  <mat-label translate>admin.max-failed-login-attempts</mat-label>\n                  <input matInput type=\"number\"\n                         formControlName=\"maxFailedLoginAttempts\"\n                         step=\"1\"\n                         min=\"0\"/>\n                  <mat-error *ngIf=\"securitySettingsFormGroup.get('maxFailedLoginAttempts').hasError('min')\">\n                    {{ 'admin.minimum-max-failed-login-attempts-range' | translate }}\n                  </mat-error>\n                </mat-form-field>\n                <mat-form-field class=\"mat-block\">\n                  <mat-label translate>admin.user-lockout-notification-email</mat-label>\n                  <input matInput type=\"email\"\n                         formControlName=\"userLockoutNotificationEmail\"/>\n                </mat-form-field>\n              </mat-expansion-panel>\n              <mat-expansion-panel [expanded]=\"true\">\n                <mat-expansion-panel-header>\n                  <mat-panel-title>\n                    <div class=\"tb-panel-title\" translate>admin.password-policy</div>\n                  </mat-panel-title>\n                </mat-expansion-panel-header>\n                <section formGroupName=\"passwordPolicy\">\n                  <mat-form-field class=\"mat-block\">\n                    <mat-label translate>admin.minimum-password-length</mat-label>\n                    <input matInput type=\"number\"\n                           formControlName=\"minimumLength\"\n                           step=\"1\"\n                           min=\"5\"\n                           max=\"50\"\n                           required/>\n                    <mat-error *ngIf=\"securitySettingsFormGroup.get('passwordPolicy.minimumLength').hasError('required')\">\n                      {{ 'admin.minimum-password-length-required' | translate }}\n                    </mat-error>\n                    <mat-error *ngIf=\"securitySettingsFormGroup.get('passwordPolicy.minimumLength').hasError('min')\">\n                      {{ 'admin.minimum-password-length-range' | translate }}\n                    </mat-error>\n                    <mat-error *ngIf=\"securitySettingsFormGroup.get('passwordPolicy.minimumLength').hasError('max')\">\n                      {{ 'admin.minimum-password-length-range' | translate }}\n                    </mat-error>\n                  </mat-form-field>\n                  <mat-form-field class=\"mat-block\">\n                    <mat-label translate>admin.minimum-uppercase-letters</mat-label>\n                    <input matInput type=\"number\"\n                           formControlName=\"minimumUppercaseLetters\"\n                           step=\"1\"\n                           min=\"0\"/>\n                    <mat-error *ngIf=\"securitySettingsFormGroup.get('passwordPolicy.minimumUppercaseLetters').hasError('min')\">\n                      {{ 'admin.minimum-uppercase-letters-range' | translate }}\n                    </mat-error>\n                  </mat-form-field>\n                  <mat-form-field class=\"mat-block\">\n                    <mat-label translate>admin.minimum-lowercase-letters</mat-label>\n                    <input matInput type=\"number\"\n                           formControlName=\"minimumLowercaseLetters\"\n                           step=\"1\"\n                           min=\"0\"/>\n                    <mat-error *ngIf=\"securitySettingsFormGroup.get('passwordPolicy.minimumLowercaseLetters').hasError('min')\">\n                      {{ 'admin.minimum-lowercase-letters-range' | translate }}\n                    </mat-error>\n                  </mat-form-field>\n                  <mat-form-field class=\"mat-block\">\n                    <mat-label translate>admin.minimum-digits</mat-label>\n                    <input matInput type=\"number\"\n                           formControlName=\"minimumDigits\"\n                           step=\"1\"\n                           min=\"0\"/>\n                    <mat-error *ngIf=\"securitySettingsFormGroup.get('passwordPolicy.minimumDigits').hasError('min')\">\n                      {{ 'admin.minimum-digits-range' | translate }}\n                    </mat-error>\n                  </mat-form-field>\n                  <mat-form-field class=\"mat-block\">\n                    <mat-label translate>admin.minimum-special-characters</mat-label>\n                    <input matInput type=\"number\"\n                           formControlName=\"minimumSpecialCharacters\"\n                           step=\"1\"\n                           min=\"0\"/>\n                    <mat-error *ngIf=\"securitySettingsFormGroup.get('passwordPolicy.minimumSpecialCharacters').hasError('min')\">\n                      {{ 'admin.minimum-special-characters-range' | translate }}\n                    </mat-error>\n                  </mat-form-field>\n                  <mat-form-field class=\"mat-block\">\n                    <mat-label translate>admin.password-expiration-period-days</mat-label>\n                    <input matInput type=\"number\"\n                           formControlName=\"passwordExpirationPeriodDays\"\n                           step=\"1\"\n                           min=\"0\"/>\n                    <mat-error *ngIf=\"securitySettingsFormGroup.get('passwordPolicy.passwordExpirationPeriodDays').hasError('min')\">\n                      {{ 'admin.password-expiration-period-days-range' | translate }}\n                    </mat-error>\n                  </mat-form-field>\n                  <mat-form-field class=\"mat-block\">\n                    <mat-label translate>admin.password-reuse-frequency-days</mat-label>\n                    <input matInput type=\"number\"\n                           formControlName=\"passwordReuseFrequencyDays\"\n                           step=\"1\"\n                           min=\"0\"/>\n                    <mat-error *ngIf=\"securitySettingsFormGroup.get('passwordPolicy.passwordReuseFrequencyDays').hasError('min')\">\n                      {{ 'admin.password-reuse-frequency-days-range' | translate }}\n                    </mat-error>\n                  </mat-form-field>\n                </section>\n              </mat-expansion-panel>\n            </mat-accordion>\n          </div>\n          <div fxLayout=\"row\" fxLayoutAlign=\"end center\" style=\"width: 100%;\" class=\"layout-wrap\">\n            <button mat-button mat-raised-button color=\"primary\" [disabled]=\"(isLoading$ | async) || securitySettingsFormGroup.invalid || !securitySettingsFormGroup.dirty\"\n                    type=\"submit\">{{'action.save' | translate}}\n            </button>\n          </div>\n        </fieldset>\n      </form>\n    </mat-card-content>\n  </mat-card>\n</div>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { PageComponent } from '@shared/components/page.component';\nimport { Router } from '@angular/router';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { AdminSettings, MailServerSettings, smtpPortPattern } from '@shared/models/settings.models';\nimport { AdminService } from '@core/http/admin.service';\nimport { ActionNotificationShow } from '@core/notification/notification.actions';\nimport { TranslateService } from '@ngx-translate/core';\nimport { HasConfirmForm } from '@core/guards/confirm-on-exit.guard';\nimport { isDefinedAndNotNull, isString } from '@core/utils';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n  selector: 'tb-mail-server',\n  templateUrl: './mail-server.component.html',\n  styleUrls: ['./mail-server.component.scss', './settings-card.scss']\n})\nexport class MailServerComponent extends PageComponent implements OnInit, OnDestroy, HasConfirmForm {\n\n  mailSettings: FormGroup;\n  adminSettings: AdminSettings<MailServerSettings>;\n  smtpProtocols = ['smtp', 'smtps'];\n  showChangePassword = false;\n\n  tlsVersions = ['TLSv1', 'TLSv1.1', 'TLSv1.2', 'TLSv1.3'];\n\n  private destroy$ = new Subject();\n\n  constructor(protected store: Store<AppState>,\n              private router: Router,\n              private adminService: AdminService,\n              private translate: TranslateService,\n              public fb: FormBuilder) {\n    super(store);\n  }\n\n  ngOnInit() {\n    this.buildMailServerSettingsForm();\n    this.adminService.getAdminSettings<MailServerSettings>('mail').subscribe(\n      (adminSettings) => {\n        this.adminSettings = adminSettings;\n        if (this.adminSettings.jsonValue && isString(this.adminSettings.jsonValue.enableTls)) {\n          this.adminSettings.jsonValue.enableTls = (this.adminSettings.jsonValue.enableTls as any) === 'true';\n        }\n        this.showChangePassword =\n          isDefinedAndNotNull(this.adminSettings.jsonValue.showChangePassword) ? this.adminSettings.jsonValue.showChangePassword : true ;\n        delete this.adminSettings.jsonValue.showChangePassword;\n        this.mailSettings.reset(this.adminSettings.jsonValue);\n        this.enableMailPassword(!this.showChangePassword);\n        this.enableProxyChanged();\n      }\n    );\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n    super.ngOnDestroy();\n  }\n\n  buildMailServerSettingsForm() {\n    this.mailSettings = this.fb.group({\n      mailFrom: ['', [Validators.required]],\n      smtpProtocol: ['smtp'],\n      smtpHost: ['localhost', [Validators.required]],\n      smtpPort: ['25', [Validators.required,\n        Validators.pattern(smtpPortPattern),\n        Validators.maxLength(5)]],\n      timeout: ['10000', [Validators.required,\n        Validators.pattern(/^[0-9]{1,6}$/),\n        Validators.maxLength(6)]],\n      enableTls: [false],\n      tlsVersion: [],\n      enableProxy: [false, []],\n      proxyHost: ['', [Validators.required]],\n      proxyPort: ['', [Validators.required, Validators.min(1), Validators.max(65535)]],\n      proxyUser: [''],\n      proxyPassword: [''],\n      username: [''],\n      changePassword: [false],\n      password: ['']\n    });\n    this.registerDisableOnLoadFormControl(this.mailSettings.get('smtpProtocol'));\n    this.registerDisableOnLoadFormControl(this.mailSettings.get('enableTls'));\n    this.registerDisableOnLoadFormControl(this.mailSettings.get('enableProxy'));\n    this.registerDisableOnLoadFormControl(this.mailSettings.get('changePassword'));\n    this.mailSettings.get('enableProxy').valueChanges.pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(() => {\n      this.enableProxyChanged();\n    });\n    this.mailSettings.get('changePassword').valueChanges.pipe(\n      takeUntil(this.destroy$)\n    ).subscribe((value) => {\n      this.enableMailPassword(value);\n    });\n  }\n\n  enableProxyChanged(): void {\n    const enableProxy: boolean = this.mailSettings.get('enableProxy').value;\n    if (enableProxy) {\n      this.mailSettings.get('proxyHost').enable();\n      this.mailSettings.get('proxyPort').enable();\n    } else {\n      this.mailSettings.get('proxyHost').disable();\n      this.mailSettings.get('proxyPort').disable();\n    }\n  }\n\n  enableMailPassword(enable: boolean) {\n    if (enable) {\n      this.mailSettings.get('password').enable({emitEvent: false});\n    } else {\n      this.mailSettings.get('password').disable({emitEvent: false});\n    }\n  }\n\n  sendTestMail(): void {\n    this.adminSettings.jsonValue = {...this.adminSettings.jsonValue, ...this.mailSettingsFormValue};\n    this.adminService.sendTestMail(this.adminSettings).subscribe(\n      () => {\n        this.store.dispatch(new ActionNotificationShow({ message: this.translate.instant('admin.test-mail-sent'),\n          type: 'success' }));\n      }\n    );\n  }\n\n  save(): void {\n    this.adminSettings.jsonValue = {...this.adminSettings.jsonValue, ...this.mailSettingsFormValue};\n    this.adminService.saveAdminSettings(this.adminSettings).subscribe(\n      (adminSettings) => {\n        this.adminSettings = adminSettings;\n        this.showChangePassword = true;\n        this.mailSettings.reset(this.adminSettings.jsonValue);\n      }\n    );\n  }\n\n  confirmForm(): FormGroup {\n    return this.mailSettings;\n  }\n\n  private get mailSettingsFormValue(): MailServerSettings {\n    const formValue = this.mailSettings.value;\n    delete formValue.changePassword;\n    return formValue;\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div>\n  <mat-card class=\"settings-card\">\n    <mat-card-title>\n      <div fxLayout=\"row\">\n        <span class=\"mat-headline\" translate>admin.outgoing-mail-settings</span>\n        <span fxFlex></span>\n        <div tb-help=\"outgoingMailSettings\"></div>\n      </div>\n    </mat-card-title>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <mat-card-content style=\"padding-top: 16px;\">\n      <form [formGroup]=\"mailSettings\" (ngSubmit)=\"save()\">\n        <fieldset [disabled]=\"isLoading$ | async\">\n          <mat-form-field class=\"mat-block\">\n            <mat-label translate>admin.mail-from</mat-label>\n            <input matInput formControlName=\"mailFrom\" required/>\n            <mat-error *ngIf=\"mailSettings.get('mailFrom').hasError('required')\">\n              {{ 'admin.mail-from-required' | translate }}\n            </mat-error>\n          </mat-form-field>\n          <mat-form-field class=\"mat-block\">\n            <mat-label translate>admin.smtp-protocol</mat-label>\n            <mat-select formControlName=\"smtpProtocol\">\n              <mat-option *ngFor=\"let protocol of smtpProtocols\" [value]=\"protocol\">\n                {{protocol.toUpperCase()}}\n              </mat-option>\n            </mat-select>\n          </mat-form-field>\n          <div fxLayout.gt-sm=\"row\" fxLayoutGap.gt-sm=\"10px\">\n            <mat-form-field class=\"mat-block\" fxFlex=\"100\" fxFlex.gt-sm=\"60\">\n              <mat-label translate>admin.smtp-host</mat-label>\n              <input matInput formControlName=\"smtpHost\" placeholder=\"localhost\" required/>\n              <mat-error *ngIf=\"mailSettings.get('smtpHost').hasError('required')\">\n                {{ 'admin.smtp-host-required' | translate }}\n              </mat-error>\n            </mat-form-field>\n            <mat-form-field class=\"mat-block\" fxFlex=\"100\" fxFlex.gt-sm=\"40\">\n              <mat-label translate>admin.smtp-port</mat-label>\n              <input matInput #smtpPortInput formControlName=\"smtpPort\" placeholder=\"25\" maxlength=\"5\" required/>\n              <mat-hint align=\"end\">{{smtpPortInput.value?.length || 0}}/5</mat-hint>\n              <mat-error *ngIf=\"mailSettings.get('smtpPort').hasError('required')\">\n                {{ 'admin.smtp-port-required' | translate }}\n              </mat-error>\n              <mat-error *ngIf=\"mailSettings.get('smtpPort').hasError('pattern') || mailSettings.get('smtpPort').hasError('maxlength')\">\n                {{ 'admin.smtp-port-invalid' | translate }}\n              </mat-error>\n            </mat-form-field>\n          </div>\n          <mat-form-field class=\"mat-block\">\n            <mat-label translate>admin.timeout-msec</mat-label>\n            <input matInput #timeoutInput formControlName=\"timeout\" placeholder=\"10000\" maxlength=\"6\" required/>\n            <mat-hint align=\"end\">{{timeoutInput.value?.length || 0}}/6</mat-hint>\n            <mat-error *ngIf=\"mailSettings.get('timeout').hasError('required')\">\n              {{ 'admin.timeout-required' | translate }}\n            </mat-error>\n            <mat-error *ngIf=\"mailSettings.get('timeout').hasError('pattern') || mailSettings.get('timeout').hasError('maxlength')\">\n              {{ 'admin.timeout-invalid' | translate }}\n            </mat-error>\n          </mat-form-field>\n          <tb-checkbox formControlName=\"enableTls\" style=\"display: block; padding-bottom: 16px;\">\n            {{ 'admin.enable-tls' | translate }}\n          </tb-checkbox>\n          <mat-form-field class=\"mat-block\" *ngIf=\"mailSettings.get('enableTls').value\">\n            <mat-label translate>admin.tls-version</mat-label>\n            <mat-select formControlName=\"tlsVersion\">\n              <mat-option *ngFor=\"let tlsVersion of tlsVersions\" [value]=\"tlsVersion\">\n                {{ tlsVersion }}\n              </mat-option>\n            </mat-select>\n          </mat-form-field>\n          <tb-checkbox formControlName=\"enableProxy\" style=\"display: block; padding-bottom: 16px;\">\n            {{ 'admin.enable-proxy' | translate }}\n          </tb-checkbox>\n          <div *ngIf=\"mailSettings.get('enableProxy').value\">\n            <div fxLayout.gt-sm=\"row\" fxLayoutGap.gt-sm=\"8px\">\n              <mat-form-field class=\"mat-block\" fxFlex=\"100\" fxFlex.gt-sm=\"60\">\n                <mat-label translate>admin.proxy-host</mat-label>\n                <input matInput required formControlName=\"proxyHost\">\n                <mat-error *ngIf=\"mailSettings.get('proxyHost').hasError('required')\">\n                  {{ 'admin.proxy-host-required' | translate }}\n                </mat-error>\n              </mat-form-field>\n              <mat-form-field class=\"mat-block\" fxFlex=\"100\" fxFlex.gt-sm=\"40\">\n                <mat-label translate>admin.proxy-port</mat-label>\n                <input matInput required formControlName=\"proxyPort\" type=\"number\" step=\"1\" min=\"1\" max=\"65535\">\n                <mat-error *ngIf=\"mailSettings.get('proxyPort').hasError('required')\">\n                  {{ 'admin.proxy-port-required' | translate }}\n                </mat-error>\n                <mat-error *ngIf=\"mailSettings.get('proxyPort').hasError('pattern')\n              || mailSettings.get('proxyPort').hasError('min')\n              || mailSettings.get('proxyPort').hasError('max')\">\n                  {{ 'admin.proxy-port-range' | translate }}\n                </mat-error>\n              </mat-form-field>\n            </div>\n            <mat-form-field class=\"mat-block\">\n              <mat-label translate>admin.proxy-user</mat-label>\n              <input matInput formControlName=\"proxyUser\">\n            </mat-form-field>\n            <mat-form-field class=\"mat-block\">\n              <mat-label translate>admin.proxy-password</mat-label>\n              <input matInput type=\"password\" formControlName=\"proxyPassword\" autocomplete=\"new-proxy-password\">\n              <tb-toggle-password matSuffix></tb-toggle-password>\n            </mat-form-field>\n          </div>\n          <mat-form-field class=\"mat-block\">\n            <mat-label translate>common.username</mat-label>\n            <input matInput formControlName=\"username\" placeholder=\"{{ 'common.enter-username' | translate }}\"\n                   autocomplete=\"new-username\"/>\n          </mat-form-field>\n          <mat-checkbox *ngIf=\"showChangePassword\" formControlName=\"changePassword\" style=\"padding-bottom: 16px;\">\n            {{ 'admin.change-password' | translate }}\n          </mat-checkbox>\n          <mat-form-field class=\"mat-block\" *ngIf=\"mailSettings.get('changePassword').value || !showChangePassword\">\n            <mat-label translate>common.password</mat-label>\n            <input matInput formControlName=\"password\" type=\"password\"\n                   placeholder=\"{{ 'common.enter-password' | translate }}\" autocomplete=\"new-password\"/>\n            <tb-toggle-password matSuffix></tb-toggle-password>\n          </mat-form-field>\n          <div fxLayout=\"row\" fxLayoutAlign=\"end center\" fxLayout.xs=\"column\" fxLayoutAlign.xs=\"end\" fxLayoutGap=\"16px\">\n            <button mat-raised-button type=\"button\"\n                    [disabled]=\"(isLoading$ | async) || mailSettings.invalid\" (click)=\"sendTestMail()\">\n              {{'admin.send-test-mail' | translate}}\n            </button>\n            <button mat-raised-button color=\"primary\" [disabled]=\"(isLoading$ | async) || mailSettings.invalid || !mailSettings.dirty\"\n                    type=\"submit\">{{'action.save' | translate}}\n            </button>\n          </div>\n        </fieldset>\n      </form>\n    </mat-card-content>\n  </mat-card>\n</div>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Injectable } from '@angular/core';\nimport { Resolve } from '@angular/router';\nimport {\n  checkBoxCell,\n  DateEntityTableColumn,\n  EntityTableColumn,\n  EntityTableConfig,\n  HeaderActionDescriptor\n} from '@home/models/entity/entities-table-config.models';\nimport { TranslateService } from '@ngx-translate/core';\nimport { DatePipe } from '@angular/common';\nimport { EntityType, entityTypeResources, entityTypeTranslations } from '@shared/models/entity-type.models';\nimport { EntityAction } from '@home/models/entity/entity-component.models';\nimport { DialogService } from '@core/services/dialog.service';\nimport {\n  DeviceProfile,\n  deviceProfileTypeTranslationMap,\n  deviceTransportTypeTranslationMap\n} from '@shared/models/device.models';\nimport { DeviceProfileService } from '@core/http/device-profile.service';\nimport { DeviceProfileComponent } from '@home/components/profile/device-profile.component';\nimport { DeviceProfileTabsComponent } from './device-profile-tabs.component';\nimport { MatDialog } from '@angular/material/dialog';\nimport {\n  AddDeviceProfileDialogComponent,\n  AddDeviceProfileDialogData\n} from '@home/components/profile/add-device-profile-dialog.component';\nimport { ImportExportService } from '@home/components/import-export/import-export.service';\n\n@Injectable()\nexport class DeviceProfilesTableConfigResolver implements Resolve<EntityTableConfig<DeviceProfile>> {\n\n  private readonly config: EntityTableConfig<DeviceProfile> = new EntityTableConfig<DeviceProfile>();\n\n  constructor(private deviceProfileService: DeviceProfileService,\n              private importExport: ImportExportService,\n              private translate: TranslateService,\n              private datePipe: DatePipe,\n              private dialogService: DialogService,\n              private dialog: MatDialog) {\n\n    this.config.entityType = EntityType.DEVICE_PROFILE;\n    this.config.entityComponent = DeviceProfileComponent;\n    this.config.entityTabsComponent = DeviceProfileTabsComponent;\n    this.config.entityTranslations = entityTypeTranslations.get(EntityType.DEVICE_PROFILE);\n    this.config.entityResources = entityTypeResources.get(EntityType.DEVICE_PROFILE);\n\n    this.config.hideDetailsTabsOnEdit = false;\n\n    this.config.addDialogStyle = {width: '1000px'};\n\n    this.config.columns.push(\n      new DateEntityTableColumn<DeviceProfile>('createdTime', 'common.created-time', this.datePipe, '150px'),\n      new EntityTableColumn<DeviceProfile>('name', 'device-profile.name', '20%'),\n      new EntityTableColumn<DeviceProfile>('type', 'device-profile.type', '20%', (deviceProfile) => {\n        return this.translate.instant(deviceProfileTypeTranslationMap.get(deviceProfile.type));\n      }),\n      new EntityTableColumn<DeviceProfile>('transportType', 'device-profile.transport-type', '20%', (deviceProfile) => {\n        return this.translate.instant(deviceTransportTypeTranslationMap.get(deviceProfile.transportType));\n      }),\n      new EntityTableColumn<DeviceProfile>('description', 'device-profile.description', '40%'),\n      new EntityTableColumn<DeviceProfile>('isDefault', 'device-profile.default', '60px',\n        entity => {\n          return checkBoxCell(entity.default);\n        })\n    );\n\n    this.config.cellActionDescriptors.push(\n      {\n        name: this.translate.instant('device-profile.export'),\n        icon: 'file_download',\n        isEnabled: () => true,\n        onAction: ($event, entity) => this.exportDeviceProfile($event, entity)\n      },\n      {\n        name: this.translate.instant('device-profile.set-default'),\n        icon: 'flag',\n        isEnabled: (deviceProfile) => !deviceProfile.default,\n        onAction: ($event, entity) => this.setDefaultDeviceProfile($event, entity)\n      }\n    );\n\n    this.config.deleteEntityTitle = deviceProfile => this.translate.instant('device-profile.delete-device-profile-title',\n      { deviceProfileName: deviceProfile.name });\n    this.config.deleteEntityContent = () => this.translate.instant('device-profile.delete-device-profile-text');\n    this.config.deleteEntitiesTitle = count => this.translate.instant('device-profile.delete-device-profiles-title', {count});\n    this.config.deleteEntitiesContent = () => this.translate.instant('device-profile.delete-device-profiles-text');\n\n    this.config.entitiesFetchFunction = pageLink => this.deviceProfileService.getDeviceProfiles(pageLink);\n    this.config.loadEntity = id => this.deviceProfileService.getDeviceProfile(id.id);\n    this.config.saveEntity = (deviceProfile, originDeviceProfile) =>\n      this.deviceProfileService.saveDeviceProfileAndConfirmOtaChange(originDeviceProfile, deviceProfile);\n    this.config.deleteEntity = id => this.deviceProfileService.deleteDeviceProfile(id.id);\n    this.config.onEntityAction = action => this.onDeviceProfileAction(action);\n    this.config.deleteEnabled = (deviceProfile) => deviceProfile && !deviceProfile.default;\n    this.config.entitySelectionEnabled = (deviceProfile) => deviceProfile && !deviceProfile.default;\n    this.config.addActionDescriptors = this.configureAddActions();\n  }\n\n  resolve(): EntityTableConfig<DeviceProfile> {\n    this.config.tableTitle = this.translate.instant('device-profile.device-profiles');\n\n    return this.config;\n  }\n\n  configureAddActions(): Array<HeaderActionDescriptor> {\n    const actions: Array<HeaderActionDescriptor> = [];\n    actions.push(\n      {\n        name: this.translate.instant('device-profile.create-device-profile'),\n        icon: 'insert_drive_file',\n        isEnabled: () => true,\n        onAction: () => this.addDeviceProfile()\n      },\n      {\n        name: this.translate.instant('device-profile.import'),\n        icon: 'file_upload',\n        isEnabled: () => true,\n        onAction: ($event) => this.importDeviceProfile($event)\n      }\n    );\n    return actions;\n  }\n\n  addDeviceProfile() {\n    this.dialog.open<AddDeviceProfileDialogComponent, AddDeviceProfileDialogData,\n      DeviceProfile>(AddDeviceProfileDialogComponent, {\n      disableClose: true,\n      panelClass: ['tb-dialog', 'tb-fullscreen-dialog'],\n      data: {\n        deviceProfileName: null,\n        transportType: null\n      }\n    }).afterClosed().subscribe(\n      (res) => {\n        if (res) {\n          this.config.table.updateData();\n        }\n      }\n    );\n  }\n\n  setDefaultDeviceProfile($event: Event, deviceProfile: DeviceProfile) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialogService.confirm(\n      this.translate.instant('device-profile.set-default-device-profile-title', {deviceProfileName: deviceProfile.name}),\n      this.translate.instant('device-profile.set-default-device-profile-text'),\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n        if (res) {\n          this.deviceProfileService.setDefaultDeviceProfile(deviceProfile.id.id).subscribe(\n            () => {\n              this.config.table.updateData();\n            }\n          );\n        }\n      }\n    );\n  }\n\n  importDeviceProfile($event: Event) {\n    this.importExport.importDeviceProfile().subscribe(\n      (deviceProfile) => {\n        if (deviceProfile) {\n          this.config.table.updateData();\n        }\n      }\n    );\n  }\n\n  exportDeviceProfile($event: Event, deviceProfile: DeviceProfile) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.importExport.exportDeviceProfile(deviceProfile.id.id);\n  }\n\n  onDeviceProfileAction(action: EntityAction<DeviceProfile>): boolean {\n    switch (action.action) {\n      case 'setDefault':\n        this.setDefaultDeviceProfile(action.event, action.entity);\n        return true;\n      case 'export':\n        this.exportDeviceProfile(action.event, action.entity);\n        return true;\n    }\n    return false;\n  }\n\n}\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from '@shared/shared.module';\nimport { HomeComponentsModule } from '@modules/home/components/home-components.module';\nimport { TenantProfileRoutingModule } from './tenant-profile-routing.module';\nimport { TenantProfileTabsComponent } from './tenant-profile-tabs.component';\n\n@NgModule({\n  declarations: [\n    TenantProfileTabsComponent\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    HomeComponentsModule,\n    TenantProfileRoutingModule\n  ]\n})\nexport class TenantProfileModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport {\n  AfterViewInit,\n  Component,\n  ComponentRef,\n  forwardRef,\n  Input,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n  ViewContainerRef\n} from '@angular/core';\nimport { ControlValueAccessor, FormBuilder, FormGroup, NG_VALUE_ACCESSOR, Validators } from '@angular/forms';\nimport {\n  IRuleNodeConfigurationComponent,\n  RuleNodeConfiguration,\n  RuleNodeDefinition\n} from '@shared/models/rule-node.models';\nimport { Subscription } from 'rxjs';\nimport { RuleChainService } from '@core/http/rule-chain.service';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { TranslateService } from '@ngx-translate/core';\nimport { JsonObjectEditComponent } from '@shared/components/json-object-edit.component';\nimport { deepClone } from '@core/utils';\n\n@Component({\n  selector: 'tb-rule-node-config',\n  templateUrl: './rule-node-config.component.html',\n  styleUrls: ['./rule-node-config.component.scss'],\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => RuleNodeConfigComponent),\n    multi: true\n  }]\n})\nexport class RuleNodeConfigComponent implements ControlValueAccessor, OnInit, OnDestroy, AfterViewInit {\n\n  @ViewChild('definedConfigContent', {read: ViewContainerRef, static: true}) definedConfigContainer: ViewContainerRef;\n\n  @ViewChild('jsonObjectEditComponent') jsonObjectEditComponent: JsonObjectEditComponent;\n\n  private requiredValue: boolean;\n  get required(): boolean {\n    return this.requiredValue;\n  }\n  @Input()\n  set required(value: boolean) {\n    this.requiredValue = coerceBooleanProperty(value);\n  }\n\n  @Input()\n  disabled: boolean;\n\n  @Input()\n  ruleNodeId: string;\n\n  nodeDefinitionValue: RuleNodeDefinition;\n\n  @Input()\n  set nodeDefinition(nodeDefinition: RuleNodeDefinition) {\n    if (this.nodeDefinitionValue !== nodeDefinition) {\n      this.nodeDefinitionValue = nodeDefinition;\n      if (this.nodeDefinitionValue) {\n        this.validateDefinedDirective();\n      }\n    }\n  }\n\n  get nodeDefinition(): RuleNodeDefinition {\n    return this.nodeDefinitionValue;\n  }\n\n  definedDirectiveError: string;\n\n  ruleNodeConfigFormGroup: FormGroup;\n\n  changeSubscription: Subscription;\n\n  private definedConfigComponentRef: ComponentRef<IRuleNodeConfigurationComponent>;\n  private definedConfigComponent: IRuleNodeConfigurationComponent;\n\n  private configuration: RuleNodeConfiguration;\n\n  private propagateChange = (v: any) => { };\n\n  constructor(private translate: TranslateService,\n              private ruleChainService: RuleChainService,\n              private fb: FormBuilder) {\n    this.ruleNodeConfigFormGroup = this.fb.group({\n      configuration: [null, Validators.required]\n    });\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  ngOnInit(): void {\n  }\n\n  ngOnDestroy(): void {\n    if (this.definedConfigComponentRef) {\n      this.definedConfigComponentRef.destroy();\n    }\n  }\n\n  ngAfterViewInit(): void {\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n    if (this.disabled) {\n      this.ruleNodeConfigFormGroup.disable({emitEvent: false});\n    } else {\n      this.ruleNodeConfigFormGroup.enable({emitEvent: false});\n    }\n  }\n\n  writeValue(value: RuleNodeConfiguration): void {\n    this.configuration = deepClone(value);\n    if (this.changeSubscription) {\n      this.changeSubscription.unsubscribe();\n      this.changeSubscription = null;\n    }\n    if (this.definedConfigComponent) {\n      this.definedConfigComponent.configuration = this.configuration;\n      this.changeSubscription = this.definedConfigComponent.configurationChanged.subscribe((configuration) => {\n        this.updateModel(configuration);\n      });\n    } else {\n      this.ruleNodeConfigFormGroup.get('configuration').patchValue(this.configuration, {emitEvent: false});\n      this.changeSubscription = this.ruleNodeConfigFormGroup.get('configuration').valueChanges.subscribe(\n        (configuration: RuleNodeConfiguration) => {\n          this.updateModel(configuration);\n        }\n      );\n    }\n  }\n\n  useDefinedDirective(): boolean {\n    return this.nodeDefinition &&\n      (this.nodeDefinition.configDirective &&\n       this.nodeDefinition.configDirective.length) && !this.definedDirectiveError;\n  }\n\n  private updateModel(configuration: RuleNodeConfiguration) {\n    if (this.definedConfigComponent || this.ruleNodeConfigFormGroup.valid) {\n      this.propagateChange(configuration);\n    } else {\n      this.propagateChange(this.required ? null : configuration);\n    }\n  }\n\n  private validateDefinedDirective() {\n    if (this.definedConfigComponentRef) {\n      this.definedConfigComponentRef.destroy();\n      this.definedConfigComponentRef = null;\n    }\n    if (this.nodeDefinition.uiResourceLoadError && this.nodeDefinition.uiResourceLoadError.length) {\n      this.definedDirectiveError = this.nodeDefinition.uiResourceLoadError;\n    } else if (this.nodeDefinition.configDirective && this.nodeDefinition.configDirective.length) {\n      if (this.changeSubscription) {\n        this.changeSubscription.unsubscribe();\n        this.changeSubscription = null;\n      }\n      this.definedConfigContainer.clear();\n      const factory = this.ruleChainService.getRuleNodeConfigFactory(this.nodeDefinition.configDirective);\n      this.definedConfigComponentRef = this.definedConfigContainer.createComponent(factory);\n      this.definedConfigComponent = this.definedConfigComponentRef.instance;\n      this.definedConfigComponent.ruleNodeId = this.ruleNodeId;\n      this.definedConfigComponent.configuration = this.configuration;\n      this.changeSubscription = this.definedConfigComponent.configurationChanged.subscribe((configuration) => {\n        this.updateModel(configuration);\n      });\n    }\n  }\n\n  validate() {\n    if (this.useDefinedDirective()) {\n      this.definedConfigComponent.validate();\n    }\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div [formGroup]=\"ruleNodeConfigFormGroup\">\n  <ng-container #definedConfigContent></ng-container>\n  <div class=\"tb-rulenode-directive-error\" *ngIf=\"definedDirectiveError\">{{definedDirectiveError}}</div>\n  <tb-json-object-edit *ngIf=\"!useDefinedDirective()\" #jsonObjectEditComponent\n                       class=\"tb-rule-node-configuration-json\"\n                       formControlName=\"configuration\"\n                       [label]=\"'rulenode.configuration' | translate\"\n                       [required]=\"required\"\n                       [fillHeight]=\"true\">\n  </tb-json-object-edit>\n</div>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Injectable, NgModule } from '@angular/core';\nimport { Resolve, RouterModule, Routes } from '@angular/router';\n\nimport { HomeLinksComponent } from './home-links.component';\nimport { Authority } from '@shared/models/authority.enum';\nimport { Observable } from 'rxjs';\nimport { HomeDashboard } from '@shared/models/dashboard.models';\nimport { DashboardService } from '@core/http/dashboard.service';\n\n@Injectable()\nexport class HomeDashboardResolver implements Resolve<HomeDashboard> {\n\n  constructor(private dashboardService: DashboardService) {\n  }\n\n  resolve(): Observable<HomeDashboard> {\n    return this.dashboardService.getHomeDashboard();\n  }\n}\n\nconst routes: Routes = [\n  {\n    path: 'home',\n    component: HomeLinksComponent,\n    data: {\n      auth: [Authority.SYS_ADMIN, Authority.TENANT_ADMIN, Authority.CUSTOMER_USER],\n      title: 'home.home',\n      breadcrumb: {\n        label: 'home.home',\n        icon: 'home'\n      }\n    },\n    resolve: {\n      homeDashboard: HomeDashboardResolver\n    }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n  providers: [\n    HomeDashboardResolver\n  ]\n})\nexport class HomeLinksRoutingModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { UsersTableConfigResolver } from '@modules/home/pages/user/users-table-config.resolver';\n\n@NgModule({\n  imports: [],\n  exports: [RouterModule],\n  providers: [\n    UsersTableConfigResolver\n  ]\n})\nexport class UserRoutingModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { FormBuilder, FormGroup, ValidatorFn, Validators } from '@angular/forms';\nimport { ContactBased } from '@shared/models/contact-based.model';\nimport { AfterViewInit, ChangeDetectorRef, Directive } from '@angular/core';\nimport { POSTAL_CODE_PATTERNS } from '@home/models/contact.models';\nimport { HasId } from '@shared/models/base-data';\nimport { EntityComponent } from './entity.component';\nimport { EntityTableConfig } from '@home/models/entity/entities-table-config.models';\n\n@Directive()\nexport abstract class ContactBasedComponent<T extends ContactBased<HasId>> extends EntityComponent<T> implements AfterViewInit {\n\n  protected constructor(protected store: Store<AppState>,\n                        protected fb: FormBuilder,\n                        protected entityValue: T,\n                        protected entitiesTableConfigValue: EntityTableConfig<T>,\n                        protected cd: ChangeDetectorRef) {\n    super(store, fb, entityValue, entitiesTableConfigValue, cd);\n  }\n\n  buildForm(entity: T): FormGroup {\n    const entityForm = this.buildEntityForm(entity);\n    entityForm.addControl('country', this.fb.control(entity ? entity.country : '', [Validators.maxLength(255)]));\n    entityForm.addControl('city', this.fb.control(entity ? entity.city : '', [Validators.maxLength(255)]));\n    entityForm.addControl('state', this.fb.control(entity ? entity.state : '', [Validators.maxLength(255)]));\n    entityForm.addControl('zip', this.fb.control(entity ? entity.zip : '',\n      this.zipValidators(entity ? entity.country : '')\n    ));\n    entityForm.addControl('address', this.fb.control(entity ? entity.address : '', []));\n    entityForm.addControl('address2', this.fb.control(entity ? entity.address2 : '', []));\n    entityForm.addControl('phone', this.fb.control(entity ? entity.phone : '', [Validators.maxLength(255)]));\n    entityForm.addControl('email', this.fb.control(entity ? entity.email : '', [Validators.email]));\n    return entityForm;\n  }\n\n  updateForm(entity: T) {\n    this.updateEntityForm(entity);\n    this.entityForm.patchValue({country: entity.country});\n    this.entityForm.patchValue({city: entity.city});\n    this.entityForm.patchValue({state: entity.state});\n    this.entityForm.get('zip').setValidators(this.zipValidators(entity.country));\n    this.entityForm.patchValue({zip: entity.zip});\n    this.entityForm.patchValue({address: entity.address});\n    this.entityForm.patchValue({address2: entity.address2});\n    this.entityForm.patchValue({phone: entity.phone});\n    this.entityForm.patchValue({email: entity.email});\n  }\n\n  ngAfterViewInit() {\n    this.entityForm.get('country').valueChanges.subscribe(\n      (country) => {\n        this.entityForm.get('zip').setValidators(this.zipValidators(country));\n        this.entityForm.get('zip').updateValueAndValidity({onlySelf: true});\n        this.entityForm.get('zip').markAsTouched({onlySelf: true});\n      }\n    );\n  }\n\n  zipValidators(country: string): ValidatorFn[] {\n    const zipValidators = [];\n    if (country && POSTAL_CODE_PATTERNS[country]) {\n      const postalCodePattern = POSTAL_CODE_PATTERNS[country];\n      zipValidators.push(Validators.pattern(postalCodePattern));\n    }\n    return zipValidators;\n  }\n\n  abstract buildEntityForm(entity: T): FormGroup;\n\n  abstract updateEntityForm(entity: T);\n\n}\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { EntityTabsComponent } from '../../components/entity/entity-tabs.component';\nimport {\n  DeviceProfile,\n  DeviceTransportType,\n  deviceTransportTypeHintMap,\n  deviceTransportTypeTranslationMap\n} from '@shared/models/device.models';\n\n@Component({\n  selector: 'tb-device-profile-tabs',\n  templateUrl: './device-profile-tabs.component.html',\n  styleUrls: []\n})\nexport class DeviceProfileTabsComponent extends EntityTabsComponent<DeviceProfile> {\n\n  deviceTransportTypes = Object.values(DeviceTransportType);\n\n  deviceTransportTypeTranslations = deviceTransportTypeTranslationMap;\n\n  deviceTransportTypeHints = deviceTransportTypeHintMap;\n\n  constructor(protected store: Store<AppState>) {\n    super(store);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n  }\n\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<mat-tab *ngIf=\"entity\" #transportType=\"matTab\"\n         label=\"{{ 'device-profile.transport-configuration' | translate }}\">\n  <div class=\"mat-padding\" [formGroup]=\"detailsForm\" *ngIf=\"transportType.isActive\">\n    <mat-form-field class=\"mat-block\">\n      <mat-label translate>device-profile.transport-type</mat-label>\n      <mat-select formControlName=\"transportType\" required>\n        <mat-option *ngFor=\"let type of deviceTransportTypes\" [value]=\"type\">\n          {{deviceTransportTypeTranslations.get(type) | translate}}\n        </mat-option>\n      </mat-select>\n      <mat-hint *ngIf=\"detailsForm.get('transportType').value\">\n        {{deviceTransportTypeHints.get(detailsForm.get('transportType').value) | translate}}\n      </mat-hint>\n      <mat-error *ngIf=\"detailsForm.get('transportType').hasError('required')\">\n        {{ 'device-profile.transport-type-required' | translate }}\n      </mat-error>\n    </mat-form-field>\n    <div formGroupName=\"profileData\">\n      <tb-device-profile-transport-configuration\n        formControlName=\"transportConfiguration\"\n        required>\n      </tb-device-profile-transport-configuration>\n    </div>\n  </div>\n</mat-tab>\n<mat-tab *ngIf=\"entity\" #alarmRules=\"matTab\"\n         label=\"{{'device-profile.alarm-rules-with-count' | translate:\n            {count: this.detailsForm.get('profileData.alarms').value?.length ? this.detailsForm.get('profileData.alarms').value.length : 0}\n          }}\">\n  <div class=\"mat-padding\" [formGroup]=\"detailsForm\" *ngIf=\"alarmRules.isActive\">\n    <div formGroupName=\"profileData\">\n      <tb-device-profile-alarms formControlName=\"alarms\" [deviceProfileId]=\"entity.id\"></tb-device-profile-alarms>\n    </div>\n  </div>\n</mat-tab>\n<mat-tab *ngIf=\"entity\" #deviceProvisioning=\"matTab\"\n         label=\"{{ 'device-profile.device-provisioning' | translate }}\">\n  <div class=\"mat-padding\" [formGroup]=\"detailsForm\" *ngIf=\"deviceProvisioning.isActive\">\n    <div formGroupName=\"profileData\">\n      <tb-device-profile-provision-configuration formControlName=\"provisionConfiguration\">\n      </tb-device-profile-provision-configuration>\n    </div>\n  </div>\n</mat-tab>\n<mat-tab *ngIf=\"false\"\n         label=\"{{'device-profile.profile-configuration' | translate }}\" #deviceProfile=\"matTab\">\n  <div class=\"mat-padding\" [formGroup]=\"detailsForm\">\n    <div formGroupName=\"profileData\">\n      <tb-device-profile-configuration\n        formControlName=\"configuration\"\n        required>\n      </tb-device-profile-configuration>\n    </div>\n  </div>\n</mat-tab>\n<mat-tab *ngIf=\"entity && !isEdit\" #auditLogsTab=\"matTab\"\n         label=\"{{ 'audit-log.audit-logs' | translate }}\">\n  <tb-audit-log-table detailsMode=\"true\" [active]=\"auditLogsTab.isActive\" [auditLogMode]=\"auditLogModes.ENTITY\" [entityId]=\"entity.id\"></tb-audit-log-table>\n</mat-tab>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AdminRoutingModule } from './admin-routing.module';\nimport { SharedModule } from '@app/shared/shared.module';\nimport { MailServerComponent } from '@modules/home/pages/admin/mail-server.component';\nimport { GeneralSettingsComponent } from '@modules/home/pages/admin/general-settings.component';\nimport { SecuritySettingsComponent } from '@modules/home/pages/admin/security-settings.component';\nimport { HomeComponentsModule } from '@modules/home/components/home-components.module';\nimport { OAuth2SettingsComponent } from '@modules/home/pages/admin/oauth2-settings.component';\nimport { SmsProviderComponent } from '@home/pages/admin/sms-provider.component';\nimport { SendTestSmsDialogComponent } from '@home/pages/admin/send-test-sms-dialog.component';\nimport { HomeSettingsComponent } from '@home/pages/admin/home-settings.component';\nimport { ResourcesLibraryComponent } from '@home/pages/admin/resource/resources-library.component';\n\n@NgModule({\n  declarations:\n    [\n      GeneralSettingsComponent,\n      MailServerComponent,\n      SmsProviderComponent,\n      SendTestSmsDialogComponent,\n      SecuritySettingsComponent,\n      OAuth2SettingsComponent,\n      HomeSettingsComponent,\n      ResourcesLibraryComponent\n    ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    HomeComponentsModule,\n    AdminRoutingModule\n  ]\n})\nexport class AdminModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from '@app/shared/shared.module';\nimport { HomeComponentsModule } from '@modules/home/components/home-components.module';\nimport { ApiUsageComponent } from '@home/pages/api-usage/api-usage.component';\nimport { ApiUsageRoutingModule } from '@home/pages/api-usage/api-usage-routing.module';\n\n@NgModule({\n  declarations:\n    [\n      ApiUsageComponent\n    ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    HomeComponentsModule,\n    ApiUsageRoutingModule\n  ]\n})\nexport class ApiUsageModule { }\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Injectable } from '@angular/core';\n\nimport { ActivatedRouteSnapshot, Resolve, Router } from '@angular/router';\nimport {\n  CellActionDescriptor,\n  checkBoxCell,\n  DateEntityTableColumn,\n  EntityTableColumn,\n  EntityTableConfig,\n  GroupActionDescriptor,\n  HeaderActionDescriptor\n} from '@home/models/entity/entities-table-config.models';\nimport { TranslateService } from '@ngx-translate/core';\nimport { DatePipe } from '@angular/common';\nimport { EntityType, entityTypeResources, entityTypeTranslations } from '@shared/models/entity-type.models';\nimport { EntityAction } from '@home/models/entity/entity-component.models';\nimport { forkJoin, Observable, of } from 'rxjs';\nimport { select, Store } from '@ngrx/store';\nimport { selectAuthUser } from '@core/auth/auth.selectors';\nimport { map, mergeMap, take, tap } from 'rxjs/operators';\nimport { AppState } from '@core/core.state';\nimport { Authority } from '@app/shared/models/authority.enum';\nimport { CustomerService } from '@core/http/customer.service';\nimport { Customer } from '@app/shared/models/customer.model';\nimport { NULL_UUID } from '@shared/models/id/has-uuid';\nimport { BroadcastService } from '@core/services/broadcast.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { DialogService } from '@core/services/dialog.service';\nimport {\n  AssignToCustomerDialogComponent,\n  AssignToCustomerDialogData\n} from '@modules/home/dialogs/assign-to-customer-dialog.component';\nimport {\n  AddEntitiesToCustomerDialogComponent,\n  AddEntitiesToCustomerDialogData\n} from '../../dialogs/add-entities-to-customer-dialog.component';\nimport { HomeDialogsService } from '@home/dialogs/home-dialogs.service';\nimport { Edge, EdgeInfo } from '@shared/models/edge.models';\nimport { EdgeService } from '@core/http/edge.service';\nimport { EdgeComponent } from '@home/pages/edge/edge.component';\nimport { EdgeTableHeaderComponent } from '@home/pages/edge/edge-table-header.component';\nimport { EdgeId } from '@shared/models/id/edge-id';\nimport { EdgeTabsComponent } from '@home/pages/edge/edge-tabs.component';\nimport { ActionNotificationShow } from '@core/notification/notification.actions';\n\n@Injectable()\nexport class EdgesTableConfigResolver implements Resolve<EntityTableConfig<EdgeInfo>> {\n\n  private readonly config: EntityTableConfig<EdgeInfo> = new EntityTableConfig<EdgeInfo>();\n  private customerId: string;\n\n  constructor(private store: Store<AppState>,\n              private broadcast: BroadcastService,\n              private edgeService: EdgeService,\n              private customerService: CustomerService,\n              private dialogService: DialogService,\n              private homeDialogs: HomeDialogsService,\n              private translate: TranslateService,\n              private datePipe: DatePipe,\n              private router: Router,\n              private dialog: MatDialog) {\n\n    this.config.entityType = EntityType.EDGE;\n    this.config.entityComponent = EdgeComponent;\n    this.config.entityTabsComponent = EdgeTabsComponent;\n    this.config.entityTranslations = entityTypeTranslations.get(EntityType.EDGE);\n    this.config.entityResources = entityTypeResources.get(EntityType.EDGE);\n\n    this.config.deleteEntityTitle = edge => this.translate.instant('edge.delete-edge-title', {edgeName: edge.name});\n    this.config.deleteEntityContent = () => this.translate.instant('edge.delete-edge-text');\n    this.config.deleteEntitiesTitle = count => this.translate.instant('edge.delete-edges-title', {count});\n    this.config.deleteEntitiesContent = () => this.translate.instant('edge.delete-edges-text');\n\n    this.config.loadEntity = id => this.edgeService.getEdgeInfo(id.id);\n    this.config.saveEntity = edge => {\n      return this.edgeService.saveEdge(edge).pipe(\n        tap(() => {\n          this.broadcast.broadcast('edgeSaved');\n        }),\n        mergeMap((savedEdge) => this.edgeService.getEdgeInfo(savedEdge.id.id)\n        ));\n    };\n    this.config.onEntityAction = action => this.onEdgeAction(action);\n    this.config.detailsReadonly = () => this.config.componentsData.edgeScope === 'customer_user';\n    this.config.headerComponent = EdgeTableHeaderComponent;\n  }\n\n  resolve(route: ActivatedRouteSnapshot): Observable<EntityTableConfig<EdgeInfo>> {\n    const routeParams = route.params;\n    this.config.componentsData = {\n      edgeScope: route.data.edgesType,\n      edgeType: ''\n    };\n    this.customerId = routeParams.customerId;\n    return this.store.pipe(select(selectAuthUser), take(1)).pipe(\n      tap((authUser) => {\n        if (authUser.authority === Authority.CUSTOMER_USER) {\n          this.config.componentsData.edgeScope = 'customer_user';\n          this.customerId = authUser.customerId;\n        }\n      }),\n      mergeMap(() =>\n        this.customerId ? this.customerService.getCustomer(this.customerId) : of(null as Customer)\n      ),\n      map((parentCustomer) => {\n        if (parentCustomer) {\n          if (parentCustomer.additionalInfo && parentCustomer.additionalInfo.isPublic) {\n            this.config.tableTitle = this.translate.instant('customer.public-edges');\n          } else {\n            this.config.tableTitle = parentCustomer.title + ': ' + this.translate.instant('edge.edge-instances');\n          }\n        } else {\n          this.config.tableTitle = this.translate.instant('edge.edge-instances');\n        }\n        this.config.columns = this.configureColumns(this.config.componentsData.edgeScope);\n        this.configureEntityFunctions(this.config.componentsData.edgeScope);\n        this.config.cellActionDescriptors = this.configureCellActions(this.config.componentsData.edgeScope);\n        this.config.groupActionDescriptors = this.configureGroupActions(this.config.componentsData.edgeScope);\n        this.config.addActionDescriptors = this.configureAddActions(this.config.componentsData.edgeScope);\n        this.config.addEnabled = this.config.componentsData.edgeScope !== 'customer_user';\n        this.config.entitiesDeleteEnabled = this.config.componentsData.edgeScope === 'tenant';\n        this.config.deleteEnabled = () => this.config.componentsData.edgeScope === 'tenant';\n        return this.config;\n      })\n    );\n  }\n\n  configureColumns(edgeScope: string): Array<EntityTableColumn<EdgeInfo>> {\n    const columns: Array<EntityTableColumn<EdgeInfo>> = [\n      new DateEntityTableColumn<EdgeInfo>('createdTime', 'common.created-time', this.datePipe, '150px'),\n      new EntityTableColumn<EdgeInfo>('name', 'edge.name', '25%'),\n      new EntityTableColumn<EdgeInfo>('type', 'edge.edge-type', '25%'),\n      new EntityTableColumn<EdgeInfo>('label', 'edge.label', '25%')\n    ];\n    if (edgeScope === 'tenant') {\n      columns.push(\n        new EntityTableColumn<EdgeInfo>('customerTitle', 'customer.customer', '25%'),\n        new EntityTableColumn<EdgeInfo>('customerIsPublic', 'edge.public', '60px',\n          entity => {\n            return checkBoxCell(entity.customerIsPublic);\n          }, () => ({}), false)\n      );\n    }\n    return columns;\n  }\n\n  configureEntityFunctions(edgeScope: string): void {\n    if (edgeScope === 'tenant') {\n      this.config.entitiesFetchFunction = pageLink =>\n        this.edgeService.getTenantEdgeInfos(pageLink, this.config.componentsData.edgeType);\n      this.config.deleteEntity = id => this.edgeService.deleteEdge(id.id);\n    }\n    if (edgeScope === 'customer') {\n      this.config.entitiesFetchFunction = pageLink =>\n        this.edgeService.getCustomerEdgeInfos(this.customerId, pageLink, this.config.componentsData.edgeType);\n      this.config.deleteEntity = id => this.edgeService.unassignEdgeFromCustomer(id.id);\n    }\n    if (edgeScope === 'customer_user') {\n      this.config.entitiesFetchFunction = pageLink =>\n        this.edgeService.getCustomerEdgeInfos(this.customerId, pageLink, this.config.componentsData.edgeType);\n      this.config.deleteEntity = id => this.edgeService.unassignEdgeFromCustomer(id.id);\n    }\n  }\n\n  configureCellActions(edgeScope: string): Array<CellActionDescriptor<EdgeInfo>> {\n    const actions: Array<CellActionDescriptor<EdgeInfo>> = [];\n    if (edgeScope === 'tenant') {\n      actions.push(\n        {\n          name: this.translate.instant('edge.make-public'),\n          icon: 'share',\n          isEnabled: (entity) => (!entity.customerId || entity.customerId.id === NULL_UUID),\n          onAction: ($event, entity) => this.makePublic($event, entity)\n        },\n        {\n          name: this.translate.instant('edge.assign-to-customer'),\n          icon: 'assignment_ind',\n          isEnabled: (entity) => (!entity.customerId || entity.customerId.id === NULL_UUID),\n          onAction: ($event, entity) => this.assignToCustomer($event, [entity.id])\n        },\n        {\n          name: this.translate.instant('edge.unassign-from-customer'),\n          icon: 'assignment_return',\n          isEnabled: (entity) => (entity.customerId && entity.customerId.id !== NULL_UUID && !entity.customerIsPublic),\n          onAction: ($event, entity) => this.unassignFromCustomer($event, entity)\n        },\n        {\n          name: this.translate.instant('edge.make-private'),\n          icon: 'reply',\n          isEnabled: (entity) => (entity.customerId && entity.customerId.id !== NULL_UUID && entity.customerIsPublic),\n          onAction: ($event, entity) => this.unassignFromCustomer($event, entity)\n        },\n        {\n          name: this.translate.instant('edge.edge-assets'),\n          icon: 'domain',\n          isEnabled: (entity) => true,\n          onAction: ($event, entity) => this.openEdgeEntitiesByType($event, entity, EntityType.ASSET)\n        },\n        {\n          name: this.translate.instant('edge.edge-devices'),\n          icon: 'devices_other',\n          isEnabled: (entity) => true,\n          onAction: ($event, entity) => this.openEdgeEntitiesByType($event, entity, EntityType.DEVICE)\n        },\n        {\n          name: this.translate.instant('edge.edge-entity-views'),\n          icon: 'view_quilt',\n          isEnabled: (entity) => true,\n          onAction: ($event, entity) => this.openEdgeEntitiesByType($event, entity, EntityType.ENTITY_VIEW)\n        },\n        {\n          name: this.translate.instant('edge.edge-dashboards'),\n          icon: 'dashboard',\n          isEnabled: (entity) => true,\n          onAction: ($event, entity) => this.openEdgeEntitiesByType($event, entity, EntityType.DASHBOARD)\n        },\n        {\n          name: this.translate.instant('edge.edge-rulechains'),\n          icon: 'settings_ethernet',\n          isEnabled: (entity) => true,\n          onAction: ($event, entity) => this.openEdgeEntitiesByType($event, entity, EntityType.RULE_CHAIN)\n        }\n      );\n    }\n    if (edgeScope === 'customer') {\n      actions.push(\n        {\n          name: this.translate.instant('edge.unassign-from-customer'),\n          icon: 'assignment_return',\n          isEnabled: (entity) => (entity.customerId && entity.customerId.id !== NULL_UUID && !entity.customerIsPublic),\n          onAction: ($event, entity) => this.unassignFromCustomer($event, entity)\n        },\n        {\n          name: this.translate.instant('edge.make-private'),\n          icon: 'reply',\n          isEnabled: (entity) => (entity.customerId && entity.customerId.id !== NULL_UUID && entity.customerIsPublic),\n          onAction: ($event, entity) => this.unassignFromCustomer($event, entity)\n        },\n      );\n    }\n    if (edgeScope === 'customer_user') {\n      actions.push(\n        {\n          name: this.translate.instant('edge.edge-assets'),\n          icon: 'domain',\n          isEnabled: (entity) => true,\n          onAction: ($event, entity) => this.openEdgeEntitiesByType($event, entity, EntityType.ASSET)\n        },\n        {\n          name: this.translate.instant('edge.edge-devices'),\n          icon: 'devices_other',\n          isEnabled: (entity) => true,\n          onAction: ($event, entity) => this.openEdgeEntitiesByType($event, entity, EntityType.DEVICE)\n        },\n        {\n          name: this.translate.instant('edge.edge-entity-views'),\n          icon: 'view_quilt',\n          isEnabled: (entity) => true,\n          onAction: ($event, entity) => this.openEdgeEntitiesByType($event, entity, EntityType.ENTITY_VIEW)\n        },\n        {\n          name: this.translate.instant('edge.edge-dashboards'),\n          icon: 'dashboard',\n          isEnabled: (entity) => true,\n          onAction: ($event, entity) => this.openEdgeEntitiesByType($event, entity, EntityType.DASHBOARD)\n        }\n      );\n    }\n    return actions;\n  }\n\n  configureGroupActions(edgeScope: string): Array<GroupActionDescriptor<EdgeInfo>> {\n    const actions: Array<GroupActionDescriptor<EdgeInfo>> = [];\n    if (edgeScope === 'tenant') {\n      actions.push(\n        {\n          name: this.translate.instant('edge.assign-edge-to-customer-text'),\n          icon: 'assignment_ind',\n          isEnabled: true,\n          onAction: ($event, entities) => this.assignToCustomer($event, entities.map((entity) => entity.id))\n        }\n      );\n    }\n    if (edgeScope === 'customer') {\n      actions.push(\n        {\n          name: this.translate.instant('edge.unassign-from-customer'),\n          icon: 'assignment_return',\n          isEnabled: true,\n          onAction: ($event, entities) => this.unassignEdgesFromCustomer($event, entities)\n        }\n      );\n    }\n    return actions;\n  }\n\n  configureAddActions(edgeScope: string): Array<HeaderActionDescriptor> {\n    const actions: Array<HeaderActionDescriptor> = [];\n    if (edgeScope === 'tenant') {\n      actions.push(\n        {\n          name: this.translate.instant('edge.add-edge-text'),\n          icon: 'insert_drive_file',\n          isEnabled: () => true,\n          onAction: ($event) => this.config.table.addEntity($event)\n        },\n        {\n          name: this.translate.instant('edge.import'),\n          icon: 'file_upload',\n          isEnabled: () => true,\n          onAction: ($event) => this.importEdges($event)\n        }\n      );\n    }\n    if (edgeScope === 'customer') {\n      actions.push(\n        {\n          name: this.translate.instant('edge.assign-new-edge'),\n          icon: 'add',\n          isEnabled: () => true,\n          onAction: ($event) => this.addEdgesToCustomer($event)\n        }\n      );\n    }\n    return actions;\n  }\n\n  importEdges($event: Event) {\n    this.homeDialogs.importEntities(EntityType.EDGE).subscribe((res) => {\n      if (res) {\n        this.broadcast.broadcast('edgeSaved');\n        this.config.table.updateData();\n      }\n    });\n  }\n\n  addEdgesToCustomer($event: Event) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialog.open<AddEntitiesToCustomerDialogComponent, AddEntitiesToCustomerDialogData,\n      boolean>(AddEntitiesToCustomerDialogComponent, {\n      disableClose: true,\n      panelClass: ['tb-dialog', 'tb-fullscreen-dialog'],\n      data: {\n        customerId: this.customerId,\n        entityType: EntityType.EDGE\n      }\n    }).afterClosed()\n      .subscribe((res) => {\n        if (res) {\n          this.config.table.updateData();\n        }\n      });\n  }\n\n  makePublic($event: Event, edge: Edge) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialogService.confirm(\n      this.translate.instant('edge.make-public-edge-title', {edgeName: edge.name}),\n      this.translate.instant('edge.make-public-edge-text'),\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n        if (res) {\n          this.edgeService.makeEdgePublic(edge.id.id).subscribe(\n            () => {\n              this.config.table.updateData();\n            }\n          );\n        }\n      }\n    );\n  }\n\n  openEdgeEntitiesByType($event: Event, edge: Edge, entityType: EntityType) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    let suffix: string;\n    switch (entityType) {\n      case EntityType.DEVICE:\n        suffix = 'devices';\n        break;\n      case EntityType.ASSET:\n        suffix = 'assets';\n        break;\n      case EntityType.EDGE:\n        suffix = 'assets';\n        break;\n      case EntityType.ENTITY_VIEW:\n        suffix = 'entityViews';\n        break;\n      case EntityType.DASHBOARD:\n        suffix = 'dashboards';\n        break;\n      case EntityType.RULE_CHAIN:\n        suffix = 'ruleChains';\n        break;\n    }\n    this.router.navigateByUrl(`edgeInstances/${edge.id.id}/${suffix}`);\n  }\n\n  assignToCustomer($event: Event, edgesIds: Array<EdgeId>) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialog.open<AssignToCustomerDialogComponent, AssignToCustomerDialogData,\n      boolean>(AssignToCustomerDialogComponent, {\n      disableClose: true,\n      panelClass: ['tb-dialog', 'tb-fullscreen-dialog'],\n      data: {\n        entityIds: edgesIds,\n        entityType: EntityType.EDGE\n      }\n    }).afterClosed()\n      .subscribe((res) => {\n        if (res) {\n          this.config.table.updateData();\n        }\n      });\n  }\n\n  unassignFromCustomer($event: Event, edge: EdgeInfo) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    const isPublic = edge.customerIsPublic;\n    let title;\n    let content;\n    if (isPublic) {\n      title = this.translate.instant('edge.make-private-edge-title', {edgeName: edge.name});\n      content = this.translate.instant('edge.make-private-edge-text');\n    } else {\n      title = this.translate.instant('edge.unassign-edge-title', {edgeName: edge.name});\n      content = this.translate.instant('edge.unassign-edge-text');\n    }\n    this.dialogService.confirm(\n      title,\n      content,\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n        if (res) {\n          this.edgeService.unassignEdgeFromCustomer(edge.id.id).subscribe(\n            () => {\n              this.config.table.updateData();\n            }\n          );\n        }\n      }\n    );\n  }\n\n  unassignEdgesFromCustomer($event: Event, edges: Array<EdgeInfo>) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.dialogService.confirm(\n      this.translate.instant('edge.unassign-edges-title', {count: edges.length}),\n      this.translate.instant('edge.unassign-edges-text'),\n      this.translate.instant('action.no'),\n      this.translate.instant('action.yes'),\n      true\n    ).subscribe((res) => {\n        if (res) {\n          const tasks: Observable<any>[] = [];\n          edges.forEach(\n            (edge) => {\n              tasks.push(this.edgeService.unassignEdgeFromCustomer(edge.id.id));\n            }\n          );\n          forkJoin(tasks).subscribe(\n            () => {\n              this.config.table.updateData();\n            }\n          );\n        }\n      }\n    );\n  }\n\n  syncEdge($event, edge) {\n    if ($event) {\n      $event.stopPropagation();\n    }\n    this.edgeService.syncEdge(edge.id.id).subscribe(\n      () => {\n        this.store.dispatch(new ActionNotificationShow(\n          {\n            message: this.translate.instant('edge.sync-process-started-successfully'),\n            type: 'success',\n            duration: 750,\n            verticalPosition: 'bottom',\n            horizontalPosition: 'right'\n          }));\n      }\n    );\n  }\n\n  onEdgeAction(action: EntityAction<EdgeInfo>): boolean {\n    switch (action.action) {\n      case 'makePublic':\n        this.makePublic(action.event, action.entity);\n        return true;\n      case 'assignToCustomer':\n        this.assignToCustomer(action.event, [action.entity.id]);\n        return true;\n      case 'unassignFromCustomer':\n        this.unassignFromCustomer(action.event, action.entity);\n        return true;\n      case 'openEdgeAssets':\n        this.openEdgeEntitiesByType(action.event, action.entity, EntityType.ASSET);\n        return true;\n      case 'openEdgeDevices':\n        this.openEdgeEntitiesByType(action.event, action.entity, EntityType.DEVICE);\n        return true;\n      case 'openEdgeEntityViews':\n        this.openEdgeEntitiesByType(action.event, action.entity, EntityType.ENTITY_VIEW);\n        return true;\n      case 'openEdgeDashboards':\n        this.openEdgeEntitiesByType(action.event, action.entity, EntityType.DASHBOARD);\n        return true;\n      case 'openEdgeRuleChains':\n        this.openEdgeEntitiesByType(action.event, action.entity, EntityType.RULE_CHAIN);\n        return true;\n      case 'syncEdge':\n        this.syncEdge(action.event, action.entity);\n        return true;\n    }\n  }\n\n}\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, Inject, OnDestroy, OnInit } from '@angular/core';\nimport { AbstractControl, FormArray, FormBuilder, FormGroup, ValidationErrors, Validators } from '@angular/forms';\nimport {\n  ClientAuthenticationMethod,\n  DomainSchema,\n  domainSchemaTranslations,\n  MapperConfig,\n  MapperConfigBasic,\n  MapperConfigCustom,\n  MapperConfigType,\n  OAuth2ClientRegistrationTemplate,\n  OAuth2DomainInfo,\n  OAuth2Info, OAuth2MobileInfo,\n  OAuth2ParamsInfo,\n  OAuth2RegistrationInfo, PlatformType,\n  platformTypeTranslations,\n  TenantNameStrategy\n} from '@shared/models/oauth2.models';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { PageComponent } from '@shared/components/page.component';\nimport { HasConfirmForm } from '@core/guards/confirm-on-exit.guard';\nimport { COMMA, ENTER } from '@angular/cdk/keycodes';\nimport { MatChipInputEvent } from '@angular/material/chips';\nimport { WINDOW } from '@core/services/window.service';\nimport { forkJoin, Subscription } from 'rxjs';\nimport { DialogService } from '@core/services/dialog.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { isDefined, isDefinedAndNotNull, randomAlphanumeric } from '@core/utils';\nimport { OAuth2Service } from '@core/http/oauth2.service';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'tb-oauth2-settings',\n  templateUrl: './oauth2-settings.component.html',\n  styleUrls: ['./oauth2-settings.component.scss', './settings-card.scss']\n})\nexport class OAuth2SettingsComponent extends PageComponent implements OnInit, HasConfirmForm, OnDestroy {\n\n  constructor(protected store: Store<AppState>,\n              private route: ActivatedRoute,\n              private oauth2Service: OAuth2Service,\n              private fb: FormBuilder,\n              private dialogService: DialogService,\n              private translate: TranslateService,\n              @Inject(WINDOW) private window: Window) {\n    super(store);\n  }\n\n  get oauth2ParamsInfos(): FormArray {\n    return this.oauth2SettingsForm.get('oauth2ParamsInfos') as FormArray;\n  }\n\n  private URL_REGEXP = /^[A-Za-z][A-Za-z\\d.+-]*:\\/*(?:\\w+(?::\\w+)?@)?[^\\s/]+(?::\\d+)?(?:\\/[\\w#!:.,?+=&%@\\-/]*)?$/;\n  private DOMAIN_AND_PORT_REGEXP = /^(?:\\w+(?::\\w+)?@)?[^\\s/]+(?::\\d+)?$/;\n  private subscriptions: Subscription[] = [];\n  private templates = new Map<string, OAuth2ClientRegistrationTemplate>();\n  private defaultProvider = {\n    additionalInfo: {\n      providerName: 'Custom'\n    },\n    clientAuthenticationMethod: ClientAuthenticationMethod.POST,\n    userNameAttributeName: 'email',\n    mapperConfig: {\n      allowUserCreation: true,\n      activateUser: false,\n      type: MapperConfigType.BASIC,\n      basic: {\n        emailAttributeKey: 'email',\n        tenantNameStrategy: TenantNameStrategy.DOMAIN,\n        alwaysFullScreen: false\n      }\n    }\n  };\n\n  readonly separatorKeysCodes: number[] = [ENTER, COMMA];\n\n  oauth2SettingsForm: FormGroup;\n  oauth2Info: OAuth2Info;\n\n  clientAuthenticationMethods = Object.keys(ClientAuthenticationMethod);\n  mapperConfigType = MapperConfigType;\n  mapperConfigTypes = Object.keys(MapperConfigType);\n  tenantNameStrategies = Object.keys(TenantNameStrategy);\n  protocols = Object.values(DomainSchema);\n  domainSchemaTranslations = domainSchemaTranslations;\n  platformTypes = Object.values(PlatformType);\n  platformTypeTranslations = platformTypeTranslations;\n\n  templateProvider = ['Custom'];\n\n  private loginProcessingUrl: string = this.route.snapshot.data.loginProcessingUrl;\n\n  private static validateScope(control: AbstractControl): ValidationErrors | null {\n    const scope: string[] = control.value;\n    if (!scope || !scope.length) {\n      return {\n        required: true\n      };\n    }\n    return null;\n  }\n\n  ngOnInit(): void {\n    this.buildOAuth2SettingsForm();\n    forkJoin([\n      this.oauth2Service.getOAuth2Template(),\n      this.oauth2Service.getOAuth2Settings()\n    ]).subscribe(\n      ([templates, oauth2Info]) => {\n        this.initTemplates(templates);\n        this.oauth2Info = oauth2Info;\n        this.initOAuth2Settings(this.oauth2Info);\n      }\n    );\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n    this.subscriptions.forEach((subscription) => {\n      subscription.unsubscribe();\n    });\n  }\n\n  private initTemplates(templates: OAuth2ClientRegistrationTemplate[]): void {\n    templates.map(provider => {\n      delete provider.additionalInfo;\n      this.templates.set(provider.name, provider);\n    });\n    this.templateProvider.push(...Array.from(this.templates.keys()));\n    this.templateProvider.sort();\n  }\n\n  private formBasicGroup(mapperConfigBasic?: MapperConfigBasic): FormGroup {\n    let tenantNamePattern;\n    if (mapperConfigBasic?.tenantNamePattern) {\n      tenantNamePattern = mapperConfigBasic.tenantNamePattern;\n    } else {\n      tenantNamePattern = {value: null, disabled: true};\n    }\n    const basicGroup = this.fb.group({\n      emailAttributeKey: [mapperConfigBasic?.emailAttributeKey ? mapperConfigBasic.emailAttributeKey : 'email',\n        [Validators.required, Validators.maxLength(31)]],\n      firstNameAttributeKey: [mapperConfigBasic?.firstNameAttributeKey ? mapperConfigBasic.firstNameAttributeKey : '',\n        Validators.maxLength(31)],\n      lastNameAttributeKey: [mapperConfigBasic?.lastNameAttributeKey ? mapperConfigBasic.lastNameAttributeKey : '',\n        Validators.maxLength(31)],\n      tenantNameStrategy: [mapperConfigBasic?.tenantNameStrategy ? mapperConfigBasic.tenantNameStrategy : TenantNameStrategy.DOMAIN],\n      tenantNamePattern: [tenantNamePattern, [Validators.required, Validators.maxLength(255)]],\n      customerNamePattern: [mapperConfigBasic?.customerNamePattern ? mapperConfigBasic.customerNamePattern : null,\n        Validators.maxLength(255)],\n      defaultDashboardName: [mapperConfigBasic?.defaultDashboardName ? mapperConfigBasic.defaultDashboardName : null,\n        Validators.maxLength(255)],\n      alwaysFullScreen: [isDefinedAndNotNull(mapperConfigBasic?.alwaysFullScreen) ? mapperConfigBasic.alwaysFullScreen : false]\n    });\n\n    this.subscriptions.push(basicGroup.get('tenantNameStrategy').valueChanges.subscribe((domain) => {\n      if (domain === 'CUSTOM') {\n        basicGroup.get('tenantNamePattern').enable();\n      } else {\n        basicGroup.get('tenantNamePattern').disable();\n      }\n    }));\n\n    return basicGroup;\n  }\n\n  private formCustomGroup(mapperConfigCustom?: MapperConfigCustom): FormGroup {\n    return this.fb.group({\n      url: [mapperConfigCustom?.url ? mapperConfigCustom.url : null,\n        [Validators.required, Validators.pattern(this.URL_REGEXP), Validators.maxLength(255)]],\n      username: [mapperConfigCustom?.username ? mapperConfigCustom.username : null, Validators.maxLength(255)],\n      password: [mapperConfigCustom?.password ? mapperConfigCustom.password : null, Validators.maxLength(255)]\n    });\n  }\n\n  private buildOAuth2SettingsForm(): void {\n    this.oauth2SettingsForm = this.fb.group({\n      oauth2ParamsInfos: this.fb.array([]),\n      enabled: [false]\n    });\n  }\n\n  private initOAuth2Settings(oauth2Info: OAuth2Info): void {\n    if (oauth2Info) {\n      this.oauth2SettingsForm.patchValue({enabled: oauth2Info.enabled}, {emitEvent: false});\n      oauth2Info.oauth2ParamsInfos.forEach((oauth2ParamsInfo) => {\n        this.oauth2ParamsInfos.push(this.buildOAuth2ParamsInfoForm(oauth2ParamsInfo));\n      });\n    }\n  }\n\n  private uniqueDomainValidator(control: FormGroup): { [key: string]: boolean } | null {\n    if (control.parent?.value) {\n      const domain = control.value.name;\n      const listProtocols = control.parent.getRawValue()\n        .filter((domainInfo) => domainInfo.name === domain)\n        .map((domainInfo) => domainInfo.scheme);\n      if (listProtocols.length > 1 && listProtocols.indexOf(DomainSchema.MIXED) > -1 ||\n        new Set(listProtocols).size !== listProtocols.length) {\n        return {unique: true};\n      }\n    }\n    return null;\n  }\n\n  private uniquePkgNameValidator(control: FormGroup): { [key: string]: boolean } | null {\n    if (control.parent?.value) {\n      const pkgName = control.value.pkgName;\n      const mobileInfosList = control.parent.getRawValue()\n        .filter((mobileInfo) => mobileInfo.pkgName === pkgName);\n      if (mobileInfosList.length > 1) {\n        return {unique: true};\n      }\n    }\n    return null;\n  }\n\n  public domainListTittle(control: AbstractControl): string {\n    const domainInfos = control.get('domainInfos').value as OAuth2DomainInfo[];\n    if (domainInfos.length) {\n      const domainList = new Set<string>();\n      domainInfos.forEach((domain) => {\n        domainList.add(domain.name);\n      });\n      return Array.from(domainList).join(', ');\n    }\n    return this.translate.instant('admin.oauth2.new-domain');\n  }\n\n  private buildOAuth2ParamsInfoForm(oauth2ParamsInfo?: OAuth2ParamsInfo): FormGroup {\n    const formOAuth2Params = this.fb.group({\n      domainInfos: this.fb.array([], Validators.required),\n      mobileInfos: this.fb.array([]),\n      clientRegistrations: this.fb.array([], Validators.required)\n    });\n\n    if (oauth2ParamsInfo) {\n      oauth2ParamsInfo.domainInfos.forEach((domain) => {\n        this.domainInfos(formOAuth2Params).push(this.buildDomainInfoForm(domain));\n      });\n      oauth2ParamsInfo.mobileInfos.forEach((mobile) => {\n        this.mobileInfos(formOAuth2Params).push(this.buildMobileInfoForm(mobile));\n      });\n      oauth2ParamsInfo.clientRegistrations.forEach((registration) => {\n        this.clientRegistrations(formOAuth2Params).push(this.buildRegistrationForm(registration));\n      });\n    } else {\n      this.clientRegistrations(formOAuth2Params).push(this.buildRegistrationForm());\n      this.domainInfos(formOAuth2Params).push(this.buildDomainInfoForm());\n    }\n\n    return formOAuth2Params;\n  }\n\n  private buildDomainInfoForm(domainInfo?: OAuth2DomainInfo): FormGroup {\n    return this.fb.group({\n      name: [domainInfo ? domainInfo.name : this.window.location.hostname, [\n        Validators.required, Validators.maxLength(255),\n        Validators.pattern(this.DOMAIN_AND_PORT_REGEXP)]],\n      scheme: [domainInfo?.scheme ? domainInfo.scheme : DomainSchema.HTTPS, Validators.required]\n    }, {validators: this.uniqueDomainValidator});\n  }\n\n  private buildMobileInfoForm(mobileInfo?: OAuth2MobileInfo): FormGroup {\n    return this.fb.group({\n      pkgName: [mobileInfo?.pkgName, [Validators.required]],\n      appSecret: [mobileInfo?.appSecret, [Validators.required, Validators.minLength(16), Validators.maxLength(2048),\n        Validators.pattern(/^[A-Za-z0-9]+$/)]],\n    }, {validators: this.uniquePkgNameValidator});\n  }\n\n  private buildRegistrationForm(registration?: OAuth2RegistrationInfo): FormGroup {\n    let additionalInfo = null;\n    if (isDefinedAndNotNull(registration?.additionalInfo)) {\n      additionalInfo = registration.additionalInfo;\n      if (this.templateProvider.indexOf(additionalInfo.providerName) === -1) {\n        additionalInfo.providerName = 'Custom';\n      }\n    }\n    let defaultProviderName = 'Custom';\n    if (this.templateProvider.indexOf('Google')) {\n      defaultProviderName = 'Google';\n    }\n\n    const clientRegistrationFormGroup = this.fb.group({\n      additionalInfo: this.fb.group({\n        providerName: [additionalInfo?.providerName ? additionalInfo?.providerName : defaultProviderName, Validators.required]\n      }),\n      platforms: [registration?.platforms ? registration.platforms : []],\n      loginButtonLabel: [registration?.loginButtonLabel ? registration.loginButtonLabel : null, Validators.required],\n      loginButtonIcon: [registration?.loginButtonIcon ? registration.loginButtonIcon : null],\n      clientId: [registration?.clientId ? registration.clientId : '', [Validators.required, Validators.maxLength(255)]],\n      clientSecret: [registration?.clientSecret ? registration.clientSecret : '', [Validators.required, Validators.maxLength(2048)]],\n      accessTokenUri: [registration?.accessTokenUri ? registration.accessTokenUri : '',\n        [Validators.required,\n          Validators.pattern(this.URL_REGEXP)]],\n      authorizationUri: [registration?.authorizationUri ? registration.authorizationUri : '',\n        [Validators.required,\n          Validators.pattern(this.URL_REGEXP)]],\n      scope: this.fb.array(registration?.scope ? registration.scope : [], OAuth2SettingsComponent.validateScope),\n      jwkSetUri: [registration?.jwkSetUri ? registration.jwkSetUri : '', Validators.pattern(this.URL_REGEXP)],\n      userInfoUri: [registration?.userInfoUri ? registration.userInfoUri : '',\n        [Validators.pattern(this.URL_REGEXP)]],\n      clientAuthenticationMethod: [\n        registration?.clientAuthenticationMethod ? registration.clientAuthenticationMethod : ClientAuthenticationMethod.POST,\n        Validators.required],\n      userNameAttributeName: [\n        registration?.userNameAttributeName ? registration.userNameAttributeName : 'email', Validators.required],\n      mapperConfig: this.fb.group({\n          allowUserCreation: [\n            isDefinedAndNotNull(registration?.mapperConfig?.allowUserCreation) ?\n              registration.mapperConfig.allowUserCreation : true\n          ],\n          activateUser: [\n            isDefinedAndNotNull(registration?.mapperConfig?.activateUser) ? registration.mapperConfig.activateUser : false\n          ],\n          type: [\n            registration?.mapperConfig?.type ? registration.mapperConfig.type : MapperConfigType.BASIC, Validators.required\n          ]\n        }\n      )\n    });\n\n    if (registration) {\n      this.changeMapperConfigType(clientRegistrationFormGroup, registration.mapperConfig.type, registration.mapperConfig);\n    } else {\n      this.changeMapperConfigType(clientRegistrationFormGroup, MapperConfigType.BASIC);\n      this.setProviderDefaultValue(defaultProviderName, clientRegistrationFormGroup);\n    }\n\n    this.subscriptions.push(clientRegistrationFormGroup.get('mapperConfig.type').valueChanges.subscribe((value) => {\n      this.changeMapperConfigType(clientRegistrationFormGroup, value);\n    }));\n\n    this.subscriptions.push(clientRegistrationFormGroup.get('additionalInfo.providerName').valueChanges.subscribe((provider) => {\n      (clientRegistrationFormGroup.get('scope') as FormArray).clear();\n      this.setProviderDefaultValue(provider, clientRegistrationFormGroup);\n    }));\n\n    return clientRegistrationFormGroup;\n  }\n\n  private setProviderDefaultValue(provider: string, clientRegistration: FormGroup) {\n    if (provider === 'Custom') {\n      clientRegistration.reset(this.defaultProvider, {emitEvent: false});\n      clientRegistration.get('accessTokenUri').enable();\n      clientRegistration.get('authorizationUri').enable();\n      clientRegistration.get('jwkSetUri').enable();\n      clientRegistration.get('userInfoUri').enable();\n    } else {\n      const template = this.templates.get(provider);\n      template.clientId = '';\n      template.clientSecret = '';\n      template.scope.forEach(() => {\n        (clientRegistration.get('scope') as FormArray).push(this.fb.control(''));\n      });\n      clientRegistration.get('accessTokenUri').disable();\n      clientRegistration.get('authorizationUri').disable();\n      clientRegistration.get('jwkSetUri').disable();\n      clientRegistration.get('userInfoUri').disable();\n      clientRegistration.patchValue(template);\n    }\n  }\n\n  private changeMapperConfigType(control: AbstractControl, type: MapperConfigType, predefinedValue?: MapperConfig) {\n    const mapperConfig = control.get('mapperConfig') as FormGroup;\n    if (type === MapperConfigType.CUSTOM) {\n      mapperConfig.removeControl('basic');\n      mapperConfig.addControl('custom', this.formCustomGroup(predefinedValue?.custom));\n    } else {\n      mapperConfig.removeControl('custom');\n      if (!mapperConfig.get('basic')) {\n        mapperConfig.addControl('basic', this.formBasicGroup(predefinedValue?.basic));\n      }\n      if (type === MapperConfigType.GITHUB) {\n        mapperConfig.get('basic.emailAttributeKey').disable();\n        mapperConfig.get('basic.emailAttributeKey').patchValue(null, {emitEvent: false});\n      } else {\n        mapperConfig.get('basic.emailAttributeKey').enable();\n      }\n    }\n  }\n\n  save(): void {\n    const setting = this.oauth2SettingsForm.getRawValue();\n    this.oauth2Service.saveOAuth2Settings(setting).subscribe(\n      (oauth2Settings) => {\n        this.oauth2Info = oauth2Settings;\n        this.oauth2SettingsForm.patchValue(this.oauth2SettingsForm, {emitEvent: false});\n        this.oauth2SettingsForm.markAsUntouched();\n        this.oauth2SettingsForm.markAsPristine();\n      }\n    );\n  }\n\n  confirmForm(): FormGroup {\n    return this.oauth2SettingsForm;\n  }\n\n  addScope(event: MatChipInputEvent, control: AbstractControl): void {\n    const input = event.input;\n    const value = event.value;\n    const controller = control.get('scope') as FormArray;\n    if ((value.trim() !== '')) {\n      controller.push(this.fb.control(value.trim()));\n      controller.markAsDirty();\n    }\n\n    if (input) {\n      input.value = '';\n    }\n  }\n\n  removeScope(i: number, control: AbstractControl): void {\n    const controller = control.get('scope') as FormArray;\n    controller.removeAt(i);\n    controller.markAsTouched();\n    controller.markAsDirty();\n  }\n\n  addOAuth2ParamsInfo(): void {\n    this.oauth2ParamsInfos.push(this.buildOAuth2ParamsInfoForm());\n  }\n\n  deleteOAuth2ParamsInfo($event: Event, index: number): void {\n    if ($event) {\n      $event.stopPropagation();\n      $event.preventDefault();\n    }\n\n    const domainName = this.domainListTittle(this.oauth2ParamsInfos.at(index));\n    this.dialogService.confirm(\n      this.translate.instant('admin.oauth2.delete-domain-title', {domainName: domainName || ''}),\n      this.translate.instant('admin.oauth2.delete-domain-text'), null,\n      this.translate.instant('action.delete')\n    ).subscribe((data) => {\n      if (data) {\n        this.oauth2ParamsInfos.removeAt(index);\n        this.oauth2ParamsInfos.markAsTouched();\n        this.oauth2ParamsInfos.markAsDirty();\n      }\n    });\n  }\n\n  clientRegistrations(control: AbstractControl): FormArray {\n    return control.get('clientRegistrations') as FormArray;\n  }\n\n  domainInfos(control: AbstractControl): FormArray {\n    return control.get('domainInfos') as FormArray;\n  }\n\n  mobileInfos(control: AbstractControl): FormArray {\n    return control.get('mobileInfos') as FormArray;\n  }\n\n  addRegistration(control: AbstractControl): void {\n    this.clientRegistrations(control).push(this.buildRegistrationForm());\n  }\n\n  deleteRegistration($event: Event, control: AbstractControl, index: number): void {\n    if ($event) {\n      $event.stopPropagation();\n      $event.preventDefault();\n    }\n\n    const providerName = this.clientRegistrations(control).at(index).get('additionalInfo.providerName').value;\n    this.dialogService.confirm(\n      this.translate.instant('admin.oauth2.delete-registration-title', {name: providerName || ''}),\n      this.translate.instant('admin.oauth2.delete-registration-text'), null,\n      this.translate.instant('action.delete')\n    ).subscribe((data) => {\n      if (data) {\n        this.clientRegistrations(control).removeAt(index);\n        this.clientRegistrations(control).markAsTouched();\n        this.clientRegistrations(control).markAsDirty();\n      }\n    });\n  }\n\n  toggleEditMode(control: AbstractControl, path: string) {\n    control.get(path).disabled ? control.get(path).enable() : control.get(path).disable();\n  }\n\n  getProviderName(controller: AbstractControl): string {\n    return controller.get('additionalInfo.providerName').value;\n  }\n\n  isCustomProvider(controller: AbstractControl): boolean {\n    return this.getProviderName(controller) === 'Custom';\n  }\n\n  getHelpLink(controller: AbstractControl): string {\n    const provider = controller.get('additionalInfo.providerName').value;\n    if (provider === null || provider === 'Custom') {\n      return '';\n    }\n    return this.templates.get(provider).helpLink;\n  }\n\n  addDomainInfo(control: AbstractControl): void {\n    this.domainInfos(control).push(this.buildDomainInfoForm({\n      name: '',\n      scheme: DomainSchema.HTTPS\n    }));\n  }\n\n  removeDomainInfo($event: Event, control: AbstractControl, index: number): void {\n    if ($event) {\n      $event.stopPropagation();\n      $event.preventDefault();\n    }\n    this.domainInfos(control).removeAt(index);\n    this.domainInfos(control).markAsTouched();\n    this.domainInfos(control).markAsDirty();\n  }\n\n  addMobileInfo(control: AbstractControl): void {\n    this.mobileInfos(control).push(this.buildMobileInfoForm({\n      pkgName: '',\n      appSecret: randomAlphanumeric(24)\n    }));\n  }\n\n  removeMobileInfo($event: Event, control: AbstractControl, index: number): void {\n    if ($event) {\n      $event.stopPropagation();\n      $event.preventDefault();\n    }\n    this.mobileInfos(control).removeAt(index);\n    this.mobileInfos(control).markAsTouched();\n    this.mobileInfos(control).markAsDirty();\n  }\n\n  redirectURI(control: AbstractControl, schema?: DomainSchema): string {\n    const domainInfo = control.value as OAuth2DomainInfo;\n    if (domainInfo.name !== '') {\n      let protocol;\n      if (isDefined(schema)) {\n        protocol = schema.toLowerCase();\n      } else {\n        protocol = domainInfo.scheme === DomainSchema.MIXED ? DomainSchema.HTTPS.toLowerCase() : domainInfo.scheme.toLowerCase();\n      }\n      return `${protocol}://${domainInfo.name}${this.loginProcessingUrl}`;\n    }\n    return '';\n  }\n\n  redirectURIMixed(control: AbstractControl): string {\n    return this.redirectURI(control, DomainSchema.HTTP);\n  }\n\n  trackByParams(index: number): number {\n    return index;\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div>\n  <mat-card class=\"settings-card\">\n    <mat-card-title>\n      <div fxLayout=\"row\">\n        <span class=\"mat-headline\" translate>admin.oauth2.oauth2</span>\n        <span fxFlex></span>\n        <div tb-help=\"oauth2Settings\"></div>\n      </div>\n    </mat-card-title>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <mat-card-content style=\"padding-top: 16px;\">\n      <form [formGroup]=\"oauth2SettingsForm\" (ngSubmit)=\"save()\">\n        <fieldset [disabled]=\"isLoading$ | async\">\n          <mat-checkbox formControlName=\"enabled\">\n            {{ 'admin.oauth2.enable' | translate }}\n          </mat-checkbox>\n          <section *ngIf=\"oauth2SettingsForm.get('enabled').value\" style=\"margin-top: 1em;\">\n            <ng-container formArrayName=\"oauth2ParamsInfos\">\n              <div class=\"container\">\n                <mat-accordion multi>\n                  <ng-container *ngFor=\"let oauth2ParamsInfo of oauth2ParamsInfos.controls; let i = index; trackBy: trackByParams\">\n                    <mat-expansion-panel [formGroupName]=\"i\">\n                      <mat-expansion-panel-header>\n                        <mat-panel-title fxLayoutAlign=\"start center\">\n                          {{ domainListTittle(oauth2ParamsInfo) }}\n                        </mat-panel-title>\n                        <mat-panel-description fxLayoutAlign=\"end center\">\n                          <button mat-icon-button\n                                  type=\"button\"\n                                  (click)=\"deleteOAuth2ParamsInfo($event, i)\"\n                                  matTooltip=\"{{ 'action.delete' | translate }}\"\n                                  matTooltipPosition=\"above\">\n                            <mat-icon>delete</mat-icon>\n                          </button>\n                        </mat-panel-description>\n                      </mat-expansion-panel-header>\n\n                      <ng-template matExpansionPanelContent>\n                        <mat-tab-group dynamicHeight>\n                          <mat-tab label=\"{{ 'admin.oauth2.domains' | translate }}\">\n                            <ng-container formArrayName=\"domainInfos\">\n                              <div style=\"padding-top: 16px;\"></div>\n                              <section *ngFor=\"let domainInfo of domainInfos(oauth2ParamsInfo).controls; let n = index; trackBy: trackByParams\"\n                                       class=\"domains-list\">\n                                <div [formGroupName]=\"n\" fxLayout=\"row\" fxLayoutGap=\"8px\">\n                                  <div fxFlex fxLayout=\"row\" fxLayout.xs=\"column\" fxLayoutGap=\"8px\">\n                                    <div fxLayout=\"column\" fxFlex.sm=\"60\" fxFlex.gt-sm=\"50\">\n                                      <div fxLayout=\"row\" fxLayout.xs=\"column\" fxLayout.md=\"column\" fxLayoutGap=\"8px\" fxLayoutGap.md=\"0px\">\n                                        <mat-form-field fxFlex=\"30\" fxFlex.md fxFlex.xs class=\"mat-block\">\n                                          <mat-label translate>admin.oauth2.protocol</mat-label>\n                                          <mat-select formControlName=\"scheme\">\n                                            <mat-option *ngFor=\"let protocol of protocols\" [value]=\"protocol\">\n                                              {{ domainSchemaTranslations.get(protocol) | translate | uppercase }}\n                                            </mat-option>\n                                          </mat-select>\n                                        </mat-form-field>\n                                        <mat-form-field fxFlex class=\"mat-block\">\n                                          <mat-label translate>admin.domain-name</mat-label>\n                                          <input matInput formControlName=\"name\" required>\n                                          <mat-error *ngIf=\"domainInfo.get('name').hasError('pattern')\">\n                                            {{ 'admin.error-verification-url' | translate }}\n                                          </mat-error>\n                                          <mat-error *ngIf=\"domainInfo.get('name').hasError('maxlength')\">\n                                            {{ 'admin.domain-name-max-length' | translate }}\n                                          </mat-error>\n                                        </mat-form-field>\n                                      </div>\n                                      <mat-error *ngIf=\"domainInfo.hasError('unique')\">\n                                        {{ 'admin.domain-name-unique' | translate }}\n                                      </mat-error>\n                                    </div>\n\n                                    <div fxFlex fxLayout=\"column\">\n                                      <mat-form-field fxFlex class=\"mat-block\">\n                                        <mat-label translate>admin.oauth2.redirect-uri-template</mat-label>\n                                        <input matInput [value]=\"redirectURI(domainInfo)\" readonly>\n                                        <tb-copy-button\n                                          matSuffix\n                                          color=\"primary\"\n                                          [copyText]=\"redirectURI(domainInfo)\"\n                                          tooltipText=\"{{ 'admin.oauth2.copy-redirect-uri' | translate }}\"\n                                          tooltipPosition=\"above\"\n                                          mdiIcon=\"mdi:clipboard-arrow-left\">\n                                        </tb-copy-button>\n                                      </mat-form-field>\n                                      <mat-form-field fxFlex *ngIf=\"domainInfo.get('scheme').value === 'MIXED'\" class=\"mat-block\">\n                                        <mat-label></mat-label>\n                                        <input matInput [value]=\"redirectURIMixed(domainInfo)\" readonly>\n                                        <tb-copy-button\n                                          matSuffix\n                                          color=\"primary\"\n                                          [copyText]=\"redirectURIMixed(domainInfo)\"\n                                          tooltipText=\"{{ 'admin.oauth2.copy-redirect-uri' | translate }}\"\n                                          tooltipPosition=\"above\"\n                                          mdiIcon=\"mdi:clipboard-arrow-left\">\n                                        </tb-copy-button>\n                                      </mat-form-field>\n                                    </div>\n                                  </div>\n\n                                  <div fxLayout=\"column\" fxLayoutAlign=\"center start\">\n                                    <button type=\"button\" mat-icon-button color=\"primary\"\n                                            (click)=\"removeDomainInfo($event, oauth2ParamsInfo, n)\"\n                                            [disabled]=\"domainInfos(oauth2ParamsInfo).controls.length < 2\"\n                                            matTooltip=\"{{ 'admin.oauth2.delete-domain' | translate }}\"\n                                            matTooltipPosition=\"above\">\n                                      <mat-icon>close</mat-icon>\n                                    </button>\n                                  </div>\n                                </div>\n                              </section>\n                              <div fxLayout=\"row\" fxLayoutAlign=\"end center\" style=\"margin-bottom: 1.25em\">\n                                <button mat-button mat-raised-button color=\"primary\"\n                                        [disabled]=\"(isLoading$ | async)\"\n                                        (click)=\"addDomainInfo(oauth2ParamsInfo)\"\n                                        type=\"button\">\n                                  {{'admin.oauth2.add-domain' | translate}}\n                                </button>\n                              </div>\n                            </ng-container>\n                          </mat-tab>\n                          <mat-tab label=\"{{ 'admin.oauth2.mobile-apps' | translate }}\">\n                            <ng-container formArrayName=\"mobileInfos\">\n                              <div style=\"padding-top: 16px;\"></div>\n                              <div *ngIf=\"mobileInfos(oauth2ParamsInfo).length === 0\">\n                                  <span fxLayoutAlign=\"center center\"\n                                          class=\"tb-prompt\" translate>admin.oauth2.no-mobile-apps</span>\n                              </div>\n                              <section *ngFor=\"let mobileInfo of mobileInfos(oauth2ParamsInfo).controls; let n = index; trackBy: trackByParams\"\n                                       class=\"apps-list\">\n                                <div [formGroupName]=\"n\" fxLayout=\"row\" fxLayoutGap=\"8px\">\n                                  <div fxFlex fxLayout=\"row\" fxLayout.xs=\"column\" fxLayoutGap=\"8px\">\n                                    <div fxFlex fxLayout=\"column\">\n                                      <mat-form-field fxFlex class=\"mat-block\" floatLabel=\"always\">\n                                        <mat-label translate>admin.oauth2.mobile-package</mat-label>\n                                        <input matInput formControlName=\"pkgName\" placeholder=\"{{ 'admin.oauth2.mobile-package-placeholder' | translate }}\" required>\n                                        <mat-hint translate>admin.oauth2.mobile-package-hint</mat-hint>\n                                      </mat-form-field>\n                                      <mat-error *ngIf=\"mobileInfo.hasError('unique')\">\n                                        {{ 'admin.oauth2.mobile-package-unique' | translate }}\n                                      </mat-error>\n                                    </div>\n                                    <div fxFlex fxLayout=\"row\">\n                                      <mat-form-field fxFlex class=\"mat-block\">\n                                        <mat-label translate>admin.oauth2.mobile-app-secret</mat-label>\n                                        <textarea matInput formControlName=\"appSecret\" rows=\"1\" required></textarea>\n                                        <tb-copy-button\n                                          matSuffix\n                                          color=\"primary\"\n                                          [copyText]=\"mobileInfo.get('appSecret').value\"\n                                          tooltipText=\"{{ 'admin.oauth2.copy-mobile-app-secret' | translate }}\"\n                                          tooltipPosition=\"above\"\n                                          mdiIcon=\"mdi:clipboard-arrow-left\">\n                                        </tb-copy-button>\n                                        <mat-error *ngIf=\"mobileInfo.get('appSecret').invalid\">\n                                          {{ 'admin.oauth2.invalid-mobile-app-secret' | translate }}\n                                        </mat-error>\n                                      </mat-form-field>\n                                    </div>\n                                  </div>\n                                  <div fxLayout=\"column\" fxLayoutAlign=\"center start\">\n                                    <button type=\"button\" mat-icon-button color=\"primary\"\n                                            (click)=\"removeMobileInfo($event, oauth2ParamsInfo, n)\"\n                                            matTooltip=\"{{ 'admin.oauth2.delete-mobile-app' | translate }}\"\n                                            matTooltipPosition=\"above\">\n                                      <mat-icon>close</mat-icon>\n                                    </button>\n                                  </div>\n                                </div>\n                              </section>\n                              <div fxLayout=\"row\" fxLayoutAlign=\"end center\" style=\"margin-bottom: 1.25em\">\n                                <button mat-button mat-raised-button color=\"primary\"\n                                        [disabled]=\"(isLoading$ | async)\"\n                                        (click)=\"addMobileInfo(oauth2ParamsInfo)\"\n                                        type=\"button\">\n                                  {{'admin.oauth2.add-mobile-app' | translate}}\n                                </button>\n                              </div>\n                            </ng-container>\n                          </mat-tab>\n                        </mat-tab-group>\n                        <div class=\"mat-h3\" translate>admin.oauth2.providers</div>\n                        <ng-container formArrayName=\"clientRegistrations\">\n                          <div class=\"container\">\n                            <mat-expansion-panel *ngFor=\"let registration of clientRegistrations(oauth2ParamsInfo).controls; let j = index; trackBy: trackByParams\"\n                              class=\"registration-card mat-elevation-z0\">\n                              <mat-expansion-panel-header>\n                                <mat-panel-title fxLayoutAlign=\"start center\">\n                                  {{ getProviderName(registration) }}\n                                </mat-panel-title>\n                                <mat-panel-description fxLayoutAlign=\"end center\">\n                                  <button mat-icon-button\n                                          type=\"button\"\n                                          [disabled]=\"clientRegistrations(oauth2ParamsInfo).controls.length < 2\"\n                                          (click)=\"deleteRegistration($event, oauth2ParamsInfo, j)\"\n                                          matTooltip=\"{{ 'admin.oauth2.delete-provider' | translate }}\"\n                                          matTooltipPosition=\"above\">\n                                    <mat-icon>delete</mat-icon>\n                                  </button>\n                                </mat-panel-description>\n                              </mat-expansion-panel-header>\n\n                              <ng-template matExpansionPanelContent>\n                                <section [formGroupName]=\"j\">\n                                  <div fxLayout=\"row\" fxLayout.xs=\"column\" fxLayoutGap.gt-xs=\"8px\">\n                                    <section fxFlex formGroupName=\"additionalInfo\" fxLayout=\"row\">\n                                      <mat-form-field fxFlex class=\"mat-block\">\n                                        <mat-label translate>admin.oauth2.login-provider</mat-label>\n                                        <mat-select formControlName=\"providerName\">\n                                          <mat-option *ngFor=\"let provider of templateProvider\" [value]=\"provider\">\n                                            {{ provider }}\n                                          </mat-option>\n                                        </mat-select>\n                                      </mat-form-field>\n                                      <div [tb-help]=\"getHelpLink(registration)\" *ngIf=\"!isCustomProvider(registration)\"></div>\n                                    </section>\n                                    <mat-form-field floatLabel=\"always\" fxFlex class=\"mat-block\">\n                                      <mat-label translate>admin.oauth2.allowed-platforms</mat-label>\n                                      <mat-select formControlName=\"platforms\" multiple placeholder=\"{{ 'admin.oauth2.all-platforms' | translate }}\">\n                                        <mat-option *ngFor=\"let platform of platformTypes\" [value]=\"platform\">\n                                          {{ platformTypeTranslations.get(platform) | translate }}\n                                        </mat-option>\n                                      </mat-select>\n                                    </mat-form-field>\n                                  </div>\n                                  <div fxLayout=\"row\" fxLayout.xs=\"column\" fxLayoutGap.gt-xs=\"8px\">\n                                    <mat-form-field fxFlex class=\"mat-block\">\n                                      <mat-label translate>admin.oauth2.client-id</mat-label>\n                                      <input matInput formControlName=\"clientId\" required>\n                                      <mat-error *ngIf=\"registration.get('clientId').hasError('required')\">\n                                        {{ 'admin.oauth2.client-id-required' | translate }}\n                                      </mat-error>\n                                      <mat-error *ngIf=\"registration.get('clientId').hasError('maxlength')\">\n                                        {{ 'admin.oauth2.client-id-max-length' | translate }}\n                                      </mat-error>\n                                    </mat-form-field>\n\n                                    <mat-form-field fxFlex class=\"mat-block\">\n                                      <mat-label translate>admin.oauth2.client-secret</mat-label>\n                                      <input matInput formControlName=\"clientSecret\" required>\n                                      <mat-error *ngIf=\"registration.get('clientSecret').hasError('required')\">\n                                        {{ 'admin.oauth2.client-secret-required' | translate }}\n                                      </mat-error>\n                                      <mat-error *ngIf=\"registration.get('clientSecret').hasError('maxlength')\">\n                                        {{ 'admin.oauth2.client-secret-max-length' | translate }}\n                                      </mat-error>\n                                    </mat-form-field>\n                                  </div>\n\n                                  <mat-expansion-panel class=\"mat-elevation-z0 custom-settings\"\n                                                       [disabled]=\"isCustomProvider(registration)\"\n                                                       [expanded]=\"isCustomProvider(registration)\">\n                                    <mat-expansion-panel-header [fxHide]=\"isCustomProvider(registration)\">\n                                      <mat-panel-description fxLayoutAlign=\"end center\">\n                                        {{ 'admin.oauth2.custom-setting' | translate }}\n                                      </mat-panel-description>\n                                    </mat-expansion-panel-header>\n                                    <ng-template matExpansionPanelContent>\n                                      <mat-tab-group dynamicHeight>\n                                        <mat-tab label=\"{{ 'admin.oauth2.general' | translate }}\">\n                                          <div fxLayout=\"row\" fxLayout.xs=\"column\" fxLayoutGap.gt-xs=\"8px\" style=\"margin-top: 16px;\">\n                                            <mat-form-field fxFlex class=\"mat-block\">\n                                              <mat-label translate>admin.oauth2.access-token-uri</mat-label>\n                                              <input matInput formControlName=\"accessTokenUri\" required>\n                                              <button mat-icon-button matSuffix\n                                                      type=\"button\"\n                                                      (click)=\"toggleEditMode(registration, 'accessTokenUri')\"\n                                                      *ngIf=\"!isCustomProvider(registration)\">\n                                                <mat-icon class=\"material-icons\">create</mat-icon>\n                                              </button>\n                                              <mat-error *ngIf=\"registration.get('accessTokenUri').hasError('required')\">\n                                                {{ 'admin.oauth2.access-token-uri-required' | translate }}\n                                              </mat-error>\n                                              <mat-error *ngIf=\"registration.get('accessTokenUri').hasError('pattern')\">\n                                                {{ 'admin.oauth2.uri-pattern-error' | translate }}\n                                              </mat-error>\n                                            </mat-form-field>\n\n                                            <mat-form-field fxFlex class=\"mat-block\">\n                                              <mat-label translate>admin.oauth2.authorization-uri</mat-label>\n                                              <input matInput formControlName=\"authorizationUri\" required>\n                                              <button mat-icon-button matSuffix\n                                                      type=\"button\"\n                                                      (click)=\"toggleEditMode(registration, 'authorizationUri')\"\n                                                      *ngIf=\"!isCustomProvider(registration)\">\n                                                <mat-icon class=\"material-icons\">create</mat-icon>\n                                              </button>\n                                              <mat-error *ngIf=\"registration.get('authorizationUri').hasError('required')\">\n                                                {{ 'admin.oauth2.authorization-uri-required' | translate }}\n                                              </mat-error>\n                                              <mat-error *ngIf=\"registration.get('authorizationUri').hasError('pattern')\">\n                                                {{ 'admin.oauth2.uri-pattern-error' | translate }}\n                                              </mat-error>\n                                            </mat-form-field>\n                                          </div>\n\n                                          <div fxLayout=\"row\" fxLayout.xs=\"column\" fxLayoutGap.gt-xs=\"8px\">\n                                            <mat-form-field fxFlex class=\"mat-block\" appearance=\"legacy\">\n                                              <mat-label translate>admin.oauth2.jwk-set-uri</mat-label>\n                                              <input matInput formControlName=\"jwkSetUri\">\n                                              <button mat-icon-button matSuffix\n                                                      type=\"button\" aria-label=\"Clear\"\n                                                      (click)=\"toggleEditMode(registration, 'jwkSetUri')\"\n                                                      *ngIf=\"!isCustomProvider(registration)\">\n                                                <mat-icon class=\"material-icons\">create</mat-icon>\n                                              </button>\n                                              <mat-error *ngIf=\"registration.get('jwkSetUri').hasError('pattern')\">\n                                                {{ 'admin.oauth2.uri-pattern-error' | translate }}\n                                              </mat-error>\n                                            </mat-form-field>\n\n                                            <mat-form-field fxFlex class=\"mat-block\">\n                                              <mat-label translate>admin.oauth2.user-info-uri</mat-label>\n                                              <input matInput formControlName=\"userInfoUri\">\n                                              <button mat-icon-button matSuffix\n                                                      type=\"button\"\n                                                      (click)=\"toggleEditMode(registration, 'userInfoUri')\"\n                                                      *ngIf=\"!isCustomProvider(registration)\">\n                                                <mat-icon class=\"material-icons\">create</mat-icon>\n                                              </button>\n                                              <mat-error *ngIf=\"registration.get('userInfoUri').hasError('pattern')\">\n                                                {{ 'admin.oauth2.uri-pattern-error' | translate }}\n                                              </mat-error>\n                                            </mat-form-field>\n                                          </div>\n\n                                          <mat-form-field fxFlex class=\"mat-block\">\n                                            <mat-label translate>admin.oauth2.client-authentication-method</mat-label>\n                                            <mat-select formControlName=\"clientAuthenticationMethod\">\n                                              <mat-option *ngFor=\"let clientAuthenticationMethod of clientAuthenticationMethods\"\n                                                [value]=\"clientAuthenticationMethod\">\n                                                {{ clientAuthenticationMethod | uppercase }}\n                                              </mat-option>\n                                            </mat-select>\n                                          </mat-form-field>\n\n                                          <div fxLayout=\"row\" fxLayout.xs=\"column\" fxLayoutGap.gt-xs=\"8px\" *ngIf=\"isCustomProvider(registration)\">\n                                            <mat-form-field fxFlex class=\"mat-block\" floatLabel=\"always\">\n                                              <mat-label translate>admin.oauth2.login-button-label</mat-label>\n                                              <input matInput formControlName=\"loginButtonLabel\"\n                                                     placeholder=\"{{ 'admin.oauth2.login-button-label-placeholder' | translate }}\"\n                                                     required>\n                                              <mat-error *ngIf=\"registration.get('loginButtonLabel').hasError('required')\">\n                                                {{ 'admin.oauth2.login-button-label-required' | translate }}\n                                              </mat-error>\n                                            </mat-form-field>\n\n                                            <mat-form-field fxFlex class=\"mat-block\">\n                                              <mat-label translate>admin.oauth2.login-button-icon</mat-label>\n                                              <input matInput formControlName=\"loginButtonIcon\">\n                                            </mat-form-field>\n                                          </div>\n\n                                          <section formGroupName=\"mapperConfig\">\n                                            <div fxLayout=\"column\" fxLayoutGap=\"8px\" style=\"margin-bottom: 8px;\">\n                                              <mat-checkbox formControlName=\"allowUserCreation\">\n                                                {{ 'admin.oauth2.allow-user-creation' | translate }}\n                                              </mat-checkbox>\n                                              <mat-checkbox formControlName=\"activateUser\">\n                                                {{ 'admin.oauth2.activate-user' | translate }}\n                                              </mat-checkbox>\n                                            </div>\n                                          </section>\n\n                                          <mat-form-field fxFlex class=\"mat-block\">\n                                            <mat-label translate>admin.oauth2.scope</mat-label>\n                                            <mat-chip-list #scopeList>\n                                              <mat-chip *ngFor=\"let scope of registration.get('scope').value; let k = index; trackBy: trackByParams\"\n                                                removable (removed)=\"removeScope(k, registration)\">\n                                                {{scope}}\n                                                <mat-icon matChipRemove>cancel</mat-icon>\n                                              </mat-chip>\n                                              <input [matChipInputFor]=\"scopeList\"\n                                                     [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\"\n                                                     matChipInputAddOnBlur\n                                                     (matChipInputTokenEnd)=\"addScope($event, registration)\">\n                                            </mat-chip-list>\n                                            <mat-error *ngIf=\"registration.get('scope').hasError('required')\">\n                                              {{ 'admin.oauth2.scope-required' | translate }}\n                                            </mat-error>\n                                          </mat-form-field>\n                                          <tb-error style=\"display: block; margin-top: -24px;\"\n                                                    [error]=\"registration.get('scope').hasError('required')\n                                                      ? ('admin.oauth2.scope-required' | translate) : ''\">\n                                          </tb-error>\n\n                                        </mat-tab>\n                                        <mat-tab label=\"{{ 'admin.oauth2.mapper' | translate }}\">\n                                          <mat-form-field class=\"mat-block\" style=\"margin-top: 16px;\">\n                                            <mat-label translate>admin.oauth2.user-name-attribute-name</mat-label>\n                                            <input matInput formControlName=\"userNameAttributeName\" required>\n                                            <mat-error\n                                              *ngIf=\"registration.get('userNameAttributeName').hasError('required')\">\n                                              {{ 'admin.oauth2.user-name-attribute-name-required' | translate }}\n                                            </mat-error>\n                                          </mat-form-field>\n\n                                          <section formGroupName=\"mapperConfig\">\n                                            <mat-form-field fxFlex class=\"mat-block\">\n                                              <mat-label translate>admin.oauth2.type</mat-label>\n                                              <mat-select formControlName=\"type\">\n                                                <mat-option *ngFor=\"let mapperConfigType of mapperConfigTypes\"\n                                                  [value]=\"mapperConfigType\">\n                                                  {{ mapperConfigType }}\n                                                </mat-option>\n                                              </mat-select>\n                                            </mat-form-field>\n\n                                            <section formGroupName=\"basic\"\n                                                     *ngIf=\"registration.get('mapperConfig.type').value !== mapperConfigType.CUSTOM\">\n                                              <mat-form-field class=\"mat-block\"\n                                                              *ngIf=\"registration.get('mapperConfig.type').value !== mapperConfigType.GITHUB\">\n                                                <mat-label translate>admin.oauth2.email-attribute-key</mat-label>\n                                                <input matInput formControlName=\"emailAttributeKey\" required>\n                                                <mat-error\n                                                  *ngIf=\"registration.get('mapperConfig.basic.emailAttributeKey').hasError('required')\">\n                                                  {{ 'admin.oauth2.email-attribute-key-required' | translate }}\n                                                </mat-error>\n                                                <mat-error\n                                                  *ngIf=\"registration.get('mapperConfig.basic.emailAttributeKey').hasError('maxlength')\">\n                                                  {{ 'admin.oauth2.email-attribute-key-max-length' | translate }}\n                                                </mat-error>\n                                              </mat-form-field>\n\n                                              <div fxLayout=\"row\" fxLayout.xs=\"column\" fxLayoutGap.gt-xs=\"8px\">\n                                                <mat-form-field fxFlex class=\"mat-block\">\n                                                  <mat-label translate>admin.oauth2.first-name-attribute-key</mat-label>\n                                                  <input matInput formControlName=\"firstNameAttributeKey\">\n                                                  <mat-error\n                                                    *ngIf=\"registration.get('mapperConfig.basic.firstNameAttributeKey').hasError('maxlength')\">\n                                                    {{ 'admin.oauth2.first-name-attribute-key-max-length' | translate }}\n                                                  </mat-error>\n                                                </mat-form-field>\n\n                                                <mat-form-field fxFlex class=\"mat-block\">\n                                                  <mat-label translate>admin.oauth2.last-name-attribute-key</mat-label>\n                                                  <input matInput formControlName=\"lastNameAttributeKey\">\n                                                  <mat-error\n                                                    *ngIf=\"registration.get('mapperConfig.basic.lastNameAttributeKey').hasError('maxlength')\">\n                                                    {{ 'admin.oauth2.last-name-attribute-key-max-length' | translate }}\n                                                  </mat-error>\n                                                </mat-form-field>\n                                              </div>\n\n                                              <div fxLayout=\"row\" fxLayout.xs=\"column\" fxLayoutGap.gt-xs=\"8px\">\n                                                <mat-form-field fxFlex class=\"mat-block\">\n                                                  <mat-label translate>admin.oauth2.tenant-name-strategy</mat-label>\n                                                  <mat-select formControlName=\"tenantNameStrategy\">\n                                                    <mat-option *ngFor=\"let tenantNameStrategy of tenantNameStrategies\"\n                                                                [value]=\"tenantNameStrategy\">\n                                                      {{ tenantNameStrategy }}\n                                                    </mat-option>\n                                                  </mat-select>\n                                                </mat-form-field>\n\n                                                <mat-form-field fxFlex class=\"mat-block\" [fxShow]=\"registration.get('mapperConfig.basic.tenantNameStrategy').value === 'CUSTOM'\">\n                                                  <mat-label translate>admin.oauth2.tenant-name-pattern</mat-label>\n                                                  <input matInput\n                                                         formControlName=\"tenantNamePattern\"\n                                                         [required]=\"registration.get('mapperConfig.basic.tenantNameStrategy').value === 'CUSTOM'\">\n                                                  <mat-error\n                                                    *ngIf=\"registration.get('mapperConfig.basic.tenantNamePattern').hasError('required')\">\n                                                    {{ 'admin.oauth2.tenant-name-pattern-required' | translate }}\n                                                  </mat-error>\n                                                  <mat-error\n                                                    *ngIf=\"registration.get('mapperConfig.basic.tenantNamePattern').hasError('maxlength')\">\n                                                    {{ 'admin.oauth2.tenant-name-pattern-max-length' | translate }}\n                                                  </mat-error>\n                                                </mat-form-field>\n                                              </div>\n\n                                              <mat-form-field fxFlex class=\"mat-block\">\n                                                <mat-label translate>admin.oauth2.customer-name-pattern</mat-label>\n                                                <input matInput formControlName=\"customerNamePattern\">\n                                                <mat-error\n                                                  *ngIf=\"registration.get('mapperConfig.basic.customerNamePattern').hasError('maxlength')\">\n                                                  {{ 'admin.oauth2.customer-name-pattern-max-length' | translate }}\n                                                </mat-error>\n                                              </mat-form-field>\n\n                                              <div fxLayout=\"row\" fxLayout.xs=\"column\" fxLayoutGap.gt-xs=\"8px\">\n                                                <mat-form-field fxFlex class=\"mat-block\">\n                                                  <mat-label translate>admin.oauth2.default-dashboard-name</mat-label>\n                                                  <input matInput formControlName=\"defaultDashboardName\">\n                                                  <mat-error\n                                                    *ngIf=\"registration.get('mapperConfig.basic.defaultDashboardName').hasError('maxlength')\">\n                                                    {{ 'admin.oauth2.default-dashboard-name-max-length' | translate }}\n                                                  </mat-error>\n                                                </mat-form-field>\n\n                                                <mat-checkbox fxFlex formControlName=\"alwaysFullScreen\" class=\"checkbox-row\">\n                                                  {{ 'admin.oauth2.always-fullscreen' | translate}}\n                                                </mat-checkbox>\n                                              </div>\n                                            </section>\n\n                                            <section formGroupName=\"custom\"\n                                                     *ngIf=\"registration.get('mapperConfig.type').value === mapperConfigType.CUSTOM\">\n                                              <mat-form-field class=\"mat-block\">\n                                                <mat-label translate>admin.oauth2.url</mat-label>\n                                                <input matInput formControlName=\"url\" required>\n                                                <mat-error\n                                                  *ngIf=\"registration.get('mapperConfig.custom.url').hasError('required')\">\n                                                  {{ 'admin.oauth2.url-required' | translate }}\n                                                </mat-error>\n                                                <mat-error\n                                                  *ngIf=\"registration.get('mapperConfig.custom.url').hasError('pattern')\">\n                                                  {{ 'admin.oauth2.url-pattern' | translate }}\n                                                </mat-error>\n                                                <mat-error\n                                                  *ngIf=\"registration.get('mapperConfig.custom.url').hasError('maxlength')\">\n                                                  {{ 'admin.oauth2.url-max-length' | translate }}\n                                                </mat-error>\n                                              </mat-form-field>\n\n                                              <div fxLayout=\"row\" fxLayout.xs=\"column\" fxLayoutGap.gt-xs=\"8px\">\n                                                <mat-form-field fxFlex class=\"mat-block\">\n                                                  <mat-label translate>common.username</mat-label>\n                                                  <input matInput formControlName=\"username\" autocomplete=\"new-username\">\n                                                  <mat-error *ngIf=\"registration.get('mapperConfig.custom.username').hasError('maxlength')\">\n                                                    {{ 'admin.oauth2.username-max-length' | translate }}\n                                                  </mat-error>\n                                                </mat-form-field>\n\n                                                <mat-form-field fxFlex class=\"mat-block\">\n                                                  <mat-label translate>common.password</mat-label>\n                                                  <input matInput type=\"password\" formControlName=\"password\" autocomplete=\"new-password\">\n                                                  <tb-toggle-password matSuffix></tb-toggle-password>\n                                                  <mat-error *ngIf=\"registration.get('mapperConfig.custom.password').hasError('maxlength')\">\n                                                    {{ 'admin.oauth2.password-max-length' | translate }}\n                                                  </mat-error>\n                                                </mat-form-field>\n                                              </div>\n                                            </section>\n                                          </section>\n                                        </mat-tab>\n                                      </mat-tab-group>\n                                    </ng-template>\n                                  </mat-expansion-panel>\n\n                                </section>\n                              </ng-template>\n                            </mat-expansion-panel>\n                          </div>\n                        </ng-container>\n\n                        <div fxLayout=\"row\" fxLayoutAlign=\"end center\" fxLayoutGap=\"8px\">\n                          <button mat-button mat-raised-button color=\"primary\"\n                                  [disabled]=\"(isLoading$ | async)\"\n                                  (click)=\"addRegistration(oauth2ParamsInfo)\"\n                                  type=\"button\">\n                            {{'admin.oauth2.add-provider' | translate}}\n                          </button>\n                        </div>\n                      </ng-template>\n\n                    </mat-expansion-panel>\n                  </ng-container>\n                </mat-accordion>\n              </div>\n            </ng-container>\n          </section>\n        </fieldset>\n        <div fxLayout=\"row\" fxLayoutAlign=\"end center\" fxLayoutGap=\"8px\">\n          <button type=\"button\" mat-raised-button color=\"primary\"\n                  [disabled]=\"isLoading$ | async\"\n                  *ngIf=\"oauth2SettingsForm.get('enabled').value\"\n                  (click)=\"addOAuth2ParamsInfo()\">\n            <mat-icon>add</mat-icon>\n            <span translate>action.add</span>\n          </button>\n          <button mat-button mat-raised-button color=\"primary\"\n                  [disabled]=\"(isLoading$ | async) || oauth2SettingsForm.invalid || !oauth2SettingsForm.dirty\"\n                  type=\"submit\">\n            {{'action.save' | translate}}\n          </button>\n        </div>\n      </form>\n    </mat-card-content>\n  </mat-card>\n</div>\n","///\n/// Copyright © 2016-2021 The Thingsboard Authors\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///     http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n///\n\nimport { Component, Inject, OnInit } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { Store } from '@ngrx/store';\nimport { AppState } from '@core/core.state';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { DialogComponent } from '@shared/components/dialog.component';\nimport { Router } from '@angular/router';\nimport { phoneNumberPattern, SmsProviderConfiguration, TestSmsRequest } from '@shared/models/settings.models';\nimport { AdminService } from '@core/http/admin.service';\nimport { ActionNotificationShow } from '@core/notification/notification.actions';\nimport { TranslateService } from '@ngx-translate/core';\n\nexport interface SendTestSmsDialogData {\n  smsProviderConfiguration: SmsProviderConfiguration;\n}\n\n@Component({\n  selector: 'tb-send-test-sms-dialog',\n  templateUrl: './send-test-sms-dialog.component.html',\n  styleUrls: []\n})\nexport class SendTestSmsDialogComponent extends\n  DialogComponent<SendTestSmsDialogComponent> implements OnInit {\n\n  phoneNumberPattern = phoneNumberPattern;\n\n  sendTestSmsFormGroup: FormGroup;\n\n  smsProviderConfiguration = this.data.smsProviderConfiguration;\n\n  constructor(protected store: Store<AppState>,\n              protected router: Router,\n              @Inject(MAT_DIALOG_DATA) public data: SendTestSmsDialogData,\n              private adminService: AdminService,\n              private translate: TranslateService,\n              public dialogRef: MatDialogRef<SendTestSmsDialogComponent>,\n              public fb: FormBuilder) {\n    super(store, router, dialogRef);\n  }\n\n  ngOnInit(): void {\n    this.sendTestSmsFormGroup = this.fb.group({\n      numberTo: [null, [Validators.required, Validators.pattern(phoneNumberPattern)]],\n      message: [null, [Validators.required, Validators.maxLength(1600)]]\n    });\n  }\n\n  close(): void {\n    this.dialogRef.close();\n  }\n\n  sendTestSms(): void {\n    const request: TestSmsRequest =  {\n      providerConfiguration: this.smsProviderConfiguration,\n      numberTo: this.sendTestSmsFormGroup.value.numberTo,\n      message: this.sendTestSmsFormGroup.value.message\n    };\n    this.adminService.sendTestSms(request).subscribe(\n      () => {\n        this.store.dispatch(new ActionNotificationShow(\n          {\n            message: this.translate.instant('admin.test-sms-sent'),\n            target: 'sendTestSmsDialogContent',\n            verticalPosition: 'bottom',\n            horizontalPosition: 'left',\n            type: 'success'\n          }));\n      }\n    );\n  }\n}\n","<!--\n\n    Copyright © 2016-2021 The Thingsboard Authors\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<form [formGroup]=\"sendTestSmsFormGroup\" style=\"min-width: 500px; position: relative;\">\n  <mat-toolbar color=\"primary\">\n    <h2 translate>admin.send-test-sms</h2>\n    <span fxFlex></span>\n    <button mat-icon-button\n            (click)=\"close()\"\n            type=\"button\">\n      <mat-icon class=\"material-icons\">close</mat-icon>\n    </button>\n  </mat-toolbar>\n  <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n  </mat-progress-bar>\n  <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n  <div mat-dialog-content tb-toast toastTarget=\"sendTestSmsDialogContent\">\n    <fieldset [disabled]=\"(isLoading$ | async)\">\n      <mat-form-field class=\"mat-block\">\n        <mat-label translate>admin.number-to</mat-label>\n        <input type=\"tel\" required [pattern]=\"phoneNumberPattern\" matInput formControlName=\"numberTo\">\n        <mat-error *ngIf=\"sendTestSmsFormGroup.get('numberTo').hasError('required')\">\n          {{ 'admin.number-to-required' | translate }}\n        </mat-error>\n        <mat-error *ngIf=\"sendTestSmsFormGroup.get('numberTo').hasError('pattern')\">\n          {{ 'admin.phone-number-pattern' | translate }}\n        </mat-error>\n        <mat-hint innerHTML=\"{{ 'admin.phone-number-hint' | translate }}\"></mat-hint>\n      </mat-form-field>\n      <mat-form-field class=\"mat-block\">\n        <mat-label translate>admin.sms-message</mat-label>\n        <textarea required matInput rows=\"3\" [maxLength]=\"1600\" formControlName=\"message\"></textarea>\n        <mat-error *ngIf=\"sendTestSmsFormGroup.get('message').hasError('required')\">\n          {{ 'admin.sms-message-required' | translate }}\n        </mat-error>\n        <mat-error *ngIf=\"sendTestSmsFormGroup.get('message').hasError('maxLength')\">\n          {{ 'admin.sms-message-max-length' | translate }}\n        </mat-error>\n      </mat-form-field>\n    </fieldset>\n  </div>\n  <div mat-dialog-actions fxLayoutAlign=\"end center\">\n    <button mat-button color=\"primary\"\n            type=\"button\"\n            [disabled]=\"(isLoading$ | async)\"\n            (click)=\"close()\" cdkFocusInitial>\n      {{ 'action.close' | translate }}\n    </button>\n    <button mat-raised-button color=\"primary\"\n            type=\"button\"\n            (click)=\"sendTestSms()\"\n            [disabled]=\"(isLoading$ | async) || sendTestSmsFormGroup.invalid\">\n      {{ 'admin.send-test-sms' | translate }}\n    </button>\n  </div>\n</form>\n"],"sourceRoot":"webpack:///"}